<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>gpv config - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="gpv-config"><a class="header" href="#gpv-config">gpv config</a></h1>
<p>Manage the configuration of a SynxDB on vSphere cluster.</p>
<h2 id="synopsis"><a class="header" href="#synopsis"><a id="section2"></a>Synopsis</a></h2>
<pre><code>gpv config init [&lt;file_name&gt;]
gpv config list
gpv config set &lt;options&gt;
</code></pre>
<h2 id="description"><a class="header" href="#description"><a id="section3"></a>Description</a></h2>
<p>The <code>gpv config</code> command allows you to configure a SynxDB cluster on VMware vSphere, import an external configuration, and list the current configuration.</p>
<h2 id="required-inputs"><a class="header" href="#required-inputs"><a id="info"></a>Required Inputs</a></h2>
<p>The following table lists all the information you require in order to configure the a base virtual machine template using the <code>gpv</code> utility. Be sure you have this information available before you start with the configuration.</p>
<div class="table-wrapper"><table><thead><tr><th>Configuration</th><th>Description</th></tr></thead><tbody>
<tr><td><strong>vSphere</strong></td><td><strong>Configuration parameters for vSphere</strong></td></tr>
<tr><td>vSphere admin username</td><td>An administrator account with enough permissions to deploy the SynxDB cluster</td></tr>
<tr><td>vSphere admin password</td><td>The password for the administrator account</td></tr>
<tr><td>vCenter address</td><td>The FQDN or IP address of the vCenter (do not include <code>https://</code>)</td></tr>
<tr><td>Datacenter name</td><td>The virtual data center name</td></tr>
<tr><td>Compute cluster name</td><td>The virtual compute cluster name</td></tr>
<tr><td>Storage type</td><td>The storage provider type (<code>powerflex</code> or <code>vsan</code>)</td></tr>
<tr><td>Storage name</td><td>The datastore name for this deployment</td></tr>
<tr><td>Storage policy</td><td>The storage policy name</td></tr>
<tr><td>vSphere distributed switch MTU size</td><td>The Maximum Transmission Unit (MTU) configured for the vSphere distributed switch*</td></tr>
<tr><td><strong>Database</strong></td><td><strong>Configuration parameters for SynxDB</strong></td></tr>
<tr><td>Deployment type</td><td>SynxDB deployment type (<code>mirrored</code> or <code>mirrorless</code>)</td></tr>
<tr><td>SynxDB database cluster prefix</td><td>Prefix to prepend to the resource pool and virtual machine names. Default is <code>gpv</code></td></tr>
<tr><td><strong>Base-vm</strong></td><td><strong>Configuration parameters for the base virtual machine</strong></td></tr>
<tr><td>Base VM network type</td><td>Available options are <code>dhcp</code> or <code>static</code> IP for the <strong>base virtual machine only</strong>. <br/> - For <code>dhcp</code>, the DHCP server assigns the network settings <br/> - For <code>static</code> IP, you must specify the virtual machine IP, the gateway IP, and the netmask</td></tr>
<tr><td>Base VM IP</td><td>The IP to use if the network type is <code>static</code></td></tr>
<tr><td>Base VM gateway IP</td><td>The gateway to use if the network type is <code>static</code></td></tr>
<tr><td>Base VM netmask</td><td>The Netmask to use if the network type is <code>static</code></td></tr>
<tr><td><strong>gp-virtual-external</strong></td><td><strong>Configuration parameters for the routable network</strong></td></tr>
<tr><td>gp-virtual-external CIDR</td><td>The Classless Inter-Domain Routing (CIDR) of the routable network connected to the <code>mdw</code> and <code>smdw</code> virtual machines to provide the SynxDB database service to the user clients</td></tr>
<tr><td>gp-virtual-external available IPs</td><td>The space separated IP addresses used for <code>mdw</code> and <code>smdw</code>. The second IP (for <code>smdw</code>) is only required for <code>mirrored</code> deployment.</td></tr>
<tr><td>gp-virtual-external DNS servers</td><td>Space separated IP addresses of the DNS servers on the routable network</td></tr>
<tr><td>gp-virtual-external NTP servers</td><td>Space separated addresses of the NTP servers</td></tr>
<tr><td>gp-virtual-external gateway IP</td><td>The gateway IP address</td></tr>
<tr><td><strong>gp-virtual-internal</strong></td><td><strong>Configuration parameters for the SynxDB internal network</strong></td></tr>
<tr><td>gp-virtual-internal CIDR</td><td>The internal network The Classless Inter-Domain Routing (CIDR) for the interconnect communications between SynxDB virtual machines</td></tr>
<tr><td><strong>gp-virtual-etl-bar</strong></td><td><strong>Configuration parameters for the ETL-BAR network</strong></td></tr>
<tr><td>gp-virtual-etl-bar CIDR</td><td>The network The Classless Inter-Domain Routing (CIDR) for Extraction Transformation Load (<code>etl</code>) and/or Backup and Restore (<code>bar</code>) network. Usually this network is not routable to the database user clients, but routable to the backup or staging servers. This network allows access to all segments within the SynxDB cluster to ensure maximum throughput for heavy data movement workloads.</td></tr>
<tr><td><strong>Virtual machine options</strong></td><td><strong>Configuration parameters for the virtual machines</strong></td></tr>
<tr><td>base-VM-name</td><td>The name of the base virtual machine, provisioned in the next section</td></tr>
<tr><td>boot password for the root user</td><td>The password for the <code>root</code> user on the base virtual machine</td></tr>
<tr><td>boot password for the gpadmin user</td><td>The password for the <code>gpadmin</code> user on the base virtual machine. The <code>gpadmin</code> user is required for the SynxDB cluster initialization and management.</td></tr>
<tr><td>Number of primary segment VMs</td><td>The number of virtual machines for the primary segments. For <code>mirrored</code>, use <code>number of primary segments * 2 + 2</code>. For <code>mirrorless</code>, use <code>number of primary segments + 1</code>.</td></tr>
</tbody></table>
</div>
<p>*SynxDB performs best with jumbo frames. The recommended MTU is 9000 if the vSphere distributed switch supports it. If it is less than 9000, you must adjust the server configuration parameter <a href="../../ref_guide/config_params/guc-list.html#gp_max_packet_size">gp_max_packet_size</a> manually. See <a href="../../install_guide/prep_os.html#networking">Configuring Your Systems</a> for more information about MTU.</p>
<h2 id="sub-commands"><a class="header" href="#sub-commands"><a id="opts"></a>Sub-commands</a></h2>
<p>The available sub-commands for <code>gpv config</code> are <code>init</code>, <code>list</code>, and <code>set</code>.</p>
<h3 id="init"><a class="header" href="#init"><a id="init"></a>init</a></h3>
<p>Initialize a configuration interactively or import an external configuration from a file. The <code>gpv config init</code> command creates the configuration for deploying a SynxDB cluster. You may speficy the configuration parameters entering each value interactively, or from an existing configuration yaml file, <code>file_name</code>.</p>
<pre><code>gpv config init [&lt;file_name&gt;]
</code></pre>
<h4 id="examples"><a class="header" href="#examples"><a id="ex_init"></a>Examples</a></h4>
<p>Start a new configuration from scratch:</p>
<pre><code>gpv config init
</code></pre>
<p>Import an existing configuration from a file:</p>
<pre><code>gpv config init /tmp/config.yaml
</code></pre>
<h3 id="list"><a class="header" href="#list"><a id="list"></a>list</a></h3>
<p>List the current configuration settings. The <code>gpv config list</code> command displays the current configuration for deploying SynxDB on vSphere.</p>
<h3 id="set"><a class="header" href="#set"><a id="set"></a>set</a></h3>
<p>Set an individual configuration setting.</p>
<pre><code>gpv config set database &lt;setting&gt;
gpv config set network base-vm &lt;setting&gt;
gpv config set network gp-virtual-etl-bar &lt;setting&gt;
gpv config set network gp-virtual-external &lt;setting&gt;
gpv config set network gp-virtual-internal &lt;setting&gt;
gpv config set vm &lt;setting&gt;
gpv config set vsphere &lt;setting&gt;
</code></pre>
<p>The available options for <code>gpv config set</code> are:</p>
<h4 id="database"><a class="header" href="#database"><a id="database"></a>database</a></h4>
<p>Configure the settings for the SynxDB.</p>
<pre><code>gpv config set database &lt;setting&gt;
</code></pre>
<p>Where <code>setting</code> can be one of the following:</p>
<p>deployment-type &lt;type_name&gt;
Specifies whether the SynxDB deployment uses mirror segments or not. Valid values of <code>&lt;type_name&gt;</code> include <code>mirrored</code> and <code>mirrorless</code>. For example: <code>gpv config set database deployment-type mirrored</code>.</p>
<p>prefix &lt;prefix_name&gt;
Specifies a label which serves as a prefix for the names of the resource pool and the virtual machines in the SynxDB cluster. For example, <code>gpv config set database prefix gpdb</code> prepends <code>gpdb</code> to virtual machines and resource pool names.</p>
<h4 id="network-base-vm"><a class="header" href="#network-base-vm"><a id="network-base"></a>network base-vm</a></h4>
<p>Configure the network settings for the base virtual machine</p>
<pre><code>gpv config set network base-vm &lt;setting&gt;
</code></pre>
<p>Where <code>setting</code> can be one of the following:</p>
<ul>
<li><code>gateway-ip &lt;IP&gt;</code>: Set the gateway IP address for the base virtual machine when <code>network-type</code> is set to <code>static</code>. For example: <code>gpv config set network base-vm gateway-ip 10.0.0.1</code></li>
<li><code>ip &lt;IP&gt;</code>: Set the static IP address for the base virtual machine when <code>network-type</code> is set to <code>static</code>. For example: <code>gpv config set network base-vm ip 10.0.0.5</code>.</li>
<li><code>netmask &lt;NETMASK&gt;</code>: Set the netmask for the base virtual machine when network-type is set to <code>static</code>. For example: <code>gpv config set network base-vm netmask 255.255.255.0</code>.</li>
<li><code>network-type &lt;TYPE&gt;</code>: Set the network type for base virtual machine. The possible values are <code>static</code> and <code>dhcp</code>. For example: <code>gpv config set network base-vm network-type dhcp</code>.</li>
</ul>
<h4 id="network-gp-virtual-etl-bar"><a class="header" href="#network-gp-virtual-etl-bar"><a id="network-etl"></a>network gp-virtual-etl-bar</a></h4>
<p>Configure the network settings for the ETL, backup and restore traffic.</p>
<pre><code>gpv config set network gp-virtual-etl-bar cidr &lt;CIDR&gt;
</code></pre>
<p>Set the Classless Inter-Domain Routing (CIDR) for the <code>gp-virtual-etl-bar</code> network. For example: <code>gpv config set network gp-virtual-etl-bar cidr 192.168.2.1/24</code>.</p>
<h4 id="network-gp-virtual-external"><a class="header" href="#network-gp-virtual-external"><a id="network-external"></a>network gp-virtual-external</a></h4>
<p>Configure the network settings for the routable network for SynxDB clients.</p>
<pre><code>gpv config set network gp-virtual-external &lt;setting&gt;
</code></pre>
<p>Where <code>setting</code> can be one of the following:</p>
<ul>
<li><code>cidr &lt;CIDR&gt;</code>: Set the CIDR for the <code>gp-virtual-external</code> network. For example: <code>gpv config set network gp-virtual-external cidr 10.0.1.1/24</code>.</li>
<li><code>dns-servers &lt;DNS server1&gt; &lt;DNS server 2&gt;</code>: Set the DNS servers of the <code>gp-virtual-external</code> network. For example: <code>gpv config set network gp-virtual-external dns-servers 8.8.8.8 8.8.4.4</code>.</li>
<li><code>gateway-ip &lt;IP&gt;</code>: Set the gateway IP of the <code>gp-virtual-external</code> network. For example: <code>gpv config set network gp-virtual-external gateway-ip 10.0.1.1</code>.</li>
<li><code>ips &lt;IP1&gt; &lt;IP2&gt;</code>: Set the static IPs of the <code>gp-virtual-external</code> network. If the SynxDB deployment type is <code>mirrorless</code>, you only need one IP address. If the SynxDB deployment type is <code>mirrored</code>, you need two IP addresses. For example: <code>gpv config set network gp-virtual-external ips 10.0.1.2 10.0.1.3</code>.</li>
<li><code>ntp-servers &lt;NTP server1&gt; &lt;NTP server2&gt;</code>: Set the NTP servers of the <code>gp-virtual-external</code> network. For example: <code>gpv config set network gp-virtual-external ntp-servers time.example1.com time.example2.com</code>.</li>
</ul>
<h4 id="network-gp-virtual-internal"><a class="header" href="#network-gp-virtual-internal"><a id="network-internal"></a>network gp-virtual-internal</a></h4>
<p>Configure the network settings for the internal communications network among SynxDB virtual machines.</p>
<pre><code>gpv config set network gp-virtual-internal cidr &lt;CIDR&gt;
</code></pre>
<p>Set the CIDR to be used by the <code>gp-virtual-internal</code> network. For example: <code>gpv config set network gp-virtual-internal cidr 192.168.2.1/24</code>.</p>
<h4 id="vm"><a class="header" href="#vm"><a id="vm"></a>vm</a></h4>
<p>Configure individual settings for all virtual machines in the cluster.</p>
<pre><code>gpv config set vm &lt;setting&gt;
</code></pre>
<p>Where <code>setting</code> can be one of the following:</p>
<p>base-name &lt;base_VM_name&gt;
Set the name of the base virtual machine to use during configuring and deploying SynxDB on vSphere.</p>
<p>gpadmin-password
Set the guest operating system password for <code>gpadmin</code> user. The utility prompts you to enter a password when you enter this command.</p>
<p>primary-segment-vm-count &lt;number_of_segment_vms&gt;
Set the number of virtual machines to house primary segments. For example: <code>gpv config set vm primary-segment-vm-count 64</code>.</p>
<p>root-password
Set the guest operating system password for <code>root</code> user. The utility prompts you to enter a password when you enter this command.</p>
<h4 id="vsphere"><a class="header" href="#vsphere"><a id="vsphere"></a>vsphere</a></h4>
<p>Configure the settings for vSphere.</p>
<pre><code>gpv config set vsphere &lt;setting&gt;
</code></pre>
<p>Where <code>setting</code> can be one of the following:</p>
<p>admin-password
Set the password for the vCenter administrator. The utility prompts you to enter a password when you enter this command.</p>
<p>admin-username &lt;user_name&gt;
Set the username of the vCenter administrator.</p>
<p>compute-cluster-name &lt;compute_cluster_name&gt;
Set the name of the compute cluster to use.</p>
<p>datacenter-name &lt;datacenter_name&gt;
Set the name of the datacenter to use.</p>
<p>storage-name &lt;storage_name&gt;
Set the name of the vSphere datastore or datastore cluster. Specify the name of the storage layer to use within vCenter. For vSAN, specify the datastore name; for Dell PowerFlex, specify the datastore cluster name.</p>
<p>storage-policy &lt;storage_policy&gt;
Set the virtual machine storage policy for the storage layer, if applicable. This setting is required for vSAN only. When specifying the policy, ensure that it is surrounded by quotation marks if the policy’s name contains whitespace. For example: <code>gpv config set vsphere storage-policy "this policy contains spaces"</code>.</p>
<p>storage-type &lt;storage_type&gt;
Set the type of storage layer to use. Possible values are <code>powerflex</code> and <code>vsan</code>.</p>
<p>vcenter-address &lt;vcenter_address&gt;
Set the address of the target vCenter. Do not include the protocol prefix in the address (http://, https://). For example: <code>gpv config set vsphere vcenter-address gp.vcenter.example.com</code>.</p>
<p>vsphere-distributed-switch-mtu &lt;mtu_size&gt;
Specify the Maximum Transfer Unit (MTU) for the vSphere distributed switch, in bytes. Valid values range from 1500 to 9000.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../utility_guide/ref/gpv-base.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../utility_guide/ref/gpv-greenplum.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../utility_guide/ref/gpv-base.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../utility_guide/ref/gpv-greenplum.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
