<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>gplogfilter - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="gplogfilter"><a class="header" href="#gplogfilter">gplogfilter</a></h1>
<p>Searches through SynxDB log files for specified entries.</p>
<h2 id="synopsis"><a class="header" href="#synopsis"><a id="section2"></a>Synopsis</a></h2>
<pre><code>gplogfilter [&lt;timestamp_options&gt;] [&lt;pattern_options&gt;] 
     [&lt;output_options&gt;] [&lt;input_options&gt;] [&lt;input_file&gt;] 

gplogfilter --help 

gplogfilter --version
</code></pre>
<h2 id="description"><a class="header" href="#description"><a id="section3"></a>Description</a></h2>
<p>The <code>gplogfilter</code> utility can be used to search through a SynxDB log file for entries matching the specified criteria. If an input file is not supplied, then <code>gplogfilter</code> will use the <code>$MASTER_DATA_DIRECTORY</code> environment variable to locate the SynxDB master log file in the standard logging location. To read from standard input, use a dash (<code>-</code>) as the input file name. Input files may be compressed using <code>gzip</code>. In an input file, a log entry is identified by its timestamp in <code>YYYY-MM-DD [hh:mm[:ss]]</code> format.</p>
<p>You can also use <code>gplogfilter</code> to search through all segment log files at once by running it through the <a href="gpssh.html">gpssh</a> utility. For example, to display the last three lines of each segment log file:</p>
<pre><code>gpssh -f seg_host_file
=&gt; source /usr/local/synxdb/synxdb_path.sh
=&gt; gplogfilter -n 3 /gpdata/*/log/gpdb*.csv
</code></pre>
<p>By default, the output of <code>gplogfilter</code> is sent to standard output. Use the <code>-o</code> option to send the output to a file or a directory. If you supply an output file name ending in <code>.gz</code>, the output file will be compressed by default using maximum compression. If the output destination is a directory, the output file is given the same name as the input file.</p>
<h2 id="options"><a class="header" href="#options"><a id="section4"></a>Options</a></h2>
<p><strong>Timestamp Options</strong></p>
<h3 id="-b-datetime--begindatetime"><a class="header" href="#-b-datetime--begindatetime">-b datetime | –begin=datetime</a></h3>
<p>Specifies a starting date and time to begin searching for log entries in the format of <code>YYYY-MM-DD [hh:mm[:ss]]</code>.</p>
<p>If a time is specified, the date and time must be enclosed in either single or double quotes. This example encloses the date and time in single quotes:</p>
<pre><code>gplogfilter -b '2013-05-23 14:33'
</code></pre>
<h3 id="-e-datetime--enddatetime"><a class="header" href="#-e-datetime--enddatetime">-e datetime | –end=datetime</a></h3>
<p>Specifies an ending date and time to stop searching for log entries in the format of <code>YYYY-MM-DD [hh:mm[:ss]]</code>.</p>
<p>If a time is specified, the date and time must be enclosed in either single or double quotes. This example encloses the date and time in single quotes:</p>
<pre><code>gplogfilter -e '2013-05-23 14:33' 
</code></pre>
<h3 id="-dtime--durationtime"><a class="header" href="#-dtime--durationtime">-d&lt;time&gt; | –duration=&lt;time&gt;</a></h3>
<p>Specifies a time duration to search for log entries in the format of <code>[hh][:mm[:ss]]</code>. If used without either the <code>-b</code> or <code>-e</code> option, will use the current time as a basis.</p>
<p><strong>Pattern Matching Options</strong></p>
<h3 id="-c-i-gnore--r-espect--casei-gnore--r-espect"><a class="header" href="#-c-i-gnore--r-espect--casei-gnore--r-espect">-c i [gnore] | r [espect] | –case=i [gnore] | r [espect]</a></h3>
<p>Matching of alphabetic characters is case sensitive by default unless proceeded by the <code>--case=ignore</code> option.</p>
<h3 id="-c-string--columnsstring"><a class="header" href="#-c-string--columnsstring">-C ‘string’ | –columns=‘string’</a></h3>
<p>Selects specific columns from the log file. Specify the desired columns as a comma-delimited string of column numbers beginning with 1, where the second column from left is 2, the third is 3, and so on. See “Viewing the Database Server Log Files” in the <em>SynxDB Administrator Guide</em> for details about the log file format and for a list of the available columns and their associated number.</p>
<h3 id="-f-string--findstring"><a class="header" href="#-f-string--findstring">-f ‘string’ | –find=‘string’</a></h3>
<p>Finds the log entries containing the specified string.</p>
<h3 id="-f-string--nofindstring"><a class="header" href="#-f-string--nofindstring">-F ‘string’ | –nofind=‘string’</a></h3>
<p>Rejects the log entries containing the specified string.</p>
<h3 id="-m-regex--matchregex"><a class="header" href="#-m-regex--matchregex">-m regex | –match=regex</a></h3>
<p>Finds log entries that match the specified Python regular expression. See <a href="https://docs.python.org/library/re.html">https://docs.python.org/library/re.html</a> for Python regular expression syntax.</p>
<h3 id="-m-regex--nomatchregex"><a class="header" href="#-m-regex--nomatchregex">-M regex | –nomatch=regex</a></h3>
<p>Rejects log entries that match the specified Python regular expression. See <a href="https://docs.python.org/library/re.html">https://docs.python.org/library/re.html</a> for Python regular expression syntax.</p>
<h3 id="-t--trouble"><a class="header" href="#-t--trouble">-t | –trouble</a></h3>
<p>Finds only the log entries that have <code>ERROR:</code>, <code>FATAL:</code>, or <code>PANIC:</code> in the first line.</p>
<p><strong>Output Options</strong></p>
<h3 id="-n-integer--tailinteger"><a class="header" href="#-n-integer--tailinteger">-n &lt;integer&gt; | –tail=&lt;integer&gt;</a></h3>
<p>Limits the output to the last &lt;integer&gt; of qualifying log entries found.</p>
<h3 id="-s-offset-limit--sliceoffset-limit"><a class="header" href="#-s-offset-limit--sliceoffset-limit">-s &lt;offset&gt; [limit] | –slice=&lt;offset&gt; [limit]</a></h3>
<p>From the list of qualifying log entries, returns the &lt;limit&gt; number of entries starting at the &lt;offset&gt; entry number, where an &lt;offset&gt; of zero (<code>0</code>) denotes the first entry in the result set and an &lt;offset&gt; of any number greater than zero counts back from the end of the result set.</p>
<h3 id="-o-output_file--outoutput_file"><a class="header" href="#-o-output_file--outoutput_file">-o &lt;output_file&gt; | –out=&lt;output_file&gt;</a></h3>
<p>Writes the output to the specified file or directory location instead of <code>STDOUT</code>.</p>
<h3 id="-z-0-9--zip0-9"><a class="header" href="#-z-0-9--zip0-9">-z 0-9 | –zip=0-9</a></h3>
<p>Compresses the output file to the specified compression level using <code>gzip</code>, where <code>0</code> is no compression and <code>9</code> is maximum compression. If you supply an output file name ending in <code>.gz</code>, the output file will be compressed by default using maximum compression.</p>
<h3 id="-a--append"><a class="header" href="#-a--append">-a | –append</a></h3>
<p>If the output file already exists, appends to the file instead of overwriting it.</p>
<p><strong>Input Options</strong></p>
<p>input_file
The name of the input log file(s) to search through. If an input file is not supplied, <code>gplogfilter</code> will use the <code>$MASTER_DATA_DIRECTORY</code> environment variable to locate the SynxDB master log file. To read from standard input, use a dash (<code>-</code>) as the input file name.</p>
<h3 id="-u--unzip"><a class="header" href="#-u--unzip">-u | –unzip</a></h3>
<p>Uncompress the input file using <code>gunzip</code>. If the input file name ends in <code>.gz</code>, it will be uncompressed by default.</p>
<h3 id="help"><a class="header" href="#help">–help</a></h3>
<p>Displays the online help.</p>
<h3 id="version"><a class="header" href="#version">–version</a></h3>
<p>Displays the version of this utility.</p>
<h2 id="examples"><a class="header" href="#examples"><a id="section9"></a>Examples</a></h2>
<p>Display the last three error messages in the master log file:</p>
<pre><code>gplogfilter -t -n 3
</code></pre>
<p>Display all log messages in the master log file timestamped in the last 10 minutes:</p>
<pre><code>gplogfilter -d :10
</code></pre>
<p>Display log messages in the master log file containing the string <code>|con6 cmd11|</code>:</p>
<pre><code>gplogfilter -f '|con6 cmd11|'
</code></pre>
<p>Using <a href="gpssh.html">gpssh</a>, run <code>gplogfilter</code> on the segment hosts and search for log messages in the segment log files containing the string <code>con6</code> and save output to a file.</p>
<pre><code>gpssh -f seg_hosts_file -e 'source 
/usr/local/synxdb/synxdb_path.sh ; gplogfilter -f 
con6 /gpdata/*/log/gpdb*.csv' &gt; seglog.out
</code></pre>
<h2 id="see-also"><a class="header" href="#see-also"><a id="section10"></a>See Also</a></h2>
<p><a href="gpssh.html">gpssh</a>, <a href="gpscp.html">gpscp</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../utility_guide/ref/gpload.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../utility_guide/ref/gpmapreduce.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../utility_guide/ref/gpload.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../utility_guide/ref/gpmapreduce.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
