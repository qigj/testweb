<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>pxf cluster - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="pxf-cluster"><a class="header" href="#pxf-cluster">pxf cluster</a></h1>
<p>Manage the PXF configuration and the PXF Service instance on all SynxDB hosts.</p>
<h2 id="synopsis"><a class="header" href="#synopsis"><a id="topic1__section2"></a>Synopsis</a></h2>
<pre><code class="language-pre">pxf cluster &lt;command&gt; [&lt;option&gt;]
</code></pre>
<p>where <code>&lt;command&gt;</code> is:</p>
<pre><code class="language-pre">help
init (deprecated)
migrate
prepare
register
reset (deprecated)
restart
start
status
stop
sync
</code></pre>
<h2 id="description"><a class="header" href="#description"><a id="topic1__section3"></a>Description</a></h2>
<p>The <code>pxf cluster</code> utility command manages PXF on the coordinator host, standby coordinator host, and on all SynxDB segment hosts. You can use the utility to:</p>
<ul>
<li>Start, stop, and restart the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts.</li>
<li>Display the status of the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts.</li>
<li>Synchronize the PXF configuration from the SynxDB coordinator host to the standby coordinator and to all segment hosts.</li>
<li>Copy the PXF extension control file from the PXF installation on each host to the SynxDB installation on the host after a SynxDB upgrade.</li>
<li>Prepare a new <code>$PXF_BASE</code> runtime configuration directory.</li>
<li>Migrate PXF 5 <code>$PXF_CONF</code> configuration to <code>$PXF_BASE</code>.</li>
</ul>
<p><code>pxf cluster</code> requires a running SynxDB cluster. You must run the utility on the SynxDB coordinator host.</p>
<p>If you want to manage the PXF Service instance on a specific segment host, use the <code>pxf</code> utility. See <a href="pxf.html"><code>pxf</code></a>.</p>
<h2 id="commands"><a class="header" href="#commands"><a id="commands"></a>Commands</a></h2>
<dt>help</dt>
<dd>Display the <code>pxf cluster</code> help message and then exit.</dd>
<dt>init (deprecated)</dt>
<dd>The command is equivalent to the <code>register</code> command.</dd>
<dt>migrate</dt>
<dd>Migrate the configuration in a PXF 5 <code>$PXF_CONF</code> directory to <code>$PXF_BASE</code> on each SynxDB host. When you run the command, you must identify the PXF 5 configuration directory via an environment variable named <code>PXF_CONF</code>. PXF migrates the version 5 configuration to <code>$PXF_BASE</code>, copying and merging files and directories as necessary. <div class="note"><b>Note:</b> You must manually migrate any <code>pxf-log4j.properties</code> customizations to the <code>pxf-log4j2.xml</code> file.</div></dd>
<dt>prepare</dt>
<dd>Prepare a new <code>$PXF_BASE</code> directory on each SynxDB host. When you run the command, you must identify the new PXF runtime configuration directory via an environment variable named <code>PXF_BASE</code>. PXF copies runtime configuration file templates and directories to this <code>$PXF_BASE</code>.</dd>
<dt>register</dt>
<dd>Copy the PXF extension control file from the PXF installation on each host to the SynxDB installation on the host. This command requires that <code>$GPHOME</code> be set, and is run once after you install PXF 6.x the first time, or run after you upgrade your SynxDB installation.</dd>
<dt>reset (deprecated) </dt>
<dd>The command is a no-op.</dd>
<dt>restart</dt>
<dd>Stop, and then start, the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts.</dd>
<dt>start</dt>
<dd>Start the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts.</dd>
<dt>status  </dt>
<dd>Display the status of the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts.</dd>
<dt>stop  </dt>
<dd>Stop the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts.</dd>
<dt>sync  </dt>
<dd>Synchronize the PXF configuration (<code>$PXF_BASE</code>) from the coordinator host to the standby coordinator host and to all SynxDB segment hosts. By default, this command updates files on and copies files to the remote. You can instruct PXF to also delete files during the synchronization; see Options below.</dd>
<dd>If you have updated the PXF user configuration or add new JAR or native library dependencies, you must also restart PXF after you synchronize the PXF configuration.</dd>
<h2 id="options"><a class="header" href="#options"><a id="options"></a>Options</a></h2>
<p>The <code>pxf cluster sync</code> command takes the following option:</p>
<dt>&#8211;d | &#8211;&#8211;delete </dt>
<dd>Delete any files in the PXF user configuration on the standby coordinator host and segment hosts that are not also present on the coordinator host.</dd>
<h2 id="examples"><a class="header" href="#examples"><a id="topic1__section5"></a>Examples</a></h2>
<p>Stop the PXF Service instance on the coordinator host, standby coordinator host, and all segment hosts:</p>
<pre><code class="language-shell">$ pxf cluster stop
</code></pre>
<p>Synchronize the PXF configuration to the standby coordinator host and all segment hosts, deleting files that do not exist on the coordinator host:</p>
<pre><code class="language-shell">$ pxf cluster sync --delete
</code></pre>
<h2 id="see-also"><a class="header" href="#see-also"><a id="topic1__section6"></a>See Also</a></h2>
<p><a href="pxf.html"><code>pxf</code></a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../pxf/ref/pxf-ref.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../pxf/ref/pxf.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../pxf/ref/pxf-ref.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../pxf/ref/pxf.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
