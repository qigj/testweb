<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Configuring Connectors to Azure and Google Cloud Storage Object Stores (Optional) - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="configuring-connectors-to-azure-and-google-cloud-storage-object-stores-optional"><a class="header" href="#configuring-connectors-to-azure-and-google-cloud-storage-object-stores-optional">Configuring Connectors to Azure and Google Cloud Storage Object Stores (Optional)</a></h1>
<p>You can use PXF to access Azure Data Lake Storage Gen2, Azure Blob Storage, and Google Cloud Storage object stores. This topic describes how to configure the PXF connectors to these external data sources.</p>
<p><em>If you do not plan to use these PXF object store connectors, then you do not need to perform this procedure.</em></p>
<h2 id="about-object-store-configuration"><a class="header" href="#about-object-store-configuration"><a id="about_cfg"></a>About Object Store Configuration</a></h2>
<p>To access data in an object store, you must provide a server location and client credentials. When you configure a PXF object store connector, you add at least one named PXF server configuration for the connector as described in <a href="cfg_server.html">Configuring PXF Servers</a>.</p>
<p>PXF provides a template configuration file for each object store connector. These template files are located in the <code>&lt;PXF_INSTALL_DIR&gt;/templates/</code> directory.</p>
<h3 id="azure-blob-storage-server-configuration"><a class="header" href="#azure-blob-storage-server-configuration"><a id="abs_cfg"></a>Azure Blob Storage Server Configuration</a></h3>
<p>The template configuration file for Azure Blob Storage is <code>&lt;PXF_INSTALL_DIR&gt;/templates/wasbs-site.xml</code>. When you configure an Azure Blob Storage server, you must provide the following server configuration properties and replace the template value with your account name:</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Description</th><th>Value</th></tr></thead><tbody>
<tr><td>fs.adl.oauth2.access.token.provider.type</td><td>The token type.</td><td>Must specify <code>ClientCredential</code>.</td></tr>
<tr><td>fs.azure.account.key.&lt;YOUR_AZURE_BLOB_STORAGE_ACCOUNT_NAME&gt;.blob.core.windows.net</td><td>The Azure account key.</td><td>Replace &lt;YOUR_AZURE_BLOB_STORAGE_ACCOUNT_NAME&gt; with your account key.</td></tr>
<tr><td>fs.AbstractFileSystem.wasbs.impl</td><td>The file system class name.</td><td>Must specify <code>org.apache.hadoop.fs.azure.Wasbs</code>.</td></tr>
</tbody></table>
</div>
<h3 id="azure-data-lake-storage-gen2-server-configuration"><a class="header" href="#azure-data-lake-storage-gen2-server-configuration"><a id="abfss_cfg"></a>Azure Data Lake Storage Gen2 Server Configuration</a></h3>
<p>The template configuration file for Azure Data Lake Storage Gen2 is <code>&lt;PXF_INSTALL_DIR&gt;/templates/abfss-site.xml</code>. When you configure an Azure Data Lake Storage Gen2 server, you must provide the following server configuration properties and replace the template values with your credentials:</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Description</th><th>Value</th></tr></thead><tbody>
<tr><td>fs.azure.account.auth.type</td><td>The type of account authorization.</td><td>Must specify <code>OAuth</code>.</td></tr>
<tr><td>fs.azure.account.oauth.provider.type</td><td>The type of token.</td><td>Must specify <code>org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider</code>.</td></tr>
<tr><td>fs.azure.account.oauth2.client.endpoint</td><td>The Azure endpoint to which to connect.</td><td>Your refresh URL.</td></tr>
<tr><td>fs.azure.account.oauth2.client.id</td><td>The Azure account client ID.</td><td>Your client ID (UUID).</td></tr>
<tr><td>fs.azure.account.oauth2.client.secret</td><td>The password for the Azure account client ID.</td><td>Your password.</td></tr>
</tbody></table>
</div>
<h3 id="google-cloud-storage-server-configuration"><a class="header" href="#google-cloud-storage-server-configuration"><a id="gcs_cfg"></a>Google Cloud Storage Server Configuration</a></h3>
<p>The template configuration file for Google Cloud Storage is <code>&lt;PXF_INSTALL_DIR&gt;/templates/gs-site.xml</code>. When you configure a Google Cloud Storage server, you must provide the following server configuration properties and replace the template values with your credentials:</p>
<div class="table-wrapper"><table><thead><tr><th>Property</th><th>Description</th><th>Value</th></tr></thead><tbody>
<tr><td>google.cloud.auth.service.account.enable</td><td>Enable service account authorization.</td><td>Must specify <code>true</code>.</td></tr>
<tr><td>google.cloud.auth.service.account.json.keyfile</td><td>The Google Storage key file.</td><td>Path to your key file.</td></tr>
<tr><td>fs.AbstractFileSystem.gs.impl</td><td>The file system class name.</td><td>Must specify <code>com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS</code>.</td></tr>
</tbody></table>
</div>
<h2 id="example-server-configuration-procedure"><a class="header" href="#example-server-configuration-procedure"><a id="cfg_proc"></a>Example Server Configuration Procedure</a></h2>
<p>In this procedure, you name and add a PXF server configuration in the <code>$PXF_BASE/servers</code> directory on the SynxDB coordinator host for the Google Cloud Storate (GCS) connector. You then use the <code>pxf cluster sync</code> command to sync the server configuration(s) to the SynxDB cluster.</p>
<ol>
<li>
<p>Log in to your SynxDB coordinator host:</p>
<pre><code class="language-shell">$ ssh gpadmin@&lt;coordinator&gt;
</code></pre>
</li>
<li>
<p>Choose a name for the server. You will provide the name to end users that need to reference files in the object store.</p>
</li>
<li>
<p>Create the <code>$PXF_BASE/servers/&lt;server_name&gt;</code> directory. For example, use the following command to create a server configuration for a Google Cloud Storage server named <code>gs_public</code>:</p>
<pre><code class="language-shell">gpadmin@coordinator$ mkdir $PXF_BASE/servers/gs_public
</code></pre>
</li>
<li>
<p>Copy the PXF template file for GCS to the server configuration directory. For example:</p>
<pre><code class="language-shell">gpadmin@coordinator$ cp &lt;PXF_INSTALL_DIR&gt;/templates/gs-site.xml $PXF_BASE/servers/gs_public/
</code></pre>
</li>
<li>
<p>Open the template server configuration file in the editor of your choice, and provide appropriate property values for your environment. For example, if your Google Cloud Storage key file is located in <code>/home/gpadmin/keys/gcs-account.key.json</code>:</p>
<pre><code class="language-pre">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;google.cloud.auth.service.account.enable&lt;/name&gt;
        &lt;value&gt;true&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;google.cloud.auth.service.account.json.keyfile&lt;/name&gt;
        &lt;value&gt;/home/gpadmin/keys/gcs-account.key.json&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;fs.AbstractFileSystem.gs.impl&lt;/name&gt;
        &lt;value&gt;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
</li>
<li>
<p>Save your changes and exit the editor.</p>
</li>
<li>
<p>Use the <code>pxf cluster sync</code> command to copy the new server configurations to the SynxDB cluster:</p>
<pre><code class="language-shell">gpadmin@coordinator$ pxf cluster sync
</code></pre>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../pxf/s3_objstore_cfg.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../pxf/jdbc_cfg.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../pxf/s3_objstore_cfg.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../pxf/jdbc_cfg.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
