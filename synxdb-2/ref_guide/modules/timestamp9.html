<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>timestamp9 - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="timestamp9"><a class="header" href="#timestamp9">timestamp9</a></h1>
<p>The <code>timestamp9</code> module provides an efficient, nanosecond-precision timestamp data type and related functions and operators.</p>
<p>The SynxDB <code>timestamp9</code> module is based on version 1.2.0 of the <a href="https://github.com/fvannee/timestamp9"><code>timestamp9</code> module</a> used with PostgreSQL.</p>
<h2 id="installing-and-registering-the-module"><a class="header" href="#installing-and-registering-the-module"><a id="topic_reg"></a>Installing and Registering the Module</a></h2>
<p>The <code>timestamp9</code> module is installed when you install SynxDB. Before you can use the data type defined in the module, you must register the <code>timestamp9</code> extension in each database in which you want to use the type:</p>
<pre><code>CREATE EXTENSION timestamp9;
</code></pre>
<p>Refer to <a href="../../install_guide/install_modules.html">Installing Additional Supplied Modules</a> for more information.</p>
<h2 id="supported-data-types"><a class="header" href="#supported-data-types">Supported Data Types</a></h2>
<p>The SynxDB <code>timestamp9</code> extension supports three kinds of datatatypes: <code>TIMESTAMP9</code>, <code>TIMESTAMP9_LTZ</code> and <code>TIMESTAMP9_NTZ</code>. (The <code>TIMESTAMP9_LTZ</code> data type is an alias for <code>TIMESTAMP9</code> data type.)</p>
<p>The following table summarizes key information about the <code>timestamp9</code> data types:</p>
<p>|Data Type|Storage Size|Description|Max Value|Min Value|Resolution|
|––––|—––|––|———–|———|———|–––––|
|<code>TIMESTAMP9</code>|8 bytes|Like TIMESTAMP9_LTZ. Timestamp with local time zone. |2261-12-31 23:59:59.999999999 +0000 |1700-01-01 00:00:00.000000000 +0000 | 1 nanosecond |
|<code>TIMESTAMP9_LTZ</code>|8 bytes|Timestamp with local time zone. |2261-12-31 23:59:59.999999999 +0000 |1700-01-01 00:00:00.000000000 +0000 | 1 nanosecond |
|<code>TIMESTAMP9_NTZ</code>|8 bytes|Timestamp without time zone. |2261-12-31 23:59:59.999999999 +0000 |1700-01-01 00:00:00.000000000 +0000 | 1 nanosecond|</p>
<h3 id="more-about-timestamp9"><a class="header" href="#more-about-timestamp9">More about <code>TIMESTAMP9</code></a></h3>
<p>The <code>TIMESTAMP9</code> data type is identical to the <code>TIMESTAMP9_LTZ</code> data type. Please see the next section for details.</p>
<h3 id="more-about-timestamp9_ltz"><a class="header" href="#more-about-timestamp9_ltz">More about <code>TIMESTAMP9_LTZ</code></a></h3>
<p><code>LTZ</code> is an abbreviation for “Local Time Zone.” SynxDB stores <code>TIMESTAMP9_LTZ</code> internally in UTC (Universal Coordinated Time, traditionally known as Greenwich Mean Time or GMT) time. An input value that has an explicit time zone specified is converted to UTC using the appropriate offset for that time zone.</p>
<p>If no time zone is specified in the input string, then it is presumed to be in the time zone indicated by the system’s <code>TIMEZONE</code> server configuration parameter and is converted to UTC using the offset for the time zone.</p>
<p>See <a href="#timestamp9_ltz-examples">TIMESTAMP9_LTZ Examples</a> for examples using this data type.</p>
<h3 id="more-about-tiimestamp9_ntz"><a class="header" href="#more-about-tiimestamp9_ntz">More about <code>TIIMESTAMP9_NTZ</code></a></h3>
<p><code>NTZ</code> is an abbreviation of ‘No Time Zone.’ SynxDB stores UTC time internally without considering any time zone information. If a time zone is embedded in the timestamp string, SynxDB will simply ignore it.</p>
<p>See <a href="#timestamp9_ntz-examples">TIMESTAMP9_NTZ Examples</a> for examples using this data type.</p>
<h2 id="supported-type-conversions"><a class="header" href="#supported-type-conversions">Supported Type Conversions</a></h2>
<p>The following table summarizes the <code>timestamp9</code> module’s supported type conversions.</p>
<div class="table-wrapper"><table><thead><tr><th>From</th><th>To</th><th>Description</th></tr></thead><tbody>
<tr><td><code>BIGINT</code></td><td><code>TIMESTAMP9_LTZ</code></td><td>SynxDB treats the <code>BIGINT</code> value as the number of nanoseconds started from ‘1970-01-01 00:00:00 +0000’.</td></tr>
<tr><td><code>DATE</code></td><td><code>TIMESTAMP9_LTZ</code></td><td>SynxDB treats the <code>DATE</code> value as in the current session time zone. This behavior is identical to converting from from <code>DATE</code> to <code>TIMESTAMPTZ</code>.</td></tr>
<tr><td><code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code></td><td><code>TIMESTAMP9_LTZ</code></td><td>SynxDB treats the <code>TIMESTAMP</code> value as in the current session time zone.  This behavior is identical to converting from <code>TIMESTAMP</code> to <code>TIMESTAMPTZ</code>.</td></tr>
<tr><td><code>TIMESTAMP WITH TIME ZONE/TIMESTAMPTZ</code></td><td><code>TIMESTAMP9_LTZ</code></td><td>For this conversion, SynxDB only extends the fractional part to nanosecond precision.</td></tr>
<tr><td><code>TIMESTAMP9_LTZ</code></td><td><code>BIGINT</code></td><td>The result of this conversion is the nanoseconds since ‘1970-01-01 00:00:00.000000000 +0000’ to the given <code>TIMESTAMP9_LTZ</code> value.  If the given <code>TIMESTAMP9_LTZ</code> value is before ‘1970-01-01 00:00:00.000000000 +0000’, the result is negative.</td></tr>
<tr><td><code>TIMESTAMP9_LTZ</code></td><td><code>DATE</code></td><td>The result of this conversion depends on the date of the given <code>TIMESTAMP9_LTZ</code> value in the time zone of the current session. The behavior is like doing conversion from <code>TIMESTAMPTZ</code> to <code>DATE</code>.</td></tr>
<tr><td><code>TIMESTAMP9_LTZ</code></td><td><code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code></td><td>The result of this conversion is a timestamp without time zone.  The resulting timestamp’s value is determined by the value of <code>TIMESTAMP9_LTZ</code> in the current session time zone.  Note that the fractional part of <code>TIMESTAMP</code> type has 6 digits, while <code>TIMESTAMP9_LTZ</code> has 9 digits in its fractional part. When converting <code>TIMESTAMP9_LTZ</code> to <code>TIMESTAMP</code>, the fractional part is truncated instead of being rounded off.</td></tr>
<tr><td><code>TIMESTAMP9_LTZ</code></td><td><code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code></td><td>When performing this conversion, SynxDB truncates the fractional part to only 6 digits.</td></tr>
<tr><td><code>BIGINT</code></td><td><code>TIMESTAMP9_NTZ</code></td><td>When performing this conversion, SynxDB treats the BIGINT value as the number of nanoseconds started from ‘1970-01-01 00:00:00’.</td></tr>
<tr><td><code>DATE</code></td><td><code>TIMESTAMP9_NTZ</code></td><td>When performing this conversion, the resulting timestamp is ‘00:00:00.000000000’ on the given date.</td></tr>
<tr><td><code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code></td><td><code>TIMESTAMP9_NTZ</code></td><td>When peforming this conversion, SynxDB only extends the fractional part to nanosecond precision.</td></tr>
<tr><td><code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code></td><td><code>TIMESTAMP9_NTZ</code></td><td>The resulting timestamp’s value is determined by the value of <code>TIMESTAMPTZ</code> in the current session time zone.</td></tr>
<tr><td><code>TIMESTAMP9_NTZ</code></td><td><code>BIGINT</code></td><td>The result of this conversion is the nanoseconds since ‘1970-01-01 00:00:00.000000000’ to the given <code>TIMESTAMP9_NTZ</code> value.  If the given <code>TIMESTAMP9_NTZ</code> value is before ‘1970-01-01 00:00:00.000000000’, the result is negative.</td></tr>
<tr><td><code>TIMESTAMP9_NTZ</code></td><td><code>DATE</code></td><td>When performing this conversion, SynxDB truncatest the time portion and preserves the date portion.</td></tr>
<tr><td><code>TIMESTAMP9_NTZ</code></td><td><code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code></td><td>When performing this conversion, SynxDB truncates only the fractional part to 6 digits.</td></tr>
<tr><td><code>TIMESTAMP9_NTZ</code></td><td><code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code></td><td>When performing this conversion, SynxDB only truncates the fractional part to 6 digits and add the time zone of the current session.</td></tr>
<tr><td><code>TIMESTAMP9_LTZ</code></td><td><code>TIMESTAMP9_NTZ</code></td><td>The resulting <code>TIMESTAMP9_NTZ</code> value is determined by the value of <code>TIMESTAMP9_LTZ</code> in the current session’s time zone.</td></tr>
<tr><td><code>TIMESTAMP9_NTZ</code></td><td><code>TIMESTAMP9_LTZ</code></td><td>When performing this conversion, SynxDB adds the timezone of the current sesion.</td></tr>
</tbody></table>
</div>
<h3 id="type-conversion-examples"><a class="header" href="#type-conversion-examples">Type Conversion Examples</a></h3>
<h4 id="convert-bigint-to-timestamp9_ltz"><a class="header" href="#convert-bigint-to-timestamp9_ltz"><a id="conversion_1"></a>Convert <code>BIGINT</code> to <code>TIMESTAMP9_LTZ</code></a></h4>
<pre><code>=# SHOW TIMEZONE; 

   TimeZone 
-------------- 
Asia/Shanghai 
(1 row) 
	
=# SELECT 0::BIGINT::TIMESTAMP9_LTZ; 

           timestamp9_ltz 
------------------------------------ 
1970-01-01 08:00:00.000000000 +0800 
(1 row) 
</code></pre>
<h4 id="convert-date-to-timestamp9_ltz"><a class="header" href="#convert-date-to-timestamp9_ltz"><a id="conversion_2"></a>Convert <code>DATE</code> to <code>TIMESTAMP9_LTZ</code></a></h4>
<pre><code>=# SHOW TIMEZONE; 

   TimeZone 
-------------- 
Asia/Shanghai 
(1 row) 

 =# SELECT '2023-01-01'::DATE::TIMESTAMP9_LTZ; 

           timestamp9_ltz 
------------------------------------- 
2023-01-01 00:00:00.000000000 +0800 
(1 row) 

=# SELECT '2023-01-01'::DATE::TIMESTAMPTZ; 

      timestamptz 
------------------------ 
2023-01-01 00:00:00+08 
(1 row) 
</code></pre>
<h4 id="convert-timestamp-without-time-zonetimestamp-to-timestamp9_ltz"><a class="header" href="#convert-timestamp-without-time-zonetimestamp-to-timestamp9_ltz"><a id="conversion_3"></a>Convert <code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code> to <code>TIMESTAMP9_LTZ</code></a></h4>
<pre><code>=# SHOW TIMEZONE; 

   TimeZone 
--------------- 
Asia/Shanghai 
(1 row) 

Time: 0.411 ms 
=# SELECT '2023-01-01 00:00:00'::TIMESTAMP::TIMESTAMP9_LTZ; 

           timestamp9_ltz 
------------------------------------- 
2023-01-01 00:00:00.000000000 +0800 
(1 row) 

Time: 0.691 ms 
=# SELECT '2023-01-01 00:00:00'::TIMESTAMP::TIMESTAMPTZ; 

      timestamptz 
------------------------ 
2023-01-01 00:00:00+08 
(1 row) 
</code></pre>
<h4 id="convert-timestamp-with-time-zonetimestamp-to-timestamp9_ltz"><a class="header" href="#convert-timestamp-with-time-zonetimestamp-to-timestamp9_ltz"><a id="conversion_4"></a>Convert <code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code> to <code>TIMESTAMP9_LTZ</code></a></h4>
<pre><code>=# SELECT '2023-01-01 00:00:00.123456'::TIMESTAMPTZ::TIMESTAMP9_LTZ; 

           timestamp9_ltz 
------------------------------------- 
2023-01-01 00:00:00.123456000 +0800 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ltz-to-bigint"><a class="header" href="#convert-timestamp9_ltz-to-bigint"><a id="conversion_5"></a>Convert <code>TIMESTAMP9_LTZ</code> to <code>BIGINT</code></a></h4>
<pre><code>=# SELECT '2023-01-01 00:00:00.123456 Asia/Shanghai'::TIMESTAMP9_LTZ::BIGINT; 

        int8 
--------------------- 
1672502400123456000 
(1 row) 

=# SELECT '1969-01-01 00:00:00.123456 Asia/Shanghai'::TIMESTAMP9_LTZ::BIGINT; 

        int8 
-------------------- 
-31564799876544000 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ltz-to-date"><a class="header" href="#convert-timestamp9_ltz-to-date"><a id="conversion_6"></a>Convert <code>TIMESTAMP9_LTZ</code> to <code>DATE</code></a></h4>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-02 02:59:59 Asia/Shanghai'::TIMESTAMPTZ::DATE; 
    date 
------------ 
2023-01-02 
(1 row) 

=# SET TIMEZONE TO 'UTC+0'; 
SET 
=# SELECT '2023-01-02 02:59:59 Asia/Shanghai'::TIMESTAMPTZ::DATE; 
    date 
------------ 
2023-01-01 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ltz-to-timestamp-without-time-zonetimestamp"><a class="header" href="#convert-timestamp9_ltz-to-timestamp-without-time-zonetimestamp"><a id="conversion_7"></a>Convert <code>TIMESTAMP9_LTZ</code> to <code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code></a></h4>
<p><strong>Example 1</strong></p>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-02 02:59:59 Asia/Shanghai'::TIMESTAMP9_LTZ::TIMESTAMP; 

      timestamp 
--------------------- 
2023-01-02 02:59:59 
(1 row) 

=# SET TIMEZONE TO 'UTC+0'; 

SET 
=# SELECT '2023-01-02 02:59:59 Asia/Shanghai'::TIMESTAMP9_LTZ::TIMESTAMP; 

      timestamp 
--------------------- 
2023-01-01 18:59:59 
(1 row) 
</code></pre>
<p><strong>Example 2 – Truncation of the fractional part</strong></p>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-02 02:59:59.123456789 Asia/Shanghai'::TIMESTAMP9_LTZ::TIMESTAMP; 

         timestamp 
---------------------------- 
2023-01-02 02:59:59.123456 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ltz-to-timestamp-with-time-zonetimestamp"><a class="header" href="#convert-timestamp9_ltz-to-timestamp-with-time-zonetimestamp"><a id="conversion_8"></a>Convert <code>TIMESTAMP9_LTZ</code> to <code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code></a></h4>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
=# SELECT '2023-01-02 02:59:59.123456789 Asia/Shanghai'::TIMESTAMP9_LTZ::TIMESTAMPTZ; 
          timestamptz 
------------------------------- 
2023-01-02 02:59:59.123456+08 
(1 row) 
</code></pre>
<h4 id="convert-bigint-to-timestamp9_ntz"><a class="header" href="#convert-bigint-to-timestamp9_ntz"><a id="conversion_9"></a>Convert <code>BIGINT</code> to <code>TIMESTAMP9_NTZ</code></a></h4>
<pre><code>=# SELECT 0::BIGINT::TIMESTAMP9_NTZ; 
        timestamp9_ntz 
------------------------------- 

1970-01-01 00:00:00.000000000 
(1 row) 
</code></pre>
<h4 id="convert-date-to-timestamp9_ntz"><a class="header" href="#convert-date-to-timestamp9_ntz"><a id="conversion_10"></a>Convert <code>DATE</code> to <code>TIMESTAMP9_NTZ</code></a></h4>
<pre><code>=# SELECT '2023-01-01'::DATE::TIMESTAMP9_NTZ; 
        timestamp9_ntz 
------------------------------- 
2023-01-01 00:00:00.000000000 
(1 row) 
</code></pre>
<h4 id="convert-timestamp-without-time-zonetimestamp-to-timestamp9_ntz"><a class="header" href="#convert-timestamp-without-time-zonetimestamp-to-timestamp9_ntz"><a id="conversion_11"></a>Convert <code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code> to <code>TIMESTAMP9_NTZ</code></a></h4>
<pre><code>=# SELECT '2023-01-01 00:00:00.123456'::TIMESTAMP::TIMESTAMP9_NTZ; 
        timestamp9_ntz 

------------------------------ 
2023-01-01 00:00:00.123456000 
(1 row) 
</code></pre>
<h4 id="convert-timestamp-with-time-zonetimestamp-to-timestamp9_ntz"><a class="header" href="#convert-timestamp-with-time-zonetimestamp-to-timestamp9_ntz"><a id="conversion_12"></a>Convert <code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code> to <code>TIMESTAMP9_NTZ</code></a></h4>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-01 00:00:00.123456 Asia/Shanghai'::TIMESTAMPTZ::TIMESTAMP9_NTZ; 
        timestamp9_ntz 
------------------------------- 
2023-01-01 00:00:00.123456000 
(1 row) 

=# SET TIMEZONE TO 'UTC+0'; 
SET 
=# SELECT '2023-01-01 00:00:00.123456 Asia/Shanghai'::TIMESTAMPTZ::TIMESTAMP9_NTZ; 
        timestamp9_ntz 
------------------------------- 
2022-12-31 16:00:00.123456000 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ntz-to-bigint"><a class="header" href="#convert-timestamp9_ntz-to-bigint"><a id="conversion_13"></a>Convert <code>TIMESTAMP9_NTZ</code> to <code>BIGINT</code></a></h4>
<pre><code>=# SELECT '2023-01-01 00:00:00.123456'::TIMESTAMP9_NTZ::BIGINT; 
        int8 
--------------------- 
1672531200123456000 
(1 row) 

=# SELECT '1969-01-01 00:00:00.123456'::TIMESTAMP9_NTZ::BIGINT; 
        int8 
-------------------- 
-31535999876544000 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ntz-to-date"><a class="header" href="#convert-timestamp9_ntz-to-date"><a id="conversion_14"></a>Convert <code>TIMESTAMP9_NTZ</code> to <code>DATE</code></a></h4>
<pre><code>=# SELECT '2023-01-01 00:00:00.123456'::TIMESTAMP9_NTZ::DATE; 
    date 
------------ 
2023-01-01 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ntz-to-timestamp-without-time-zonetimestamp"><a class="header" href="#convert-timestamp9_ntz-to-timestamp-without-time-zonetimestamp"><a id="conversion_15"></a>Convert <code>TIMESTAMP9_NTZ</code> to <code>TIMESTAMP WITHOUT TIME ZONE/TIMESTAMP</code></a></h4>
<pre><code>=# SELECT '2023-01-01 00:00:00.123456789'::TIMESTAMP9_NTZ::TIMESTAMP; 
         timestamp 
---------------------------- 
2023-01-01 00:00:00.123456 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ntz-to-timestamp-with-time-zonetimestamp"><a class="header" href="#convert-timestamp9_ntz-to-timestamp-with-time-zonetimestamp"><a id="conversion_16"></a>Convert <code>TIMESTAMP9_NTZ</code> to <code>TIMESTAMP WITH TIME ZONE/TIMESTAMP</code></a></h4>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-01 23:00:00.123456789'::TIMESTAMP9_NTZ::TIMESTAMPTZ; 
          timestamptz 
------------------------------- 
2023-01-01 23:00:00.123456+08 
(1 row) 

Time: 0.793 ms 
=# SET TIMEZONE TO 'UTC+0'; 
SET 
=# SELECT '2023-01-01 23:00:00.123456789'::TIMESTAMP9_NTZ::TIMESTAMPTZ; 
          timestamptz 
------------------------------- 
2023-01-01 23:00:00.123456+00 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ltz-to-timestamp9_ntz"><a class="header" href="#convert-timestamp9_ltz-to-timestamp9_ntz"><a id="conversion_17"></a>Convert <code>TIMESTAMP9_LTZ</code> to <code>TIMESTAMP9_NTZ</code></a></h4>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-01 23:00:00.123456789 Asia/Shanghai'::TIMESTAMP9_LTZ::TIMESTAMP9_NTZ; 
        timestamp9_ntz 
------------------------------- 
2023-01-01 23:00:00.123456789 
(1 row) 

=# SET TIMEZONE TO 'UTC+0'; 
SET 
=# SELECT '2023-01-01 23:00:00.123456789 Asia/Shanghai'::TIMESTAMP9_LTZ::TIMESTAMP9_NTZ; 
        timestamp9_ntz 
------------------------------- 
2023-01-01 15:00:00.123456789 
(1 row) 
</code></pre>
<h4 id="convert-timestamp9_ntz-to-timestamp9_ltz"><a class="header" href="#convert-timestamp9_ntz-to-timestamp9_ltz"><a id="conversion_18"></a>Convert <code>TIMESTAMP9_NTZ</code> to <code>TIMESTAMP9_LTZ</code></a></h4>
<pre><code>=# SET TIMEZONE TO 'Asia/Shanghai'; 
SET 
=# SELECT '2023-01-01 23:00:00.123456789'::TIMESTAMP9_NTZ::TIMESTAMP9_LTZ; 
           timestamp9_ltz 
------------------------------------- 
2023-01-01 23:00:00.123456789 +0800 
(1 row) 

=# SET TIMEZONE TO 'UTC+0'; 
SET 
=# SELECT '2023-01-01 23:00:00.123456789'::TIMESTAMP9_NTZ::TIMESTAMP9_LTZ; 
           timestamp9_ltz 
------------------------------------- 
2023-01-01 23:00:00.123456789 +0000 
(1 row) 
</code></pre>
<h2 id="the-timezone-configuration-parameter-and-timestamp9"><a class="header" href="#the-timezone-configuration-parameter-and-timestamp9"><a id="topic_gp"></a>The TimeZone Configuration Parameter and <code>timestamp9</code></a></h2>
<p>You can set the <a href="../config_params/guc-list.html#TimeZone">TimeZone</a> server configuration parameter to specify the time zone that SynxDB uses when it prints a <code>timestamp9</code> timestamp. When you set this parameter, SynxDB displays the timestamp value in that time zone. For example:</p>
<pre><code class="language-sql">testdb=# SELECT now()::timestamp9;
                 now
-------------------------------------
 2022-08-24 18:08:01.729360000 +0800
(1 row)

testdb=# SET timezone TO 'UTC+2';
SET
testdb=# SELECT now()::timestamp9;
                 now
-------------------------------------
 2022-08-24 08:08:12.995542000 -0200
(1 row)
</code></pre>
<h2 id="support-for-datetime-functions"><a class="header" href="#support-for-datetime-functions"><a id="topic_gucs"></a>Support For Date/Time Functions</a></h2>
<p>The <code>timestamp9</code> module defines two server configuration parameters that you set to enable date/time functions defined in the <code>pg_catalog</code> schema on <code>timestamp</code> types. Visit the <a href="https://www.postgresql.org/docs/12/functions-datetime.html#:~:text=Table%C2%A09.31.%C2%A0Date/Time%20Functions">PostgreSQL Documentation</a> for a list of the supported date/time functions. The parameters are:</p>
<ul>
<li><code>timestamp9.enable_implicit_cast_timestamp9_ltz_to_timestamptz</code>: when enabled, casting a <code>timestamp9_ltz</code> value to <code>timestamp with time zone</code> becomes implicit.</li>
<li><code>timestamp9.enable_implicit_cast_timestamp9_ntz_to_timestamp</code>: when enabled, casting a <code>timestamp9_ntz</code> value to <code>timestamp without time zone</code> becomes implicit.</li>
</ul>
<p>The default value for both configuration parameters is <code>off</code>. For example, if you try use the <code>date</code> function with <code>timestamp9</code> and <code>timestamp9.enable_implicit_cast_timestamp9_ltz_to_timestamptz</code> is set to <code>off</code>:</p>
<pre><code>postgres=# SELECT date('2022-01-01'::timestamp9_ltz); 
ERROR:  implicitly cast timestamp9_ltz to timestamptz is not allowed 
HINT:  either set 'timestamp9.enable_implicit_cast_timestamp9_ltz_to_timestamptz' to 'on' or do it explicitly 
</code></pre>
<p>Enable the configuration parameter in order to use the <code>date</code> function:</p>
<pre><code>postgres=# SET timestamp9.enable_implicit_cast_timestamp9_ltz_to_timestamptz TO 'ON'; 
SET 
postgres=# SELECT date('2022-01-01'::timestamp9_ltz); 
    date 
------------ 
 01-01-2022 
(1 row) 
</code></pre>
<p>Note that enabling these configuration parameters will also result in multiple casting paths from <code>timestamp9</code> types and built-in <code>timestamp</code> types. You may encounter error messages such as:</p>
<pre><code>postgres=# select '2019-09-19'::timestamp9_ltz &lt;= '2019-09-20'::timestamptz; 
ERROR:  operator is not unique: timestamp9_ltz &lt;= timestamp with time zone 
LINE 1: select '2019-09-19'::timestamp9_ltz &lt;= '2019-09-20'::timesta... 
HINT:  Could not choose a best candidate operator. You might need to add explicit type casts. 
</code></pre>
<p>In this situation, cast the type explicitly:</p>
<pre><code>postgres=# select '2019-09-19'::timestamp9_ntz &lt;= '2019-09-20'::timestamptz::timestamp9_ntz; 
?column? 
---------- 
 t 
(1 row) 
</code></pre>
<p>Alternatively, cast the <code>timestamp9_ntz</code> value to the <code>timestamptz</code> value:</p>
<pre><code>postgres=# select '2019-09-19'::timestamp9_ntz::timestamptz &lt;= '2019-09-20'::timestamptz; 
?column? 
---------- 
 t 
(1 row) 
</code></pre>
<h2 id="examples"><a class="header" href="#examples"><a id="examples"></a>Examples</a></h2>
<h3 id="timestamp9_ltz-examples"><a class="header" href="#timestamp9_ltz-examples"><code>TIMESTAMP9_LTZ</code> Examples</a></h3>
<h4 id="valid-input-for-timestamp9_ltz"><a class="header" href="#valid-input-for-timestamp9_ltz">Valid input for <code>TIMESTAMP9_LTZ</code></a></h4>
<p>Valid input for the <code>TIMESTAMP9_LTZ</code> consists of the concatenation of a date and a time, followed by an optional time zone. Users can specify the fractional part of second up to 9 digits (in nanosecond precision).</p>
<pre><code>The current system’s TIMEZONE parameter is ‘Asia/Shanghai’ 

SELECT '2023-02-20 00:00:00.123456789 +0200'::TIMESTAMP9_LTZ; 

           timestamp9_ltz 

------------------------------------- 
2023-02-20 06:00:00.123456789 +0800 
(1 row) 

 If the input string doesn’t have explicit time zone information, the timestamp is presumed to be in the time zone indicated by the system’s TIMEZONE parameter. 

SELECT '2023-02-20 00:00:00.123456789'::TIMESTAMP9_LTZ; 

           timestamp9_ltz 
------------------------------------- 
2023-02-20 00:00:00.123456789 +0800 
(1 row) 
</code></pre>
<p>TIMESTAMP9_LTZ also accepts numbers as valid input. It’s interpreted as the number of nanoseconds since the UTC time ‘1970-01-01 00:00:00.000000000’.</p>
<pre><code>SELECT '123456789'::TIMESTAMP9_LTZ; 

           timestamp9_ltz 
------------------------------------- 
1970-01-01 08:00:00.123456789 +0800 
(1 row) 
</code></pre>
<h3 id="timestamp9_ntz-examples"><a class="header" href="#timestamp9_ntz-examples"><code>TIMESTAMP9_NTZ</code> Examples</a></h3>
<h4 id="valid-input-for-timestamp9_ntz"><a class="header" href="#valid-input-for-timestamp9_ntz">Valid input for <code>TIMESTAMP9_NTZ</code></a></h4>
<p>As with <code>TIMESTAMP9_LTZ</code>, valid input for the <code>TIMESTAMP9_NTZ</code> data type consists of the concatenation of a date and a time, followed by an optional time zone. Users can specify the fractional part of second up to 9 digits (in nanosecond precision). The difference is that, if the user specifies time zone in the input string, <code>TIMESTAMP9_NTZ</code> will ignore it and store the remaining timestamp as UTC time without applying any time zone offset.</p>
<p>The current system’s TIMEZONE parameter is ‘Asia/Shanghai’</p>
<pre><code>=# SELECT '2023-02-20 00:00:00.123456789 +0200'::TIMESTAMP9_NTZ;
        timestamp9_ntz
-------------------------------
2023-02-20 00:00:00.123456789
(1 row)
=# SELECT '2023-02-20 00:00:00.123456789'::TIMESTAMP9_NTZ;
        timestamp9_ntz
-------------------------------
2023-02-20 00:00:00.123456789
(1 row)
</code></pre>
<h2 id="limitations"><a class="header" href="#limitations"><a id="topic_limit"></a>Limitations</a></h2>
<p>The <code>timestamp9</code> data type does not support arithmetic calculations with nanoseconds.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ref_guide/modules/tablefunc.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ref_guide/modules/uuid-ossp.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ref_guide/modules/tablefunc.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ref_guide/modules/uuid-ossp.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
