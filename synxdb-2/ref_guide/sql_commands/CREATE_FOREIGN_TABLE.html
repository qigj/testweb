<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CREATE FOREIGN TABLE - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="create-foreign-table"><a class="header" href="#create-foreign-table">CREATE FOREIGN TABLE</a></h1>
<p>Defines a new foreign table.</p>
<h2 id="synopsis"><a class="header" href="#synopsis"><a id="section2"></a>Synopsis</a></h2>
<pre><code class="language-{#sql_command_synopsis}">CREATE FOREIGN TABLE [ IF NOT EXISTS ] &lt;table_name&gt; ( [
    &lt;column_name&gt; &lt;data_type&gt; [ OPTIONS ( &lt;option&gt; '&lt;value&gt;' [, ... ] ) ] [ COLLATE &lt;collation&gt; ] [ &lt;column_constraint&gt; [ ... ] ]
      [, ... ]
] )
    SERVER &lt;server_name&gt;
  [ OPTIONS ( [ mpp_execute { 'master' | 'any' | 'all segments' } [, ] ] &lt;option&gt; '&lt;value&gt;' [, ... ] ) ]
</code></pre>
<p>where column_constraint is:</p>
<pre><code>
[ CONSTRAINT &lt;constraint_name&gt; ]
{ NOT NULL |
  NULL |
  DEFAULT &lt;default_expr&gt; }
</code></pre>
<h2 id="description"><a class="header" href="#description"><a id="section3"></a>Description</a></h2>
<p><code>CREATE FOREIGN TABLE</code> creates a new foreign table in the current database. The user who creates the foreign table becomes its owner.</p>
<p>If you schema-qualify the table name (for example, <code>CREATE FOREIGN TABLE myschema.mytable ...</code>), SynxDB creates the table in the specified schema. Otherwise, the foreign table is created in the current schema. The name of the foreign table must be distinct from the name of any other foreign table, table, sequence, index, or view in the same schema.</p>
<p>Because <code>CREATE FOREIGN TABLE</code> automatically creates a data type that represents the composite type corresponding to one row of the foreign table, foreign tables cannot have the same name as any existing data type in the same schema.</p>
<p>To create a foreign table, you must have <code>USAGE</code> privilege on the foreign server, as well as <code>USAGE</code> privilege on all column types used in the table.</p>
<h2 id="parameters"><a class="header" href="#parameters"><a id="section4"></a>Parameters</a></h2>
<h3 id="if-not-exists"><a class="header" href="#if-not-exists">IF NOT EXISTS</a></h3>
<p>Do not throw an error if a relation with the same name already exists. SynxDB issues a notice in this case. Note that there is no guarantee that the existing relation is anything like the one that would have been created.</p>
<h3 id="table_name"><a class="header" href="#table_name">table_name</a></h3>
<p>The name (optionally schema-qualified) of the foreign table to create.</p>
<h3 id="column_name"><a class="header" href="#column_name">column_name</a></h3>
<p>The name of a column to create in the new foreign table.</p>
<h3 id="data_type"><a class="header" href="#data_type">data_type</a></h3>
<p>The data type of the column, including array specifiers.</p>
<h3 id="not-null"><a class="header" href="#not-null">NOT NULL</a></h3>
<p>The column is not allowed to contain null values.</p>
<h3 id="null"><a class="header" href="#null">NULL</a></h3>
<p>The column is allowed to contain null values. This is the default.</p>
<p>This clause is provided only for compatibility with non-standard SQL databases. Its use is discouraged in new applications.</p>
<h3 id="default-default_expr"><a class="header" href="#default-default_expr">DEFAULT default_expr</a></h3>
<p>The <code>DEFAULT</code> clause assigns a default value for the column whose definition it appears within. The value is any variable-free expression; SynxDB does not allow subqueries and cross-references to other columns in the current table. The data type of the default expression must match the data type of the column.</p>
<p>SynxDB uses the default expression in any insert operation that does not specify a value for the column. If there is no default for a column, then the default is null.</p>
<h3 id="server_name"><a class="header" href="#server_name">server_name</a></h3>
<p>The name of an existing server to use for the foreign table. For details on defining a server, see <a href="CREATE_SERVER.html">CREATE SERVER</a>.</p>
<h3 id="options--option-value----"><a class="header" href="#options--option-value----">OPTIONS ( option ‘value’ [, … ] )</a></h3>
<p>The options for the new foreign table or one of its columns. While option names must be unique, a table option and a column option may have the same name. The option names and values are foreign-data wrapper-specific. SynxDB validates the options and values using the foreign-data wrapper’s validator_function.</p>
<h3 id="mpp_execute--master--any--all-segments-"><a class="header" href="#mpp_execute--master--any--all-segments-">mpp_execute { ‘master’ | ‘any’ | ‘all segments’ }</a></h3>
<p>A SynxDB-specific option that identifies the host from which the foreign-data wrapper reads or writes data:</p>
<ul>
<li>
<p><code>master</code> (the default)—Read or write data from the master host.</p>
</li>
<li>
<p><code>any</code>—Read data from either the master host or any one segment, depending on which path costs less.</p>
</li>
<li>
<p><code>all segments</code>—Read or write data from all segments. To support this option value, the foreign-data wrapper must have a policy that matches the segments to data.</p>
<blockquote>
<p><strong>Note</strong> SynxDB supports parallel writes to foreign tables only when you set <code>mpp_execute 'all segments'</code>.</p>
</blockquote>
</li>
</ul>
<p>Support for the foreign table <code>mpp_execute</code> option, and the specific modes, is foreign-data wrapper-specific.</p>
<p>The <code>mpp_execute</code> option can be specified in multiple commands: <code>CREATE FOREIGN TABLE</code>, <code>CREATE SERVER</code>, and <code>CREATE FOREIGN DATA WRAPPER</code>. The foreign table setting takes precedence over the foreign server setting, followed by the foreign-data wrapper setting.</p>
<h2 id="notes"><a class="header" href="#notes"><a id="section5"></a>Notes</a></h2>
<p>The SynxDB Query Optimizer, GPORCA, does not support foreign tables. A query on a foreign table always falls back to the Postgres Planner.</p>
<h2 id="examples"><a class="header" href="#examples"><a id="section6"></a>Examples</a></h2>
<p>Create a foreign table named <code>films</code> with the server named <code>film_server</code>:</p>
<pre><code>CREATE FOREIGN TABLE films (
    code        char(5) NOT NULL,
    title       varchar(40) NOT NULL,
    did         integer NOT NULL,
    date_prod   date,
    kind        varchar(10),
    len         interval hour to minute
)
SERVER film_server;
</code></pre>
<h2 id="compatibility"><a class="header" href="#compatibility"><a id="section7"></a>Compatibility</a></h2>
<p><code>CREATE FOREIGN TABLE</code> largely conforms to the SQL standard; however, much as with <a href="CREATE_TABLE.html">CREATE TABLE</a>, SynxDB permits <code>NULL</code> constraints and zero-column foreign tables. The ability to specify a default value is a SynxDB extension, as is the <code>mpp_execute</code> option.</p>
<h2 id="see-also"><a class="header" href="#see-also"><a id="section8"></a>See Also</a></h2>
<p><a href="ALTER_FOREIGN_TABLE.html">ALTER FOREIGN TABLE</a>, <a href="DROP_FOREIGN_TABLE.html">DROP FOREIGN TABLE</a>, <a href="CREATE_SERVER.html">CREATE SERVER</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ref_guide/sql_commands/CREATE_FOREIGN_DATA_WRAPPER.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ref_guide/sql_commands/CREATE_FUNCTION.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ref_guide/sql_commands/CREATE_FOREIGN_DATA_WRAPPER.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ref_guide/sql_commands/CREATE_FUNCTION.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
