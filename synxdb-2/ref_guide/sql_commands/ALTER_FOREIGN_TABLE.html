<!DOCTYPE HTML>
<html lang="en" class="ayu sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ALTER FOREIGN TABLE - SynxDB 2 Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "ayu";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">SynxDB 2 Documentation</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <a href="https://www.synxdata.com/"><img id="fa fa-print" src="../../SYNX-Text-and-Circular-Logo-142x28-White-text-Black-background.png" alt="Synx Data Labs Logo"/></a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="alter-foreign-table"><a class="header" href="#alter-foreign-table">ALTER FOREIGN TABLE</a></h1>
<p>Changes the definition of a foreign table.</p>
<h2 id="synopsis"><a class="header" href="#synopsis"><a id="section2"></a>Synopsis</a></h2>
<pre><code class="language-{#sql_command_synopsis}">ALTER FOREIGN TABLE [ IF EXISTS ] &lt;name&gt;
    &lt;action&gt; [, ... ]
ALTER FOREIGN TABLE [ IF EXISTS ] &lt;name&gt;
    RENAME [ COLUMN ] &lt;column_name&gt; TO &lt;new_column_name&gt;
ALTER FOREIGN TABLE [ IF EXISTS ] &lt;name&gt;
    RENAME TO &lt;new_name&gt;
ALTER FOREIGN TABLE [ IF EXISTS ] &lt;name&gt;
    SET SCHEMA &lt;new_schema&gt;

</code></pre>
<p>where action is one of:</p>
<pre><code>
    ADD [ COLUMN ] &lt;column_name&gt; &lt;column_type&gt; [ COLLATE &lt;collation&gt; ] [ &lt;column_constraint&gt; [ ... ] ]
    DROP [ COLUMN ] [ IF EXISTS ] &lt;column_name&gt; [ RESTRICT | CASCADE ]
    ALTER [ COLUMN ] &lt;column_name&gt; [ SET DATA ] TYPE &lt;data_type&gt;
    ALTER [ COLUMN ] &lt;column_name&gt; SET DEFAULT &lt;expression&gt;
    ALTER [ COLUMN ] &lt;column_name&gt; DROP DEFAULT
    ALTER [ COLUMN ] &lt;column_name&gt; { SET | DROP } NOT NULL
    ALTER [ COLUMN ] &lt;column_name&gt; SET STATISTICS &lt;integer&gt;
    ALTER [ COLUMN ] &lt;column_name&gt; SET ( &lt;attribute_option&gt; = &lt;value&gt; [, ... ] )
    ALTER [ COLUMN ] &lt;column_name&gt; RESET ( &lt;attribute_option&gt; [, ... ] )
    ALTER [ COLUMN ] &lt;column_name&gt; OPTIONS ( [ ADD | SET | DROP ] &lt;option&gt; ['&lt;value&gt;'] [, ... ])
    DISABLE TRIGGER [ &lt;trigger_name&gt; | ALL | USER ]
    ENABLE TRIGGER [ &lt;trigger_name&gt; | ALL | USER ]
    ENABLE REPLICA TRIGGER &lt;trigger_name&gt;
    ENABLE ALWAYS TRIGGER &lt;trigger_name&gt;
    OWNER TO &lt;new_owner&gt;
    OPTIONS ( [ ADD | SET | DROP ] &lt;option&gt; ['&lt;value&gt;'] [, ... ] )
</code></pre>
<h2 id="description"><a class="header" href="#description"><a id="section3"></a>Description</a></h2>
<p><code>ALTER FOREIGN TABLE</code> changes the definition of an existing foreign table. There are several subforms of the command:</p>
<h3 id="add-column"><a class="header" href="#add-column">ADD COLUMN</a></h3>
<p>This form adds a new column to the foreign table, using the same syntax as <a href="CREATE_FOREIGN_TABLE.html">CREATE FOREIGN TABLE</a>. Unlike the case when you add a column to a regular table, nothing happens to the underlying storage: this action simply declares that some new column is now accessible through the foreign table.</p>
<h3 id="drop-column--if-exists-"><a class="header" href="#drop-column--if-exists-">DROP COLUMN [ IF EXISTS ]</a></h3>
<p>This form drops a column from a foreign table. You must specify <code>CASCADE</code> if any objects outside of the table depend on the column; for example, views. If you specify <code>IF EXISTS</code> and the column does not exist, no error is thrown. SynxDB issues a notice instead.</p>
<h3 id="if-exists"><a class="header" href="#if-exists">IF EXISTS</a></h3>
<p>If you specify <code>IF EXISTS</code> and the foreign table does not exist, no error is thrown. SynxDB issues a notice instead.</p>
<h3 id="set-data-type"><a class="header" href="#set-data-type">SET DATA TYPE</a></h3>
<p>This form changes the type of a column of a foreign table.</p>
<h3 id="setdrop-default"><a class="header" href="#setdrop-default">SET/DROP DEFAULT</a></h3>
<p>These forms set or remove the default value for a column. Default values apply only in subsequent <code>INSERT</code> or <code>UPDATE</code> commands; they do not cause rows already in the table to change.</p>
<h3 id="setdrop-not-null"><a class="header" href="#setdrop-not-null">SET/DROP NOT NULL</a></h3>
<p>Mark a column as allowing, or not allowing, null values.</p>
<h3 id="set-statistics"><a class="header" href="#set-statistics">SET STATISTICS</a></h3>
<p>This form sets the per-column statistics-gathering target for subsequent <code>ANALYZE</code> operations. See the similar form of <a href="ALTER_TABLE.html">ALTER TABLE</a> for more details.</p>
<h3 id="set--attribute_option--value----"><a class="header" href="#set--attribute_option--value----">SET ( attribute_option = value [, …] ] )</a></h3>
<h3 id="reset--attribute_option----"><a class="header" href="#reset--attribute_option----">RESET ( attribute_option [, … ] )</a></h3>
<p>This form sets or resets per-attribute options. See the similar form of <a href="ALTER_TABLE.html">ALTER TABLE</a> for more details.</p>
<h3 id="disableenable--replica--always--trigger"><a class="header" href="#disableenable--replica--always--trigger">DISABLE/ENABLE [ REPLICA | ALWAYS ] TRIGGER</a></h3>
<p>These forms configure the firing of trigger(s) belonging to the foreign table. See the similar form of <a href="ALTER_TABLE.html">ALTER TABLE</a> for more details.</p>
<h3 id="owner"><a class="header" href="#owner">OWNER</a></h3>
<p>This form changes the owner of the foreign table to the specified user.</p>
<h3 id="rename"><a class="header" href="#rename">RENAME</a></h3>
<p>The <code>RENAME</code> forms change the name of a foreign table or the name of an individual column in a foreign table.</p>
<h3 id="set-schema"><a class="header" href="#set-schema">SET SCHEMA</a></h3>
<p>This form moves the foreign table into another schema.</p>
<h3 id="options---add--set--drop--option-value----"><a class="header" href="#options---add--set--drop--option-value----">OPTIONS ( [ ADD | SET | DROP ] option [‘value’] [, … ] )</a></h3>
<p>Change options for the foreign table. <code>ADD</code>, <code>SET</code>, and <code>DROP</code> specify the action to perform. If no operation is explicitly specified, the default operation is <code>ADD</code>. Option names must be unique. SynxDB validates names and values using the server’s foreign-data wrapper.</p>
<p>You can combine all of the actions except <code>RENAME</code> and <code>SET SCHEMA</code> into a list of multiple alterations for SynxDB to apply in parallel. For example, it is possible to add several columns and/or alter the type of several columns in a single command.</p>
<p>You must own the table to use <code>ALTER FOREIGN TABLE</code>. To change the schema of a foreign table, you must also have <code>CREATE</code> privilege on the new schema. To alter the owner, you must also be a direct or indirect member of the new owning role, and that role must have <code>CREATE</code> privilege on the table’s schema. (These restrictions enforce that altering the owner doesn’t do anything you couldn’t do by dropping and recreating the table. However, a superuser can alter ownership of any table anyway.) To add a column or to alter a column type, you must also have <code>USAGE</code> privilege on the data type.</p>
<h2 id="parameters"><a class="header" href="#parameters"><a id="section4"></a>Parameters</a></h2>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<p>The name (possibly schema-qualified) of an existing foreign table to alter.</p>
<h3 id="column_name"><a class="header" href="#column_name">column_name</a></h3>
<p>The name of a new or existing column.</p>
<h3 id="new_column_name"><a class="header" href="#new_column_name">new_column_name</a></h3>
<p>The new name for an existing column.</p>
<h3 id="new_name"><a class="header" href="#new_name">new_name</a></h3>
<p>The new name for the foreign table.</p>
<h3 id="data_type"><a class="header" href="#data_type">data_type</a></h3>
<p>The data type of the new column, or new data type for an existing column.</p>
<h3 id="cascade"><a class="header" href="#cascade">CASCADE</a></h3>
<p>Automatically drop objects that depend on the dropped column (for example, views referencing the column).</p>
<h3 id="restrict"><a class="header" href="#restrict">RESTRICT</a></h3>
<p>Refuse to drop the column if there are any dependent objects. This is the default behavior.</p>
<h3 id="trigger_name"><a class="header" href="#trigger_name">trigger_name</a></h3>
<p>Name of a single trigger to deactivate or enable.</p>
<h3 id="all"><a class="header" href="#all">ALL</a></h3>
<p>Deactivate or activate all triggers belonging to the foreign table. (This requires superuser privilege if any of the triggers are internally generated triggers. The core system does not add such triggers to foreign tables, but add-on code could do so.)</p>
<h3 id="user"><a class="header" href="#user">USER</a></h3>
<p>Deactivate or activate all triggers belonging to the foreign table except for internally generated triggers.</p>
<h3 id="new_owner"><a class="header" href="#new_owner">new_owner</a></h3>
<p>The user name of the new owner of the foreign table.</p>
<h3 id="new_schema"><a class="header" href="#new_schema">new_schema</a></h3>
<p>The name of the schema to which the foreign table will be moved.</p>
<h2 id="notes"><a class="header" href="#notes"><a id="section5"></a>Notes</a></h2>
<p>The key word <code>COLUMN</code> is noise and can be omitted.</p>
<p>Consistency with the foreign server is not checked when a column is added or removed with <code>ADD COLUMN</code> or <code>DROP COLUMN</code>, a <code>NOT NULL</code> constraint is added, or a column type is changed with <code>SET DATA TYPE</code>. It is your responsibility to ensure that the table definition matches the remote side.</p>
<p>Refer to <a href="CREATE_FOREIGN_TABLE.html">CREATE FOREIGN TABLE</a> for a further description of valid parameters.</p>
<h2 id="examples"><a class="header" href="#examples"><a id="section6"></a>Examples</a></h2>
<p>To mark a column as not-null:</p>
<pre><code>ALTER FOREIGN TABLE distributors ALTER COLUMN street SET NOT NULL;
</code></pre>
<p>To change the options of a foreign table:</p>
<pre><code>ALTER FOREIGN TABLE myschema.distributors 
    OPTIONS (ADD opt1 'value', SET opt2 'value2', DROP opt3 'value3');
</code></pre>
<h2 id="compatibility"><a class="header" href="#compatibility"><a id="section7"></a>Compatibility</a></h2>
<p>The forms <code>ADD</code>, <code>DROP</code>, and <code>SET DATA TYPE</code> conform with the SQL standard. The other forms are SynxDB extensions of the SQL standard. The ability to specify more than one manipulation in a single <code>ALTER FOREIGN TABLE</code> command is also a SynxDB extension.</p>
<p>You can use <code>ALTER FOREIGN TABLE ... DROP COLUMN</code> to drop the only column of a foreign table, leaving a zero-column table. This is an extension of SQL, which disallows zero-column foreign tables.</p>
<h2 id="see-also"><a class="header" href="#see-also"><a id="section8"></a>See Also</a></h2>
<p><a href="ALTER_TABLE.html">ALTER TABLE</a>, <a href="CREATE_FOREIGN_TABLE.html">CREATE FOREIGN TABLE</a>, <a href="DROP_FOREIGN_TABLE.html">DROP FOREIGN TABLE</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../ref_guide/sql_commands/ALTER_FOREIGN_DATA_WRAPPER.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../ref_guide/sql_commands/ALTER_FUNCTION.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../ref_guide/sql_commands/ALTER_FOREIGN_DATA_WRAPPER.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../ref_guide/sql_commands/ALTER_FUNCTION.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
