

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Heap and Append-optimized Table Storage Formats &mdash; SynxDB Elastic Documentation Preview documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=53dc447f" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=f1f14d95"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=529101c1"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Perform SQL Queries" href="../sql-queries/sql-queries-index.html" />
    <link rel="prev" title="Choose Table Storage Model" href="choose-table-storage-models-index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            SynxDB Elastic Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../product-overview/product-index.html">Product Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy-guides/deploy-guides-index.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../load-data/load-data-index.html">Load Data</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../operate-with-data-index.html">Operate with Data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../operate-with-db-objects/operate-with-db-objects-index.html">Operate with Database Objects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="choose-table-storage-models-index.html">Choose Table Storage Model</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Heap and Append-optimized Table Storage Formats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#heap-storage">Heap storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#append-optimized-storage">Append-optimized storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-create-a-table-with-specified-storage-options">To create a table with specified storage options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#choose-row-or-column-oriented-storage">Choose row or column-oriented storage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sql-queries/sql-queries-index.html">Perform SQL Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../advanced-data-analytics/advanced-data-analytics-index.html">Advanced Data Analytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../work-with-transactions.html">Work with Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transaction-concurrency-control.html">Control Transactional Concurrency</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../optimize-performance/optimize-performance-index.html">Optimize Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../manage-system/manage-system-index.html">Manage System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security-and-permissions/set-security-and-permission-index.html">Configure Security and Permissions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../develop-guides/develop-with-db-index.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials-index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references/references-index.html">Reference Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SynxDB Elastic Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../operate-with-data-index.html">Operate with Data</a></li>
          <li class="breadcrumb-item"><a href="choose-table-storage-models-index.html">Choose Table Storage Model</a></li>
      <li class="breadcrumb-item active">Heap and Append-optimized Table Storage Formats</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="heap-and-append-optimized-table-storage-formats">
<h1>Heap and Append-optimized Table Storage Formats<a class="headerlink" href="#heap-and-append-optimized-table-storage-formats" title="Link to this heading"></a></h1>
<p>SynxDB Elastic provides heap and append-optimized storage models. The storage model you choose depends on the type of data you are storing and the type of queries you are running. This section provides an overview of the two storage models and guidelines for choosing the optimal storage model for your data.</p>
<section id="heap-storage">
<h2>Heap storage<a class="headerlink" href="#heap-storage" title="Link to this heading"></a></h2>
<p>By default, SynxDB Elastic uses the same heap storage model as PostgreSQL. Heap table storage works best with OLTP-type workloads where the data is often modified after it is initially loaded. <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operations require storing row-level versioning information to ensure reliable database transaction processing. Heap tables are best suited for smaller tables, such as dimension tables, that are often updated after they are initially loaded.</p>
</section>
<section id="append-optimized-storage">
<h2>Append-optimized storage<a class="headerlink" href="#append-optimized-storage" title="Link to this heading"></a></h2>
<p>Append-optimized table storage works best with denormalized fact tables in a data warehouse environment. Denormalized fact tables are typically the largest tables in the system. Fact tables are usually loaded in batches and accessed by read-only queries. Moving large fact tables to an append-optimized storage model eliminates the storage overhead of the per-row update visibility information. This allows for a leaner and easier-to-optimize page structure. The storage model of append-optimized tables is optimized for bulk data loading. Single row <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> statements are not recommended.</p>
</section>
<section id="to-create-a-table-with-specified-storage-options">
<h2>To create a table with specified storage options<a class="headerlink" href="#to-create-a-table-with-specified-storage-options" title="Link to this heading"></a></h2>
<p>Row-oriented heap tables are the default storage type.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="nb">text</span><span class="p">);</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">WITH</span></code> clause of the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> command to declare the table storage options. The default is to create the table as a regular row-oriented heap-storage table. For example, to create an append-optimized table with no compression:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
<span class="w">    </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">appendoptimized</span><span class="o">=</span><span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You use the <code class="docutils literal notranslate"><span class="pre">appendoptimized=value</span></code> syntax to specify the append-optimized table storage type. <code class="docutils literal notranslate"><span class="pre">appendoptimized</span></code> is a thin alias for the <code class="docutils literal notranslate"><span class="pre">appendonly</span></code> legacy storage option. SynxDB Elastic stores <code class="docutils literal notranslate"><span class="pre">appendonly</span></code> in the catalog, and displays the same when listing storage options for append-optimized tables.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> are not allowed on append-optimized tables in a repeatable read or serializable transaction and will cause the transaction to end prematurely.</p>
</section>
<section id="choose-row-or-column-oriented-storage">
<h2>Choose row or column-oriented storage<a class="headerlink" href="#choose-row-or-column-oriented-storage" title="Link to this heading"></a></h2>
<p>SynxDB Elastic provides a choice of storage orientation models: row, column, or a combination of both. This section provides general guidelines for choosing the optimal storage orientation for a table. Evaluate performance using your own data and query workloads.</p>
<ul class="simple">
<li><p><strong>Row-oriented storage:</strong> good for OLTP workloads with many iterative transactions and where many columns of a single row are needed at once, making retrieval efficient.</p></li>
<li><p><strong>Column-oriented storage:</strong> good for data warehouse workloads with aggregations of data computed over a small number of columns or for single columns that require regular updates without modifying other column data.</p></li>
</ul>
<p>For most general-purpose or mixed workloads, row-oriented storage offers the best combination of flexibility and performance. However, there are use cases where a column-oriented storage model provides more efficient I/O and storage. Consider the following requirements when deciding on the storage orientation model for a table:</p>
<ul>
<li><p><strong>Updates of table data:</strong> If you load and update table data frequently, choose a row-oriented heap table. Column-oriented table storage is only available on append-optimized tables.</p></li>
<li><p><strong>Frequent INSERTs:</strong> If rows are frequently inserted into the table, consider a row-oriented model. Column-oriented tables are not optimized for write operations because column values for a row must be written to different places on disk.</p></li>
<li><p><strong>Number of columns requested in queries:</strong> If you typically request all or the majority of columns in the <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> list or <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause of your queries, consider a row-oriented model. Column-oriented tables are best suited to queries that aggregate many values of a single column where the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> or <code class="docutils literal notranslate"><span class="pre">HAVING</span></code> predicate is also on the aggregate column. For example:</p>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">...</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10000</span>
</pre></div>
</div>
<p>Or where the <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> predicate is on a single column and returns a relatively small number of rows. For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">salary</span><span class="p">,</span><span class="w"> </span><span class="n">dept</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">state</span><span class="o">=</span><span class="s1">&#39;CA&#39;</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Number of columns in the table:</strong> Row-oriented storage is more efficient when many columns are required at the same time, or when the row size of a table is relatively small. Column-oriented tables can offer better query performance on tables with many columns where you access a small subset of columns in your queries.</p></li>
<li><p><strong>Compression:</strong> Column data has the same data type, so storage size optimizations are available in column-oriented data that are not available in row-oriented data. For example, many compression schemes use the similarity of adjacent data to compress. However, the greater adjacent compression achieved, the more difficult random access can become, as data must be uncompressed to be read.</p></li>
</ul>
<section id="to-create-a-column-oriented-table">
<h3>To create a column-oriented table<a class="headerlink" href="#to-create-a-column-oriented-table" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">WITH</span></code> clause of the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> command specifies the table’s storage options. The default is a row-oriented heap table. Tables that use column-oriented storage must be append-optimized tables. For example, to create a column-oriented table:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="nb">int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
<span class="w">    </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">appendoptimized</span><span class="o">=</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="n">orientation</span><span class="o">=</span><span class="k">column</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          


  <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      <a href="../sql-queries/sql-queries-index.html" class="btn btn-neutral float-right" title="Perform SQL Queries" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      <a href="choose-table-storage-models-index.html" class="btn btn-neutral float-left" title="Choose Table Storage Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
  </div>

<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <p>&copy; 2025, Synx Data Labs, Inc. All rights reserved.</p>
      </div>
      <div class="footer-section">
        <p>SynxDB Elastic Documentation</p>
      </div>
    </div>
  </div>
</footer>

<style>
.footer {
  background-color: var(--bg-secondary);
  border-top: 1px solid var(--border);
  padding: 1.5rem 0;
  margin-top: 3rem;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

.footer-section p {
  margin: 0;
  color: var(--text-secondary);
  font-size: 0.9rem;
  font-family: 'Inter', sans-serif;
}

@media (max-width: 768px) {
  .footer-content {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }
}
</style>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>