

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using ZomboDB to integrate with Elasticsearch &mdash; SynxDB Documentation v4.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=60bd3fde" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=c8b016cb"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=529101c1"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reference Guides" href="../references/references-index.html" />
    <link rel="prev" title="Component Guides" href="component-index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SynxDB Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../product-overview/product-index.html">Product Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../product-overview/product-features.html">Feature Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#efficient-queries-in-different-scenarios">Efficient queries in different scenarios</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#polymorphic-data-storage">Polymorphic data storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#multi-layer-data-security">Multi-layer data security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#data-loading">Data loading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#multi-layer-fault-tolerance">Multi-layer fault tolerance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#rich-data-analysis-support">Rich data analysis support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#flexible-workload-management">Flexible workload management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-features.html#multiple-compatibility">Multiple compatibility</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../product-overview/product-architecture.html">Product Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-architecture.html#coordinator-node">Coordinator node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-architecture.html#segment-node">Segment node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-architecture.html#interconnect">Interconnect</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/product-architecture.html#mvcc">MVCC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../product-overview/product-scenarios.html">User Scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../product-overview/comparison-with-gp.html">Comparison with Greenplum Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/comparison-with-gp.html#general-features">General features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/comparison-with-gp.html#performance-related-features">Performance-related features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/comparison-with-gp.html#security-related-features">Security-related features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../product-overview/release-index.html">Releases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../product-overview/releases/v4.0.0.html">v4.0.0 Release Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#new-features">New features</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#database">Database</a></li>
<li class="toctree-l5"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#interactive-manager-dbcc">Interactive manager DBCC</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#upgrade-path">Upgrade path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#product-change-information">Product change information</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#sql-syntax">SQL syntax</a></li>
<li class="toctree-l5"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#configuration-parameters-gucs">Configuration parameters (GUCs)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#extensions-and-plugins">Extensions and plugins</a></li>
<li class="toctree-l5"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#removed-features">Removed features</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../product-overview/releases/v4.0.0.html#bug-fixes">Bug fixes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deploy-guides/deploy-index.html">Deployment Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../deploy-guides/physical-deploy/physical-deploy-index.html">Deploy on Physical Machines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html">Software and Hardware Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#hardware-requirements">Hardware requirements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#physical-machine">Physical machine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#storage">Storage</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#data-exchange-network">Data exchange network</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#software-requirements">Software requirements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#supported-os">Supported OS</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/software-and-hardware-config-requirements.html#ssh-configurations">SSH configurations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html">Prepare to Deploy on Physical Machine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#plan-the-deployment-architecture">Plan the deployment architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#modify-server-settings">Modify server settings</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#change-hostname">Change hostname</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#add-gpadmin-admin-user">Add <code class="docutils literal notranslate"><span class="pre">gpadmin</span></code> admin user</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#disable-selinux-and-firewall-software">Disable SELinux and firewall software</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#modify-network-mapping">Modify network mapping</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/prepare-to-deploy.html#set-system-parameters">Set system parameters</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-multi-nodes.html">Deploy on Mulitiple Nodes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-multi-nodes.html#step-1-prepare-server-nodes">Step 1: Prepare server nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-multi-nodes.html#step-2-install-the-rpm-package">Step 2. Install the RPM package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-multi-nodes.html#step-3-configure-mutual-trust-between-nodes">Step 3. Configure mutual trust between nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-multi-nodes.html#step-4-initialize-product-name">Step 4. Initialize SynxDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-multi-nodes.html#step-5-log-into-the-database">Step 5. Log into the Database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html">Deploy on Single Node</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#how-to-deploy">How to deploy</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#step-1-prepare-to-deploy">Step 1. Prepare to deploy</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#step-2-install-product-name-via-rpm-package">Step 2: Install SynxDB via RPM package</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#step-3-deploy-product-name-with-a-single-computing-node">Step 3: Deploy SynxDB with a single computing node</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#common-issues">Common issues</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#how-to-check-the-deployment-mode-of-a-cluster">How to check the deployment mode of a cluster</a></li>
<li class="toctree-l5"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#where-is-the-data-directory">Where is the data directory</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../deploy-guides/physical-deploy/deploy-single-node.html#user-behavior-changes">User-behavior changes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../create-and-prepare-db/create-and-prepare-index.html">Create and Prepare Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html">Create and Manage Databases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#templates-and-default-databases">Templates and default databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#create-a-database">Create a database</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#clone-a-database">Clone a database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#assign-a-different-owner-when-creating-a-database">Assign a different owner when creating a database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#list-databases">List databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#alter-a-database">Alter a database</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/create-and-manage-db.html#drop-a-database">Drop a database</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html">Start and Stop Databases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html#start-product-name">Start SynxDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html#restart-product-name">Restart SynxDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html#reload-configuration-file-changes">Reload configuration file changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html#start-the-coordinator-in-maintenance-mode">Start the coordinator in maintenance mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html#stop-product-name">Stop SynxDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/start-and-stop-db.html#stop-client-processes">Stop client processes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html">Connect to Databases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html#connection-parameters">Connection parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html#supported-client-applications">Supported client applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html#client-applications">Client applications</a></li>
<li class="toctree-l4"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html#connect-using-psql">Connect using psql</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html#connect-using-application-interfaces">Connect using application interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create-and-prepare-db/connect-to-db.html#common-connection-problems">Common connection problems</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../load-data/load-data-index.html">Load Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-overview.html">Data Loading Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-overview.html#data-loading-process">Data loading process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-overview.html#loading-tools-and-scenarios">Loading tools and scenarios</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-from-local-files-index.html">Load Data from Local Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-copy.html">Load Data Using COPY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-copy.html#load-from-a-file">Load from a file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-copy.html#load-from-stdin">Load from STDIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-copy.html#load-data-using-copy-in-psql">Load data using <code class="docutils literal notranslate"><span class="pre">\copy</span></code> in psql</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-copy.html#input-format">Input format</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html">Load Data Using gpfdist</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#step-1-install-gpfdist">Step 1. Install gpfdist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#step-2-start-and-stop-gpfdist">Step 2. Start and stop gpfdist</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#step-3-use-gpfdist-with-external-tables-to-load-data">Step 3. Use gpfdist with external tables to load data</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#example-1-run-single-gpfdist-instance-on-a-single-nic-machine">Example 1 - Run single gpfdist instance on a single-NIC machine</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#example-2-run-multiple-gpfdist-instances">Example 2 — Run multiple gpfdist instances</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#example-3-single-gpfdist-instance-with-error-logging">Example 3 — Single gpfdist instance with error logging</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#example-4-create-a-writable-external-table-with-gpfdist">Example 4 - Create a writable external table with gpfdist</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#about-gpfdist">About gpfdist</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#about-gpfdist-and-external-tables">About gpfdist and external tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpfdist.html#about-gpfdist-setup-and-performance">About gpfdist setup and performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-file-protocal.html">Load Data Using the file:// Protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-file-protocal.html#usage-examples">Usage examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpload.html">Load Data Using gpload</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-local-files/load-data-using-gpload.html#to-use-gpload">To use gpload</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-external-data-source-using-foreign-table.html">Load External Data Using Foreign Table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-external-data-source-using-foreign-table.html#use-foreign-table">Use foreign table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-external-data-source-using-foreign-table.html#create-foreign-table-using-the-like-clause">Create foreign table using the LIKE clause</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-external-data-source-using-foreign-table.html#query-a-foreign-table">Query a foreign table</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-from-web-services.html">Load Data from Web Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-web-services.html#command-based-external-web-tables">Command-based external web tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-web-services.html#url-based-external-web-tables">URL-based external web tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-using-pxf.html">Load Data Using PXF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-pxf.html#install-and-configure-pxf">Install and configure PXF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-pxf.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-pxf.html#step-1-install-the-pxf-package">Step 1: Install the PXF package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-pxf.html#step-2-set-up-your-environment">Step 2: Set Up Your Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-pxf.html#step-3-run-pxf">Step 3: Run PXF</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-pxf.html#next-steps">Next steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html">Load Data from Kafka Using Kafka FDW</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html#basic-usage">Basic usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html#supported-data-formats">Supported data formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html#query">Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html#message-producer">Message producer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html#data-import">Data import</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-kafka-fdw.html#scheduled-import">Scheduled import</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html">Load Data from Kafka Using Kafka Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#data-formats">Data Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#preparation">Preparation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#installation-steps">Installation Steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#parameter-descriptions">Parameter Descriptions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-using-kafka-connector.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html">Load Data from Object Storage and HDFS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html#install-the-extension">Install the extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html#instructions">Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html#load-data-from-object-storage">Load data from object storage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html#load-data-from-hdfs">Load data from HDFS</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html#load-hdfs-data-without-authentication">Load HDFS data without authentication</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-oss-and-hdfs.html#load-hdfs-data-with-kerberos-authentication">Load HDFS data with Kerberos authentication</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-from-hive.html">Load Data from Hive Data Warehouse</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-hive.html#supported-hive-file-formats">Supported Hive file formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-hive.html#usage-limitations">Usage limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-hive.html#steps">Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#step-1-create-a-configuration-file-on-database-cluster">Step 1. Create a configuration file on database cluster</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-hive.html#configure-hive-cluster-information">Configure Hive cluster information</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-hive.html#configure-hdfs-cluster-information">Configure HDFS cluster information</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#step-2-create-foreign-data-wrapper-and-hive-connector-plugin">Step 2. Create foreign data wrapper and Hive Connector plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#step-3-create-server-and-user-mapping">Step 3. Create server and user mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#step-4-sync-hive-objects-to-the-database-cluster">Step 4. Sync Hive objects to the database cluster</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-hive.html#syncing-a-hive-table">Syncing a Hive table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-hive.html#sync-a-hive-database">Sync a Hive database</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-hive.html#examples-of-syncing-tables">Examples of syncing tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#sync-a-hive-text-table">Sync a Hive text table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#sync-a-hive-orc-table">Sync a Hive ORC table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#sync-a-hive-orc-partitioned-table">Sync a Hive ORC partitioned table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#sync-a-sample-hive-database">Sync a sample Hive database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#sync-tables-in-iceberg-and-hudi-formats">Sync tables in Iceberg and Hudi formats</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-hive.html#load-iceberg-tables">Load Iceberg tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../load-data/load-data-from-hive.html#load-hudi-tables">Load Hudi tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-hive.html#data-type-mapping">Data type mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-hive.html#known-issues">Known issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-hive.html#solution">Solution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/load-data-from-mysql.html">Load Data from MySQL Server Using MySQL_FDW</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-mysql.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-mysql.html#use-mysql-fdw">Use MySQL FDW</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#create-server-options">CREATE SERVER options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#create-user-mapping-options">CREATE USER MAPPING options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#create-foreign-table-options">CREATE FOREIGN TABLE options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#import-foreign-schema-options">IMPORT FOREIGN SCHEMA options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#truncate-support">TRUNCATE support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#functions">Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/load-data-from-mysql.html#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#installing-the-extension">Installing the Extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#creating-a-foreign-server">Creating a Foreign Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#granting-permissions-to-use-foreign-server">Granting Permissions to Use Foreign Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#creating-a-user-mapping">Creating a User Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#creating-a-foreign-table">Creating a Foreign Table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/load-data-from-mysql.html#importing-a-mysql-database-as-a-product-name-schema">Importing a MySQL Database as a SynxDB Schema</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../load-data/customize-multi-char-delimiters.html">Custom Multi-Character Delimiters for Reading and Writing External Tables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../load-data/customize-multi-char-delimiters.html#compilation-and-installation">Compilation and installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../load-data/customize-multi-char-delimiters.html#usage-example">Usage example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../load-data/customize-multi-char-delimiters.html#read-external-tables">Read external tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../load-data/customize-multi-char-delimiters.html#write-to-external-tables">Write to external tables</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operate-with-data/operate-with-data-index.html">Operate with Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/operate-with-database-objects-index.html">Operate with Database Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/basic-query-syntax.html">Basic Query Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-tables.html">Create and Manage Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-tables.html#create-tables">Create tables</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-tables.html#choose-column-data-types">Choose column data types</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-tables.html#set-table-and-column-constraints">Set table and column constraints</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html">Insert, Update and Delete Row Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#insert-rows">Insert rows</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#insert-rows-into-partitioned-tables">Insert rows into partitioned tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#insert-rows-in-append-optimized-tables">Insert rows in Append-Optimized tables</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#update-existing-rows">Update existing rows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#delete-rows">Delete rows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#truncate-table">Truncate table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/insert-update-delete-row-data.html#vacuum-database">Vacuum database</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-views.html">Create and Manage Views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-views.html#create-views">Create views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-views.html#drop-views">Drop views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-views.html#best-practices-when-creating-views">Best practices when creating views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-materialized-views.html">Create and Manage Materialized Views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-materialized-views.html#create-materialized-views">Create materialized views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-materialized-views.html#refresh-or-deactivate-materialized-views">Refresh or deactivate materialized views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-materialized-views.html#drop-materialized-views">Drop materialized views</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html">Create and Manage indexes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#index-types">Index types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#bitmap-indexes">Bitmap indexes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#manage-indexes">Manage indexes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#cluster-a-table-by-index">Cluster a table by index</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#create-indexes">Create indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#rebuild-all-indexes-on-a-table">Rebuild all indexes on a table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#drop-indexes">Drop indexes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#index-only-scan-and-covering-index">Index-only scan and covering index</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#what-is-an-index-only-scan">What is an index-only scan</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#requirements">Requirements</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#additional-note-mvcc-visibility-checks">Additional note: MVCC visibility checks</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#purpose-of-covering-indexes">Purpose of covering indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#dynamic-index-only-scan">Dynamic index-only scan</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#backward-index-scan">Backward index scan</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/create-and-manage-indexes.html#check-index-usage">Check index usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/brin-indexes.html">BRIN Indexes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/brin-indexes.html#maintain-brin-indexes">Maintain BRIN indexes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/work-with-transctions.html">Work with Transactions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/work-with-transctions.html#transaction-isolation-levels">Transaction isolation levels</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/work-with-transctions.html#read-uncommitted-and-read-committed">Read uncommitted and read committed</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/transaction-concurrency-control.html">Transaction Concurrency Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/transaction-concurrency-control.html#multi-version-concurrency-control">Multi-version concurrency control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/transaction-concurrency-control.html#lock-modes">Lock modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/transaction-concurrency-control.html#global-deadlock-detector">Global deadlock detector</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/transaction-concurrency-control.html#global-deadlock-detector-management-of-concurrent-update-and-delete-operations">Global deadlock detector management of concurrent <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> and <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/choose-table-storage-models-index.html">Choose Table Storage Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/heap-and-ao-table-formats.html">Heap and Append-optimized Table Storage Models</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/heap-and-ao-table-formats.html#heap-storage">Heap storage</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/heap-and-ao-table-formats.html#append-optimized-storage">Append-optimized storage</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/heap-and-ao-table-formats.html#to-create-a-table-with-specified-storage-options">To create a table with specified storage options</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/heap-and-ao-table-formats.html#choose-row-or-column-oriented-storage">Choose row or column-oriented storage</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html">PAX Storage Format</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#applicable-scenarios">Applicable scenarios</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#usage">Usage</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#support-for-toast">Support for TOAST</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#support-for-clustering">Support for clustering</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#bloom-filter-support">Bloom filter support</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#sparse-filtering">Sparse filtering</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#view-data-change-records-on-pax-tables-in-wal-logs">View data change records on PAX tables in WAL logs</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#limitations-for-pax-tables">Limitations for PAX tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#pax-related-sql-options">PAX-related SQL options</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#pax-related-system-parameters">PAX-related system parameters</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/pax-table-format.html#best-practices">Best practices</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/unionstore-table-format.html">UnionStore Storage Format</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/unionstore-table-format.html#use-cases">Use cases</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/unionstore-table-format.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/unionstore-table-format.html#install-unionstore">Install UnionStore</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/unionstore-table-format.html#usage">Usage</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/choose-table-storage-models/unionstore-table-format.html#limitations">Limitations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html">Cross-Cluster Federated Query</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#user-scenarios">User scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#usages">Usages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#step-1-create-a-foreign-data-wrapper">Step 1. Create a foreign data wrapper</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#step-2-create-a-user-mapping">Step 2. Create a user mapping</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#step-3-create-a-foreign-table-and-add-shards">Step 3. Create a foreign table and add shards</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/perform-federated-query-across-clusters.html#step-4-perform-cross-cluster-federated-query">Step 4. Perform Cross-Cluster Federated Query</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html">Use Tags to Manage Database Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#what-is-a-tag">What is a tag?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#features-of-tags">Features of tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#usage-scenarios">Usage scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#use-tags">Use tags</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#query-existing-tag-information">Query existing tag information</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#create-tags">Create tags</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#delete-tags">Delete tags</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#modify-tags">Modify tags</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#assign-tags-to-objects">Assign tags to objects</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#tag-comments">Tag comments</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#system-tables-related-to-tags">System tables related to tags</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#pg-tag-table">pg_tag table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#pg-tag-description-table">pg_tag_description table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#handle-global-and-non-global-objects">Handle global and non-global objects</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/operate-with-database-objects/use-tagging-for-db-objects.html#common-errors-and-tips">Common errors and tips</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operate-with-data/sql-queries/sql-queries-index.html">SQL Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html">Join Queries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#join-types">Join types</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#left-outer-join">LEFT OUTER JOIN</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#right-outer-join">RIGHT OUTER JOIN</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#full-outer-join">FULL OUTER JOIN</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#cross-join">CROSS JOIN</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#natural-join">NATURAL JOIN</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#join-conditions">Join conditions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#on-clause">ON clause</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#using-clause">USING clause</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#lateral">LATERAL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#example">Example</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#inner-join-example">INNER JOIN example</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#left-outer-join-example">LEFT OUTER JOIN example</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#right-outer-join-example">RIGHT OUTER JOIN example</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#full-outer-join-example">FULL OUTER JOIN example</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/sql-queries/join-queries.html#cross-join-example">CROSS JOIN example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/advanced-data-analytics-index.html">Advanced Analytics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html">Use pgvector for Vector Similarity Search</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#quick-start">Quick start</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#store-data">Store data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#query-data">Query data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#index-data">Index data</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#hnsw-index">HNSW index</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#ivfflat-index">IVFFlat index</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#use-filters-in-indexes">Use filters in indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#half-precision-vectors">Half-precision vectors</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#half-precision-index">Half-precision index</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#binary-vectors">Binary vectors</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#hybrid-search">Hybrid search</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#pgvector-performance">pgvector performance</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#exact-search">Exact search</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/pgvector-search.html#approximate-search">Approximate search</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html">Vectorization Query Computing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#enable-vectorization">Enable vectorization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#usage">Usage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#enable-or-disable-vectorization-queries">Enable or disable vectorization queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#set-vectorization-batch-size">Set vectorization batch size</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#verify-whether-a-query-is-vectorized">Verify whether a query is vectorized</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#features-supported-by-vectorization">Features supported by vectorization</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#threaded-execution-on-single-node">Threaded execution on single node</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#performance-evaluation">Performance evaluation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#tpc-h">TPC-H</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/vectorization-queries.html#tpc-ds">TPC-DS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html">Use MADlib for Machine Learning and Deep Learning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#install-madlib-components">Install MADlib components</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#install-the-product-name-madlib-package">Install the SynxDB MADlib package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#add-madlib-functions-to-the-database">Add MADlib functions to the database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#uninstall-madlib-from-the-database">Uninstall MADlib from the database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#usage-examples">Usage examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#check-the-madlib-version">Check the MADlib version</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#scenario-1-perform-linear-regression-on-a-database-table">Scenario 1: Perform linear regression on a database table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#scenario-2-use-association-rules">Scenario 2: Use association rules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/madlib-machine-learning.html#scenario-3-perform-naive-bayes-classification">Scenario 3: Perform Naive Bayes classification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html">Directory Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#usage">Usage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#create-a-directory-table">Create a directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#create-index-on-a-directory-table">Create index on a directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#view-the-field-information-of-directory-table">View the field information of directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#upload-file-into-directory-table">Upload file into directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#export-files-to-local">Export files to local</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#query-and-use-the-files-managed-by-directory-table">Query and use the files managed by directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#add-transaction-lock-to-directory-table">Add transaction lock to directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#delete-the-file-managed-by-directory-table">Delete the file managed by directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#delete-a-directory-table">Delete a directory table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/directory-tables.html#back-up-and-restore-directory-tables">Back up and restore directory tables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html">Use RoaringBitMap Bitmap Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#usage">Usage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#load-the-plugin">Load the plugin</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#create-tables">Create tables</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#create-a-bitmap">Create a bitmap</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#bitmap-union-operations">Bitmap union operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#bitmap-union-and-intersection-aggregation-operations">Bitmap union and intersection aggregation operations</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#statistical-cardinality">Statistical cardinality</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#convert-bitmap-to-setof-integer">Convert bitmap to SETOF integer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../operate-with-data/advanced-data-analytics/roaringbitmap.html#conversion-between-bytea-and-roaringbitmap-data-types">Conversion between bytea and roaringbitmap data types</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html">Auto-Execute SQL commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#syntax-description">Syntax description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#create-task">CREATE TASK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#alter-task">ALTER TASK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#drop-task">DROP TASK</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#view-create-task-metadata">View Create Task metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#parameter-tuning-description">Parameter tuning description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/auto-execute-sql-commands.html#usage-examples">Usage examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operate-with-data/use-oracle-compatibility-sql-via-orafce.html">Use Oracle Compatibility SQL via Orafce</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/use-oracle-compatibility-sql-via-orafce.html#install-and-remove-orafce">Install and remove Orafce</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/use-oracle-compatibility-sql-via-orafce.html#product-name-considerations">SynxDB considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../operate-with-data/use-oracle-compatibility-sql-via-orafce.html#product-name-implementation-differences">SynxDB implementation differences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operate-with-data/use-oracle-compatibility-sql-via-orafce.html#using-orafce">Using Orafce</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../optimize-performance/optimize-performance-index.html">Optimize Performance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-queries-index.html">Optimize Query Performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/query-process-overview.html">Query Processing Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-process-overview.html#query-planning-and-dispatch">Query planning and dispatch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-process-overview.html#query-plans">Query plans</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-process-overview.html#parallel-query-execution">Parallel query execution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-queries-performance-overview.html">Query Performance Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-queries-performance-overview.html#dynamic-partition-elimination">Dynamic partition elimination</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-queries-performance-overview.html#memory-optimization">Memory optimization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/use-orca-index.html">Use GPORCA Optimizer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/use-orca-overview.html">GPORCA overview</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/use-orca-overview.html#enable-or-disable-gporca">Enable or disable GPORCA</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/use-orca-overview.html#determine-which-query-optimizer-is-used">Determine which query optimizer is used</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/orca-features.html">GPORCA Features and Enhancements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/orca-features.html#enhancements-for-partitioned-table-queries">Enhancements for partitioned table queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/orca-features.html#subquery-optimization">Subquery optimization</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/orca-features.html#common-table-expression-cte-optimization">Common table expression (CTE) optimization</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/orca-features.html#dml-operation-optimization">DML operation optimization</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/orca-features.html#other-optimization-capabilities">Other optimization capabilities</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/whats-new-in-orca.html">GPORCA Optimizer Update Notes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-orca/whats-new-in-orca.html#v4-0-0">v4.0.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/update-statistics.html">Update Statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/update-statistics.html#check-whether-statistics-are-up-to-date">Check whether statistics are up to date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/update-statistics.html#generate-statistics-selectively">Generate statistics selectively</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/update-statistics.html#improve-statistics-quality">Improve statistics quality</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/update-statistics.html#when-to-run-analyze">When to run <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/update-statistics.html#configure-automatic-statistics-collection">Configure automatic statistics collection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html">Query Plan Hints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#quick-example">Quick example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#cardinality-hints">Cardinality hints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#table-access-hints">Table access hints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#join-type-hints">Join type hints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#join-order-hints">Join order hints</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#supported-scope-and-limitations">Supported scope and limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/query-hints.html#best-practices-for-using-query-plan-hints">Best practices for using query plan hints</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/use-unique-index-on-ao-tables.html">Use Unique Indexes on AO Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-unique-index-on-ao-tables.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-unique-index-on-ao-tables.html#how-to-add-a-unique-index-to-an-ao-table">How to add a unique index to an AO table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-unique-index-on-ao-tables.html#usage-examples">Usage examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html">Use Automatic Materialized Views for Query Optimization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#usage-scenarios">Usage scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#implementation">Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#comparison-with-dynamic-tables">Comparison with dynamic tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#restrictions">Restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#usage-examples">Usage examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#use-materialized-views-to-query-external-tables">Use materialized views to query external tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#aggregate-query-support">Aggregate query support</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#id1">Aggregate query support</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#having-clause-processing">HAVING clause processing</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#limit-and-order-by-support">LIMIT and ORDER BY Support</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-auto-mtv-for-query-optimization.html#notes-for-aggregate-query-support">Notes for aggregate query support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html">Use Incremental Materialized Views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#use-cases">Use cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#usage-example">Usage example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#query-performance-comparison-with-regular-views">Query performance comparison with regular views</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#example-of-using-a-regular-view">Example of using a regular view</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#example-of-using-an-incremental-materialized-view">Example of using an incremental materialized view</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#tpc-h-test-result-comparison">TPC-H test result comparison</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-incremental-mtv.html#usage-restrictions-and-notes">Usage restrictions and notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html">Execute Queries in Parallel</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html#use-cases">Use cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html#how-to-use">How to use</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html#query-heap-tables-in-parallel">Query heap tables in parallel</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html#query-ao-aoco-tables-in-parallel">Query AO/AOCO tables in parallel</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html#parameter-descriptions">Parameter descriptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/execute-queries-in-parallel.html#frequently-asked-questions">Frequently asked questions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/use-index-scan-on-ao-tables.html">Use Index Scan on AO Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-index-scan-on-ao-tables.html#use-cases">Use cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/use-index-scan-on-ao-tables.html#usage-example">Usage example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html">Push Down Aggregation Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#usage-example">Usage example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#use-cases">Use cases</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#scenario-one">Scenario one</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#scenario-two">Scenario two</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#not-recommended-scenarios">Not recommended scenarios</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#not-applicable-scenario-one">Not applicable scenario one</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#not-applicable-scenario-two">Not applicable scenario two</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#usage-restrictions">Usage restrictions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#restriction-one">Restriction one</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/optimize-queries/push-down-agg-operators.html#restriction-two">Restriction two</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-hashjoin-query-performance.html">Optimize HashJoin Query Performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-hashjoin-query-performance.html#use-cases">Use cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-hashjoin-query-performance.html#usage-restrictions">Usage restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-hashjoin-query-performance.html#usage-examples">Usage examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/optimize-queries/optimize-hashjoin-query-performance.html#example-of-performance-improvement">Example of performance improvement</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html">Create Indexes Concurrently</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#create-index-concurrently">CREATE INDEX CONCURRENTLY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#use-cases">Use cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#usage-restrictions">Usage restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#common-issue-handling">Common issue handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#reindex-concurrently">REINDEX CONCURRENTLY</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#id1">Use cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#id2">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#id3">Usage restrictions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-index-in-parallel.html#id4">Common issue handling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimize-performance/create-ao-aoco-tables-in-parallel-and-refresh-mtv.html">Create AO/AOCO Tables in Parallel and Refresh Materialized Views</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/create-ao-aoco-tables-in-parallel-and-refresh-mtv.html#usage-examples">Usage examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-ao-aoco-tables-in-parallel-and-refresh-mtv.html#create-ao-aoco-tables-in-parallel">Create AO/AOCO tables in parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/create-ao-aoco-tables-in-parallel-and-refresh-mtv.html#refresh-materialized-views-in-parallel">Refresh materialized views in parallel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/create-ao-aoco-tables-in-parallel-and-refresh-mtv.html#performance-improvement-demonstration">Performance improvement demonstration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html">Manage Resources Using Resource Groups</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#role-and-component-resource-groups">Role and component resource groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#resource-group-attributes-and-limits">Resource group attributes and limits</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#transaction-concurrency-limit">Transaction concurrency limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#bypass-limits-and-unassign-from-resource-groups">Bypass limits and unassign from resource groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#cpu-limits">CPU limits</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#assign-cpu-resources-by-core">Assign CPU resources by core</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#assign-cpu-resources-by-percentage">Assign CPU resources by percentage</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#memory-limits">Memory limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#disk-i-o-limits">Disk I/O limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#configure-and-use-resource-groups">Configure and use resource groups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#prerequisites">Prerequisites</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#configure-cgroup-v1">Configure cgroup v1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#configure-cgroup-v2">Configure cgroup v2</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#enable-resource-groups">Enable resource groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#create-resource-groups">Create resource groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#configure-automatic-query-termination-based-on-memory-usage">Configure automatic query termination based on memory usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#assign-a-resource-group-to-a-role">Assign a resource group to a role</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#monitor-resource-group-status">Monitor resource group status</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#view-resource-group-limits">View resource group limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#view-resource-group-query-status">View resource group query status</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#view-resource-group-memory-usage-per-host">View resource group memory usage per host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#view-the-resource-group-assigned-to-a-role">View the resource group assigned to a role</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#view-resource-group-disk-i-o-usage-per-host">View resource group disk I/O usage per host</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#view-a-resource-group-s-running-and-pending-queries">View a resource group’s running and pending queries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#cancel-a-running-or-queued-transaction-in-a-resource-group">Cancel a running or queued transaction in a resource group</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#move-a-query-to-a-different-resource-group">Move a query to a different resource group</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/manage-resources-using-resource-groups.html#frequently-asked-questions">Frequently asked questions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html">Use Dynamic Tables to Speed Up Queries and Auto-Refresh Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#use-cases">Use cases</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#comparison-with-materialized-views">Comparison with materialized views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#create-a-dynamic-table">Create a dynamic table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#refresh-a-dynamic-table">Refresh a dynamic table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#view-schedule-information">View schedule information</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#drop-a-dynamic-table">Drop a dynamic table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#view-distribution-key">View distribution key</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#example-1-accelerate-external-table-queries-in-lake-house-architecture">Example 1: Accelerate external table queries in lake-house architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#example-2-create-an-empty-dynamic-table">Example 2: Create an empty dynamic table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optimize-performance/use-dynamic-tables.html#notes">Notes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../manage-system/manage-system-index.html">Manage System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-index.html">View Monitoring Data Using the Web Console</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html">Install Monitoring Console</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#step-1-deploy-the-server-component">Step 1: Deploy the Server component</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#default-ports">Default ports</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#start-and-maintain-the-server">Start and maintain the Server</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#configuration-file-paths">Configuration file paths</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#step-2-deploy-the-agent-on-each-node">Step 2: Deploy the Agent on each node</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#start-and-maintain-the-agent">Start and maintain the Agent</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#next-step">Next step</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#server-service-fails-to-start">Server service fails to start</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#server-health-check-fails">Server health check fails</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#agent-service-fails-to-start">Agent service fails to start</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/install-monitor-console.html#agent-health-check-fails">Agent health check fails</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-overview.html">View Cluster Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-overview.html#steps">Steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html">Cluster Status and Metrics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#access-the-pages">Access the pages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#view-the-overall-status-and-data-of-the-cluster">View the overall status and data of the cluster</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#cluster-cpu-usage-status">Cluster CPU usage status</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#cluster-memory-usage-status">Cluster memory usage status</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#cluster-disk-i-o-rate">Cluster disk I/O rate</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#network-i-o-rate">Network I/O rate</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#view-the-status-and-data-of-nodes-and-hosts">View the status and data of nodes and hosts</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#host-metrics">Host metrics</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-cluster-status.html#segment-status">Segment status</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-db-object-info.html">View Database Object Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-view-db-object-info.html#view-table-objects">View table objects</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html">View SQL Monitoring Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#access-the-page">Access the page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#view-sql-execution-status">View SQL execution status</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#view-in-progress-sql">View in-progress SQL</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#view-sql-details">View SQL Details</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#cancel-sql-execution">Cancel SQL execution</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#id1">View SQL details</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-sql-monitor-info.html#view-session-status">View session status</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-storage-overview.html">View Storage Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-storage-overview.html#steps">Steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html">View and Create Alert  Rules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#access-the-alert-page">Access the alert page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#view-existing-alert-rules">View existing alert rules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#create-an-alert-rule">Create an alert rule</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#select-alert-type">Select alert type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#set-alert-rules">Set alert rules</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#set-notification-policy">Set notification policy</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-alert-configs.html#save-the-configuration">Save the configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-contact-groups.html">View and Create Contact Groups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-contact-groups.html#access-the-contact-group-page">Access the contact group page</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-contact-groups.html#view-existing-contact-groups">View existing contact groups</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/monitor-system/monitor-console-contact-groups.html#create-a-contact-group">Create a contact group</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manage-system/set-security-and-permission/set-security-and-permission-index.html">Configure Security and Permission</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html">Configure Password Policies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#set-password-policies-using-sql-syntax">Set password policies using SQL syntax</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#create-profile">CREATE PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#alter-profile">ALTER PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#drop-profile">DROP PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#create-user-profile">CREATE USER … PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#alter-user-profile">ALTER USER … PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#create-user-enable-disable-profile">CREATE USER … ENABLE/DISABLE PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#alter-user-enable-disable-profile">ALTER USER … ENABLE/DISABLE PROFILE</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#create-user-account-lock-unlock">CREATE USER … ACCOUNT LOCK/UNLOCK</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#alter-user-account-lock-unlock">ALTER USER … ACCOUNT LOCK/UNLOCK</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#view-password-policy-information-in-system-tables">View password policy information in system tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#default-password-policy">Default password policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#usage-examples">Usage examples</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#create-a-password-policy">Create a password policy</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#scenario-1-set-the-maximum-number-of-failed-login-attempts-and-the-password-lock-time">Scenario 1: Set the maximum number of failed login attempts and the password lock time</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#scenario-2-set-the-number-of-historical-password-reuses">Scenario 2: Set the number of historical password reuses</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#scenario-3-use-the-settings-of-the-default-profile">Scenario 3: Use the settings of the default profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#scenario-4-superuser-locks-or-unlocks-user-accounts">Scenario 4: Superuser locks or unlocks user accounts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/set-password-policy.html#scenario-5-enable-profile-for-regular-users">Scenario 5: Enable profile for regular users</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/check-password-security.html">Check Password Security</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/check-password-security.html#usage-scenarios">Usage scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/check-password-security.html#how-to-use">How to use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/check-password-security.html#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html">Encrypt Data with pgcrypto</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#notes-on-openssl-related-algorithm-support">Notes on OpenSSL-related algorithm support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#general-hashing-functions">General hashing functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#digest"><code class="docutils literal notranslate"><span class="pre">digest()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#hmac"><code class="docutils literal notranslate"><span class="pre">hmac()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#password-hashing-functions">Password hashing functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#crypt"><code class="docutils literal notranslate"><span class="pre">crypt()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#gen-salt"><code class="docutils literal notranslate"><span class="pre">gen_salt()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-encryption-functions">PGP encryption functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-sym-encrypt"><code class="docutils literal notranslate"><span class="pre">pgp_sym_encrypt()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-sym-decrypt"><code class="docutils literal notranslate"><span class="pre">pgp_sym_decrypt()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-pub-encrypt"><code class="docutils literal notranslate"><span class="pre">pgp_pub_encrypt()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-pub-decrypt"><code class="docutils literal notranslate"><span class="pre">pgp_pub_decrypt()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-key-id"><code class="docutils literal notranslate"><span class="pre">pgp_key_id()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#armor-dearmor"><code class="docutils literal notranslate"><span class="pre">armor()</span></code>, <code class="docutils literal notranslate"><span class="pre">dearmor()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#pgp-armor-headers"><code class="docutils literal notranslate"><span class="pre">pgp_armor_headers</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#options-for-pgp-functions">Options for PGP functions</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#generate-pgp-keys-with-gnupg">Generate PGP keys with GnuPG</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#limitations-of-the-pgp-code">Limitations of the PGP code</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#raw-encryption-functions">Raw encryption functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#random-data-functions">Random-data functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#gen-random-bytes"><code class="docutils literal notranslate"><span class="pre">gen_random_bytes()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#gen-random-uuid"><code class="docutils literal notranslate"><span class="pre">gen_random_uuid()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgcrypto.html#notes-on-random-number-generation">Notes on random number generation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/use-anon.html">Anonymize Data Using Anon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-anon.html#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-anon.html#install-anon">Install Anon</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-anon.html#user-guide">User guide</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-anon.html#dynamic-masking">Dynamic masking</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-anon.html#masking-functions">Masking functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html">Use TDE to Encrypt Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#how-it-works">How it works</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#basic-concepts">Basic concepts</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#encryption-algorithms">Encryption algorithms</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#implementation-of-transparent-data-encryption">Implementation of transparent data encryption</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#how-to-use">How to use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#how-to-verify">How to verify</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#verification-process">Verification process</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#performance-evaluation">Performance evaluation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#test-environment">Test environment</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-tde-to-encrypt-data.html#test-data">Test data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html">Log Audit with pgAudit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#compile-and-install">Compile and install</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-settings">pgAudit settings</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-class">pgaudit.log_class</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-catalog">pgaudit.log_catalog</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-client">pgaudit.log_client</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-level">pgaudit.log_level</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-parameter">pgaudit.log_parameter</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-relation">pgaudit.log_relation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-rows">pgaudit.log_rows</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-statement">pgaudit.log_statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-log-statement-once">pgaudit.log_statement_once</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#pgaudit-role">pgaudit.role</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#session-audit-log">Session audit log</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#configuration">Configuration</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#object-audit-log">Object audit log</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#settings">Settings</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#example-1">Example</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/use-pgaudit.html#format">Format</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html">Manage Roles and Privileges in SynxDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html#create-new-roles-users">Create new roles (users)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html#alter-role-attributes">Alter role attributes</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html#role-membership">Role membership</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html#manage-object-privileges">Manage object privileges</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html#security-best-practices-for-roles-and-privileges">Security best practices for roles and privileges</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/set-security-and-permission/manage-roles-and-privileges.html#encrypt-data">Encrypt data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manage-system/backup-and-restore/br-index.html">Backup and Restore</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/backup-and-restore/br-overview.html">Backup and Restore Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/br-overview.html#parallel-backup-with-gpbackup-and-gprestore">Parallel backup with <code class="docutils literal notranslate"><span class="pre">gpbackup</span></code> and <code class="docutils literal notranslate"><span class="pre">gprestore</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/br-overview.html#command-line-flags-for-gpbackup-and-gprestore">Command-line flags for gpbackup and gprestore</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/br-overview.html#non-parallel-backup-with-pg-dump">Non-parallel backup with <code class="docutils literal notranslate"><span class="pre">pg_dump</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/br-overview.html#backup-and-recovery-with-cbdr-at-the-wal-level">Backup and recovery with CBDR at the WAL level</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html">Perform Full Backup and Restore</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#back-up-the-full-database">Back up the full database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#restore-the-full-database">Restore the full database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#filter-the-contents-of-a-backup-or-restore">Filter the contents of a backup or restore</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#filter-by-schema">Filter by schema</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#filter-by-table">Filter by table</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#filter-with-gprestore">Filter with <code class="docutils literal notranslate"><span class="pre">gprestore</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#filter-by-leaf-partition">Filter by leaf partition</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#check-report-files">Check report files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#configure-email-notifications">Configure email notifications</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#gpbackup-and-gprestore-email-file-format">gpbackup and gprestore email file format</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#email-yaml-file-sections">Email YAML file sections</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/full-backup-and-restore.html#email-examples">Email examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html">Perform Incremental Backup and Restore</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html#about-incremental-backup-sets">About incremental backup sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html#use-incremental-backups">Use incremental backups</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html#example-using-incremental-backup-sets">Example using incremental backup sets</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html#create-an-incremental-backup-with-gpbackup">Create an incremental backup with <code class="docutils literal notranslate"><span class="pre">gpbackup</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html#restore-from-an-incremental-backup-with-gprestore">Restore from an incremental backup with <code class="docutils literal notranslate"><span class="pre">gprestore</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/incremental-backup-and-restore.html#incremental-backup-notes">Incremental backup notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html">CBDR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#full-backup-and-restore-procedure">Full backup and restore procedure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#backup-process">Backup process</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#restore-process">Restore process</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#incremental-backup-and-restore-procedure">Incremental backup and restore procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#restore-procedure-using-a-restore-point">Restore procedure using a restore point</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#configuration-file-reference">Configuration file reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#command-usage">Command usage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#configure-commands">Configure commands</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#cluster-backup">Cluster backup</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#view-backup-list">View backup list</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#restore-command">Restore command</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#delete-command">Delete command</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/backup-and-restore/cbdr.html#restore-point-commands">Restore point commands</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manage-system/expand-and-shrink-cluster.html">Expand and Shrink a Cluster</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/expand-and-shrink-cluster.html#shrink-a-cluster-using-gpshrink">Shrink a cluster using gpshrink</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/expand-and-shrink-cluster.html#expand-a-cluster-using-gpexpand">Expand a cluster using gpexpand</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manage-system/configure-database-system.html">Configure Database System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/configure-database-system.html#coordinator-and-local-parameters">Coordinator and local parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/configure-database-system.html#set-configuration-parameters">Set configuration parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/configure-database-system.html#set-a-local-configuration-parameter">Set a local configuration parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/configure-database-system.html#set-a-coordinator-configuration-parameter">Set a coordinator configuration parameter</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/configure-database-system.html#set-parameters-at-the-system-level">Set parameters at the system level</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/configure-database-system.html#set-parameters-at-the-database-level">Set parameters at the database level</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/configure-database-system.html#set-parameters-at-the-row-level">Set parameters at the row level</a></li>
<li class="toctree-l5"><a class="reference internal" href="../manage-system/configure-database-system.html#set-parameters-in-a-session-level">Set parameters in a session level</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../manage-system/configure-database-system.html#view-server-configuration-parameter-settings">View server configuration parameter settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../manage-system/configure-database-system.html#view-parameters-using-the-pg-settings-view">View parameters using the <code class="docutils literal notranslate"><span class="pre">pg_settings</span></code> view</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="component-index.html">Component Guides</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using ZomboDB to integrate with Elasticsearch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-it-works">How it works</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-index-and-load-data-process">Create index and load data process</a></li>
<li class="toctree-l4"><a class="reference internal" href="#query-data-process">Query data process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-using-gppkg-package">Install using gppkg package</a></li>
<li class="toctree-l4"><a class="reference internal" href="#install-using-rpm-package">Install using RPM package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage-instructions">Usage instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-and-use-indexes">Create and use indexes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#create-indexes">Create indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="#modify-indexes">Modify indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="#drop-indexes">Drop indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="#syntax-options">Syntax options</a></li>
<li class="toctree-l5"><a class="reference internal" href="#usage-examples">Usage examples</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#zombodb-query-syntax">ZomboDB query syntax</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#boolean-queries">Boolean queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="#field-specific-queries">Field-specific queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="#value-list-queries">Value list queries</a></li>
<li class="toctree-l5"><a class="reference internal" href="#proximity-search">Proximity search</a></li>
<li class="toctree-l5"><a class="reference internal" href="#elasticsearch-json-queries">Elasticsearch JSON queries</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#query-dsl">Query DSL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#zombodb-query-statements">ZomboDB query statements</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#direct-json">Direct JSON</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sql-builder-api">SQL Builder API</a></li>
<li class="toctree-l5"><a class="reference internal" href="#postgis-support">PostGIS support</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#aggregation-functions">Aggregation functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#arbitrary-json-aggregations">Arbitrary JSON aggregations</a></li>
<li class="toctree-l5"><a class="reference internal" href="#single-value-aggregations">Single-value aggregations</a></li>
<li class="toctree-l5"><a class="reference internal" href="#multi-row-column-aggregations">Multi-row/column aggregations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#sorting-and-highlighting">Sorting and highlighting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sql-functions">SQL functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#es-cat-api">ES _cat API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vacuum-support">Vacuum support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references/references-index.html">Reference Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../references/sql-statement-index.html">SQL Statements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/abort.html">ABORT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/abort.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/abort.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/abort.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/abort.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/abort.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/abort.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/alter-database.html">ALTER DATABASE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-database.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-database.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-database.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-database.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-database.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-database.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/alter-rule.html">ALTER RULE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-rule.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-rule.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-rule.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-rule.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-rule.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/alter-tablespace.html">ALTER TABLESPACE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-tablespace.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-tablespace.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-tablespace.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-tablespace.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/alter-tablespace.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/create-database.html">CREATE DATABASE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-database.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-database.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-database.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-database.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-database.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-database.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/create-index.html">CREATE INDEX</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#index-storage-parameters">Index storage parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-index.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/create-tablespace.html">CREATE TABLESPACE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-tablespace.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-tablespace.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-tablespace.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-tablespace.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-tablespace.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/create-tablespace.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-database.html">DROP DATABASE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-database.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-database.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-database.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-database.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-database.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-database.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-extension.html">DROP EXTENSION</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-extension.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-extension.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-extension.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-extension.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-extension.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-external-table.html">DROP EXTERNAL TABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-external-table.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-external-table.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-external-table.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-external-table.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-external-table.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-index.html">DROP INDEX</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-index.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-index.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-index.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-index.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-index.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-materialized-view.html">DROP MATERIALIZED VIEW</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-materialized-view.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-materialized-view.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-materialized-view.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-materialized-view.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-materialized-view.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-role.html">DROP ROLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-role.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-role.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-role.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-role.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-role.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-rule.html">DROP RULE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-rule.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-rule.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-rule.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-rule.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-rule.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-schema.html">DROP SCHEMA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-schema.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-schema.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-schema.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-schema.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-schema.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-schema.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-table.html">DROP TABLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-table.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-table.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-table.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-table.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-table.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html">DROP TABLESPACE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-tablespace.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-type.html">DROP TYPE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-type.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-type.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-type.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-type.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-type.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-user.html">DROP USER</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-user.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-user.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-user.html#compatibility">Compatibility</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-user.html#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/drop-view.html">DROP VIEW</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-view.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-view.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-view.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-view.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/drop-view.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/end.html">END</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/end.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/end.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/end.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/end.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/end.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/end.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html">ROLLBACK TO SAVEPOINT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback-to-savepoint.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/rollback.html">ROLLBACK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/rollback.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/savepoint.html">SAVEPOINT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/savepoint.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/savepoint.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/savepoint.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/savepoint.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/savepoint.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/savepoint.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/set-role.html">SET ROLE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-role.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-role.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-role.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-role.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-role.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-role.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/set-transaction.html">SET TRANSACTION</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-transaction.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-transaction.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-transaction.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-transaction.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/set-transaction.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/start-transaction.html">START TRANSACTION</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/start-transaction.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/start-transaction.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/start-transaction.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/start-transaction.html#compatibility">Compatibility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sql-statements/truncate.html">TRUNCATE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/truncate.html#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/truncate.html#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/truncate.html#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/truncate.html#notes">Notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/truncate.html#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sql-statements/truncate.html#compatibility">Compatibility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../references/sys-utilities/sys-utilities-index.html">System Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/sys-utilities/gpdemo.html">gpdemo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-utilities/gpdemo.html#how-to-use">How to use</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-utilities/gpdemo.html#deploy-with-default-settings">Deploy with default settings</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-utilities/gpdemo.html#deploy-with-customized-settings">Deploy with customized settings</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-utilities/gpdemo.html#command-line-options">Command-line options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../references/sys-catalog/sys-catalog-index.html">System Catalogs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/sys-catalog/sys-views.html">System Views</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/sys-views.html#pg-stat-progress-create-index">pg_stat_progress_create_index</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/sys-views.html#field-descriptions">Field descriptions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html">The gp_toolkit Administrative Schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#about-the-extension">About the extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#upgrade-the-extension">Upgrade the extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-for-tables-that-need-routine-maintenance">Check for tables that need routine maintenance</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-bloat-diag">gp_bloat_diag</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-stats-missing">gp_stats_missing</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-for-locks">Check for locks</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-locks-on-relation">gp_locks_on_relation</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-locks-on-resqueue">gp_locks_on_resqueue</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-append-optimized-tables">Check append-optimized tables</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aovisimap-compaction-info-oid">__gp_aovisimap_compaction_info(oid)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aoseg-regclass">__gp_aoseg(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aoseg-history-regclass">__gp_aoseg_history(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aocsseg-regclass">__gp_aocsseg(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aocsseg-history-regclass">__gp_aocsseg_history(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aovisimap-regclass">__gp_aovisimap(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aovisimap-hidden-info-regclass">__gp_aovisimap_hidden_info(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aovisimap-entry-regclass">__gp_aovisimap_entry(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-aoblkdir-regclass">__gp_aoblkdir(regclass)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#get-column-size-oid">get_column_size(oid)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-column-size">gp_column_size</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-column-size-summary">gp_column_size_summary</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#view-server-log-files">View server log files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-log-command-timings">gp_log_command_timings</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-log-database">gp_log_database</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-log-coordinator-concise">gp_log_coordinator_concise</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-log-system">gp_log_system</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-server-configuration-files">Check server configuration files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-param-setting-parameter-name">gp_param_setting(‘parameter_name’)</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-param-settings-seg-value-diffs">gp_param_settings_seg_value_diffs</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-for-failed-segments">Check for failed segments</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-pgdatabase-invalid">gp_pgdatabase_invalid</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-resource-group-activity-and-status">Check resource group activity and status</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resgroup-config">gp_resgroup_config</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resgroup-role">gp_resgroup_role</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resgroup-status">gp_resgroup_status</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resgroup-status-per-host">gp_resgroup_status_per_host</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resgroup-status-per-segment">gp_resgroup_status_per_segment</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-resource-queue-activity-and-status">Check resource queue activity and status</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resq-activity">gp_resq_activity</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resq-activity-by-queue">gp_resq_activity_by_queue</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resq-priority-statement">gp_resq_priority_statement</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resq-role">gp_resq_role</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-resqueue-status">gp_resqueue_status</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-query-disk-spill-space-usage">Check query disk spill space usage</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-workfile-entries">gp_workfile_entries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-workfile-usage-per-query">gp_workfile_usage_per_query</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-workfile-usage-per-segment">gp_workfile_usage_per_segment</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#view-users-and-groups-roles">View users and groups (roles)</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-roles-assigned">gp_roles_assigned</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-database-object-sizes-and-disk-space">Check database object sizes and disk space</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-all-table-indexes">gp_size_of_all_table_indexes</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-database">gp_size_of_database</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-index">gp_size_of_index</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-schema-disk">gp_size_of_schema_disk</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-table-and-indexes-disk">gp_size_of_table_and_indexes_disk</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-table-and-indexes-licensing">gp_size_of_table_and_indexes_licensing</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-table-disk">gp_size_of_table_disk</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-size-of-table-uncompressed">gp_size_of_table_uncompressed</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-disk-free">gp_disk_free</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-for-missing-and-orphaned-data-files">Check for missing and orphaned data files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-check-orphaned-files">gp_check_orphaned_files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-check-missing-files">gp_check_missing_files</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-check-missing-files-ext">gp_check_missing_files_ext</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#move-orphaned-data-files">Move orphaned data files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#check-for-uneven-data-distribution">Check for uneven data distribution</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-skew-coefficients">gp_skew_coefficients</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#gp-skew-idle-fractions">gp_skew_idle_fractions</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#maintain-partitions">Maintain partitions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#the-gp-partitions-view">The gp_partitions view</a></li>
<li class="toctree-l5"><a class="reference internal" href="../references/sys-catalog/gp-toolkit-schema.html#user-defined-functions-for-partition-maintenance">User-defined functions for partition maintenance</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../references/config-params-guc-list.html">Configuration Parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#autovacuum-freeze-max-age">autovacuum_freeze_max_age</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#autovacuum-vacuum-cost-delay">autovacuum_vacuum_cost_delay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#autovacuum-vacuum-scale-factor">autovacuum_vacuum_scale_factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#autovacuum-vacuum-threshold">autovacuum_vacuum_threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#checkpoint-timeout">checkpoint_timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-appendonly-compaction-segfile-limit">gp_appendonly_compaction_segfile_limit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-autostats-lock-wait">gp_autostats_lock_wait</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-command-count">gp_command_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-dynamic-partition-pruning">gp_dynamic_partition_pruning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-enable-runtime-filter-pushdown">gp_enable_runtime_filter_pushdown</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-enable-statement-trigger">gp_enable_statement_trigger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-max-partition-level">gp_max_partition_level</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-resource-manager">gp_resource_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-role">gp_role</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#gp-session-id">gp_session_id</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#krb-server-keyfile">krb_server_keyfile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#log-checkpoints">log_checkpoints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#max-connections">max_connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#max-replication-slots">max_replication_slots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-array-constraints">optimizer_array_constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-array-expansion-threshold">optimizer_array_expansion_threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-cost-model">optimizer_cost_model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-cost-threshold">optimizer_cost_threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-cte-inlining-bound">optimizer_cte_inlining_bound</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-damping-factor-filter">optimizer_damping_factor_filter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-damping-factor-groupby">optimizer_damping_factor_groupby</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-damping-factor-join">optimizer_damping_factor_join</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-discard-redistribute-hashjoin">optimizer_discard_redistribute_hashjoin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-dpe-stats">optimizer_dpe_stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-derive-stats-all-groups">optimizer_enable_derive_stats_all_groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-dynamicbitmapscan">optimizer_enable_dynamicbitmapscan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-dynamicindexonlyscan">optimizer_enable_dynamicindexonlyscan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-dynamicindexscan">optimizer_enable_dynamicindexscan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-foreign-table">optimizer_enable_foreign_table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-indexonlyscan">optimizer_enable_indexonlyscan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-orderedagg">optimizer_enable_orderedagg</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-push-join-below-union-all">optimizer_enable_push_join_below_union_all</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-query-parameter">optimizer_enable_query_parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-enable-right-outer-join">optimizer_enable_right_outer_join</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-force-three-stage-scalar-dqa">optimizer_force_three_stage_scalar_dqa</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-nestloop-factor">optimizer_nestloop_factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-penalize-broadcast-threshold">optimizer_penalize_broadcast_threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-push-group-by-below-setop-threshold">optimizer_push_group_by_below_setop_threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-replicated-table-insert">optimizer_replicated_table_insert</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-skew-factor">optimizer_skew_factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-sort-factor">optimizer_sort_factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-trace-fallback">optimizer_trace_fallback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-use-gpdb-allocators">optimizer_use_gpdb_allocators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#optimizer-xform-bind-threshold">optimizer_xform_bind_threshold</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#superuser-reserved-connections">superuser_reserved_connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#track-io-timing">track_io_timing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#wal-compression">wal_compression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#wal-keep-size">wal_keep_size</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#work-mem">work_mem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../references/config-params-guc-list.html#writable-external-table-bufsize">writable_external_table_bufsize</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../develop-guides/develop-guides-index.html">Developer Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html">Develop Database Extensions Using PGRX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#requirements-for-development-environment">Requirements for development environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#basic-software-environment">Basic software environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#postgresql-dependencies">PostgreSQL dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#quick-start-for-pgrx">Quick start for PGRX</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#set-up-and-install-pgrx">Set up and install PGRX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#create-an-extension">Create an extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#install-and-use-the-extension">Install and use the extension</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#pgrx-type-mapping">PGRX type mapping</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#custom-type-conversions">Custom type conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#type-mapping-details">Type mapping details</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#pgrx-core-features">PGRX core features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#complete-management-for-development-environment">Complete management for development environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#automatic-mode-generation">Automatic mode generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#security-first">Security first</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#udf-supports">UDF supports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#simple-custom-types">Simple custom types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#server-programming-interface-spi">Server programming interface (SPI)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#advanced-features">Advanced features</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#considerations-and-best-practices-for-pgrx">Considerations and best practices for PGRX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#debugging-and-development-tips">Debugging and development tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="../develop-guides/develop-extensions-using-rust.html#learning-resources-for-pgrx">Learning resources for PGRX</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SynxDB Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="component-index.html">Component Guides</a></li>
      <li class="breadcrumb-item active">Using ZomboDB to integrate with Elasticsearch</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-zombodb-to-integrate-with-elasticsearch">
<h1>Using ZomboDB to integrate with Elasticsearch<a class="headerlink" href="#using-zombodb-to-integrate-with-elasticsearch" title="Link to this heading"></a></h1>
<p>ZomboDB is a plugin for SynxDB that enables SynxDB and Elasticsearch to work together, providing SynxDB with Elasticsearch’s rich full-text search and text analysis capabilities.</p>
<p>ZomboDB is essentially an external index for data tables. Users can create ZomboDB indexes on existing SynxDB tables using the standard SQL index creation syntax.</p>
<p>ZomboDB can manage indexes on Elasticsearch clusters and ensures transactional correctness for text search operations.</p>
<p>ZomboDB supports most SynxDB SQL syntax, including <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span></code>, <code class="docutils literal notranslate"><span class="pre">COPY</span></code>, <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>, <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, <code class="docutils literal notranslate"><span class="pre">ALTER</span></code>, <code class="docutils literal notranslate"><span class="pre">DROP</span></code>, <code class="docutils literal notranslate"><span class="pre">REINDEX</span></code>, <code class="docutils literal notranslate"><span class="pre">(auto)VACUUM</span></code>.</p>
<section id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Link to this heading"></a></h2>
<p>ZomboDB connects SynxDB clusters with Elasticsearch clusters, regardless of whether these two clusters are deployed on the same or different hosts, as long as network connectivity between the cluster hosts is maintained.</p>
<p>A ZomboDB index in a SynxDB data table actually corresponds to an index in Elasticsearch. With large data volumes, to avoid having each segment in SynxDB scan the full dataset under the index, data from different segments can be distributed to various shards under the index, ensuring efficient ES data scanning for each segment.</p>
<img alt="../_images/zombodb-1.png" src="../_images/zombodb-1.png" />
<section id="create-index-and-load-data-process">
<h3>Create index and load data process<a class="headerlink" href="#create-index-and-load-data-process" title="Link to this heading"></a></h3>
<p>The following diagram shows the general process of creating a ZomboDB index for a data table and loading data.</p>
<img alt="../_images/zombodb-2.png" src="../_images/zombodb-2.png" />
<p>The entire process involves communication and interaction with the Coordinator node in the SynxDB cluster.</p>
<ol class="arabic simple">
<li><p>Create a data table in the SynxDB cluster and load the corresponding data.</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span></code> syntax to create a ZomboDB index. At this time, ensure that the Elasticsearch cluster is available and the network is connected to the SynxDB cluster.</p></li>
<li><p>During the creation process, ZomboDB will automatically insert existing data from the table into the corresponding index in Elasticsearch. If an error occurs or the transaction is manually rolled back, the data in ES will also be automatically cleaned up.</p></li>
</ol>
<p>After the index is created, any new data inserted into the table will automatically be inserted into the corresponding Elasticsearch index.</p>
</section>
<section id="query-data-process">
<h3>Query data process<a class="headerlink" href="#query-data-process" title="Link to this heading"></a></h3>
<p>The following diagram shows the general process of querying data when a ZomboDB index exists.</p>
<img alt="../_images/zombodb-3.png" src="../_images/zombodb-3.png" />
<ol class="arabic simple">
<li><p>The user uses ZomboDB query syntax to query based on the ZomboDB index. ZomboDB queries are essentially the same as regular select statements, except they need to use the ZomboDB-specific identifier <code class="docutils literal notranslate"><span class="pre">==&gt;</span></code>.</p></li>
<li><p>The Coordinator node in the SynxDB cluster distributes the query to each Segment.</p></li>
<li><p>Each Segment executes the query independently, only needing to query data from a specific Shard in the corresponding Elasticsearch index.</p></li>
<li><p>Each Segment returns the query results to the Coordinator node.</p></li>
<li><p>The Coordinator node receives the results from the Segments, performs aggregation or other operations, and returns them to the user.</p></li>
</ol>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>There are two ways to install ZomboDB: using gppkg packages or using RPM packages.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<ul class="simple">
<li><dl class="simple">
<dt>Both gppkg and RPM packages provide HTTPS and HTTP versions:</dt><dd><ul>
<li><p>gppkg package (HTTPS version)</p></li>
<li><p>gppkg package (HTTP version)</p></li>
<li><p>RPM package (HTTPS version)</p></li>
<li><p>RPM package (HTTP version)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>If the Elasticsearch cluster used by ZomboDB is configured with HTTPS, you should choose the HTTPS version of the installation package when installing ZomboDB.</p></li>
<li><p>When installing ZomboDB, if you need to use custom certificates, you need to declare the environment variable <code class="docutils literal notranslate"><span class="pre">SSL_CERT_FILE</span></code>, for example <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">SSL_CERT_FILE=/path/to/your/cert</span></code>, otherwise the system default certificate will be used.</p></li>
</ul>
</div>
<section id="install-using-gppkg-package">
<h3>Install using gppkg package<a class="headerlink" href="#install-using-gppkg-package" title="Link to this heading"></a></h3>
<ol class="arabic">
<li><p>Execute the following command and modify the gppkg package to your own gppkg package name to complete the installation.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># zombodb-1.1-24716-release.gppkg is the gppkg package</span>
gppkg<span class="w"> </span>-i<span class="w"> </span>zombodb-1.1-24716-release.gppkg
</pre></div>
</div>
</li>
<li><p>Execute the following command for verification.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Enter the database through psql postgres and create the ZomboDB extension</span>
<span class="n">postgres</span><span class="o">=#</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">zombodb</span><span class="p">;</span>

<span class="c1">-- The following result indicates successful installation</span>
<span class="k">CREATE</span><span class="w"> </span><span class="n">EXTENSION</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="install-using-rpm-package">
<h3>Install using RPM package<a class="headerlink" href="#install-using-rpm-package" title="Link to this heading"></a></h3>
<ol class="arabic">
<li><p>Execute the following command to install ZomboDB.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># installroot is the |product_name| installation directory</span>
<span class="c1"># zombodb_centos_pg14-3000.1.5_1.x86_64-24716-release.rpm is the provided ZomboDB rpm package</span>
yum<span class="w"> </span>install<span class="w"> </span>zombodb_centos_pg14-3000.1.5_1.x86_64-24716-release.rpm<span class="w"> </span>--installroot<span class="o">=</span>/usr/local/cloudberry-db-devel/
</pre></div>
</div>
</li>
<li><p>Execute the following command for verification.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Enter the database through psql postgres and create the ZomboDB extension</span>
<span class="n">postgres</span><span class="o">=#</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">zombodb</span><span class="p">;</span>

<span class="c1">-- The following result indicates successful installation</span>
<span class="k">CREATE</span><span class="w"> </span><span class="n">EXTENSION</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="usage-instructions">
<h2>Usage instructions<a class="headerlink" href="#usage-instructions" title="Link to this heading"></a></h2>
<section id="create-and-use-indexes">
<h3>Create and use indexes<a class="headerlink" href="#create-and-use-indexes" title="Link to this heading"></a></h3>
<section id="create-indexes">
<h4>Create indexes<a class="headerlink" href="#create-indexes" title="Link to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">INDEX</span></code> syntax can create indexes for all or partial fields.</p>
<section id="create-indexes-for-all-fields">
<h5>Create indexes for all fields<a class="headerlink" href="#create-indexes-for-all-fields" title="Link to this heading"></a></h5>
<p>The syntax for creating a ZomboDB index is as follows.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">index_name</span>
<span class="w">       </span><span class="k">ON</span><span class="w"> </span><span class="k">table_name</span>
<span class="w">       </span><span class="k">USING</span><span class="w"> </span><span class="n">zombodb</span><span class="w"> </span><span class="p">((</span><span class="k">table_name</span><span class="p">.</span><span class="o">*</span><span class="p">))</span>
<span class="w">       </span><span class="k">WITH</span><span class="w"> </span><span class="p">(...);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">((table_name.*))</span></code> indicates indexing all fields in the table, meaning all fields in the table are stored in ES, allowing content from any field in the table to be searched.</p>
<p>ZomboDB generates a UUID as the index name for Elasticsearch, and for readability, it also assigns an alias to the index name. The alias naming convention is <code class="docutils literal notranslate"><span class="pre">database_name.scheme_name.table_name.index_name-index_OID</span></code>, which can be queried through the zdb.index_stats table that stores statistical information related to ZomboDB indexes.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_stats</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">pg_index_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;idxproducts&#39;</span><span class="p">::</span><span class="n">regclass</span><span class="p">;</span>
<span class="w">                 </span><span class="k">alias</span><span class="w">                  </span><span class="o">|</span><span class="w">     </span><span class="n">es_index_name</span><span class="w">      </span><span class="o">|</span><span class="w">          </span><span class="n">url</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pg_index_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">es_docs</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">es_size</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">es_size_bytes</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pg_docs_estimate</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pg_size</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pg_size_bytes</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">shards</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">replicas</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">doc_count</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">aborted_xids</span>
<span class="c1">----------------------------------------+------------------------+------------------------+------------+---------------+---------+---------+---------------+------------------+---------+---------------+--------+----------+-----------+--------------</span>
<span class="w"> </span><span class="n">demo</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="n">products</span><span class="p">.</span><span class="n">idxproducts</span><span class="o">-</span><span class="mi">17840</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">17096</span><span class="p">.</span><span class="mi">2200</span><span class="p">.</span><span class="mi">17098</span><span class="p">.</span><span class="mi">17840</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9200</span><span class="o">/</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">products</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">idxproducts</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="n">kB</span><span class="w">   </span><span class="o">|</span><span class="w">         </span><span class="mi">20264</span><span class="w"> </span><span class="o">|</span><span class="w">                </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">kB</span><span class="w">  </span><span class="o">|</span><span class="w">        </span><span class="mi">524288</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="mi">0</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="mi">5</span><span class="w">         </span><span class="o">|</span><span class="w">            </span><span class="mi">0</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="create-indexes-for-partial-fields">
<h5>Create indexes for partial fields<a class="headerlink" href="#create-indexes-for-partial-fields" title="Link to this heading"></a></h5>
<p>Still using the products table mentioned in the create index section as an example to show how to add indexes for partial fields. The products table is defined as follows.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">SERIAL8</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">  </span><span class="n">keywords</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">64</span><span class="p">)[],</span>
<span class="w">  </span><span class="n">short_summary</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">long_description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">price</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">  </span><span class="n">inventory_count</span><span class="w"> </span><span class="nb">integer</span><span class="p">,</span>
<span class="w">  </span><span class="n">discontinued</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<span class="w">  </span><span class="n">availability_date</span><span class="w"> </span><span class="nb">date</span>
<span class="p">)</span><span class="w"> </span><span class="n">DISTRIBUTED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
<p>If you want to add indexes for partial fields of a table, you can create a custom function and use <code class="docutils literal notranslate"><span class="pre">ROW()</span></code> to combine and return a custom type that can include the fields you want to index.</p>
<p>Note that the custom function can only have one parameter, and the parameter type must be the table type that needs to be indexed.</p>
<p>The following example uses the products table to show how to index partial fields.</p>
<ol class="arabic">
<li><p>Create a custom type.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="c1">-- Here we create a custom type with three fields, representing the final field information stored in ES</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="n">products_idx_type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">,</span>
<span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Create a custom function.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CREATE FUNCTION products_idx_func(products) RETURNS products_idx_type IMMUTABLE STRICT LANGUAGE sql AS $$
SELECT ROW (
        $1.id,
        $1.name,
        COALESCE($1.short_summary, &#39;&#39;) || &#39; &#39; || COALESCE($1.long_description, &#39;&#39;)
        )::products_idx_type;
$$;
</pre></div>
</div>
<p>The parameter of this function is the products table, and the function behavior is simple: it maps fields from the products table to the custom type <code class="docutils literal notranslate"><span class="pre">products_idx_type</span></code> through ROW.</p>
<p>Here we combine two fields from the products table, <code class="docutils literal notranslate"><span class="pre">short_summary</span></code> and <code class="docutils literal notranslate"><span class="pre">long_description</span></code>, into the description field in the custom type. You can combine any fields you want to index using this method.</p>
</li>
<li><p>Create the index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idxproducts</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">zombodb</span><span class="w"> </span><span class="p">((</span><span class="n">products_idx_func</span><span class="p">(</span><span class="n">products</span><span class="p">.</span><span class="o">*</span><span class="p">)))</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://localhost:9200/&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Note the difference from indexing all fields here - we used a custom function for creation.</p>
</li>
<li><p>Perform queries.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select * from products where products_idx_func(products) ==&gt; &#39;box&#39;;
id | name |               keywords               |         short_summary          |                                  long_description                                   | price | inventory_count | discontinued | availability_date
----+------+--------------------------------------+--------------------------------+-------------------------------------------------------------------------------------+-------+-----------------+--------------+-------------------
4 | Box  | {wooden,box,&quot;negative space&quot;,square} | Just an empty box made of wood | A wooden container that will eventually rot away.  Put stuff it in (but not a cat). | 17000 |               0 | t            | 2015-07-01
(1 row)
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="modify-indexes">
<h4>Modify indexes<a class="headerlink" href="#modify-indexes" title="Link to this heading"></a></h4>
<p>ZomboDB indexes support the native <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code> syntax to modify their properties, such as setting index configuration items to new values or resetting them to default values. Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">alter</span><span class="w"> </span><span class="k">index</span><span class="w"> </span><span class="n">idxproducts</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="p">(</span><span class="n">batch_size</span><span class="o">=</span><span class="mi">50000</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="drop-indexes">
<h4>Drop indexes<a class="headerlink" href="#drop-indexes" title="Link to this heading"></a></h4>
<p>When deleting any object containing ZomboDB indexes, such as explicitly dropping an index, dropping a table, schema, or database, the corresponding index in Elasticsearch will also be deleted.</p>
<p>Note that if you drop a database (DROP Database), the corresponding ES index will not be deleted, because we currently have no way to get database deletion notifications in ZomboDB.</p>
<p>The DROP syntax is transaction-safe, meaning the corresponding Elasticsearch index will be deleted when the transaction is committed.</p>
</section>
<section id="syntax-options">
<h4>Syntax options<a class="headerlink" href="#syntax-options" title="Link to this heading"></a></h4>
<p>All the options mentioned below can be specified when creating an index, and can also be modified or reset through the <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code> syntax.</p>
<section id="required-options">
<h5>Required options<a class="headerlink" href="#required-options" title="Link to this heading"></a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code></p>
<p>The url represents the address of the Elasticsearch cluster. This option must be specified, but if <code class="docutils literal notranslate"><span class="pre">zdb.default_elasticsearch_url</span></code> is specified in the configuration file <code class="docutils literal notranslate"><span class="pre">postgresql.conf</span></code>, this specified value will be used, and the url can be omitted when creating the index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">string</span>
<span class="n">Default</span><span class="p">:</span> <span class="n">zdb</span><span class="o">.</span><span class="n">default_elasticsearch_url</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="elasticsearch-options">
<h5>Elasticsearch options<a class="headerlink" href="#elasticsearch-options" title="Link to this heading"></a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">shards</span></code></p>
<p>The number of shards for the index in Elasticsearch. The default is 5 shards per index. This option can be modified through <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code>, but <code class="docutils literal notranslate"><span class="pre">REINDEX</span></code> must be executed for it to take effect.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">5</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32768</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">replicas</span></code></p>
<p>Specifies the number of replicas for each shard of the Elasticsearch index. The default value is the system GUC value <code class="docutils literal notranslate"><span class="pre">zdb.default_replicas</span></code>. It can be modified through <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code> and takes effect immediately.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="n">zdb</span><span class="o">.</span><span class="n">default_replicas</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">alias</span></code></p>
<p>The alias of the index, which allows naming ZomboDB indexes in a more convenient and readable way. It can be modified through <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code> and takes effect immediately.</p>
<p>Regular SELECT statements use the actual index name, while aggregate functions such as <code class="docutils literal notranslate"><span class="pre">zdb.count</span></code> and <code class="docutils literal notranslate"><span class="pre">zdb.terms</span></code> use the index alias.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">string</span>
<span class="n">Default</span><span class="p">:</span> <span class="s2">&quot;database.schema.table.index-index_oid&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">refresh_interval</span></code></p>
<p>This option specifies how often the Elasticsearch index refreshes changes to ensure they can be searched. The default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code> because ZomboDB wants to control when to refresh to ensure MVCC correctness.</p>
<p>Generally, it is not recommended to modify this configuration unless you can accept that SynxDB search results might temporarily not meet expectations. It can be modified through <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code> and takes effect immediately.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">string</span>
<span class="n">Default</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">type_name</span></code></p>
<p>Specifies the type name for inserting data into the Elasticsearch index. By default, this type is <code class="docutils literal notranslate"><span class="pre">_doc</span></code> in Elasticsearch 5x and 6x. In Elasticsearch 7x and later, this option is deprecated and can only be specified as <code class="docutils literal notranslate"><span class="pre">_doc</span></code>, so there is no need to modify this value in such cases.</p>
<p>Note that this option can only be specified when creating the index and cannot be modified through <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">string</span>
<span class="n">Default</span><span class="p">:</span> <span class="s2">&quot;_doc&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">translog_durability</span></code></p>
<p>Whether to persist and commit the Elasticsearch index’s translog after each Index, delete, update, or bulk request. This option accepts the following two valid values:</p>
<ul class="simple">
<li><p>request: After each request, persist and commit the translog. In case of hardware failure, committed changes will not be lost.</p></li>
<li><p>async: Each persistence and commit of the translog is scheduled by the default interval. If hardware failure occurs, some data might be lost.</p></li>
</ul>
<p>After Elasticsearch 7.4, this option was deprecated and might be removed in future versions. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.16/index-modules-translog.html#%5C_translog_settings">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">string</span>
<span class="n">Default</span><span class="p">:</span> <span class="s2">&quot;request&quot;</span>
<span class="n">Valid</span> <span class="n">values</span><span class="p">:</span> <span class="s2">&quot;request&quot;</span><span class="p">,</span> <span class="s2">&quot;async&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_result_window</span></code></p>
<p>The maximum amount of data that ZomboDB can accept from Elasticsearch in each scroll request. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#index-max-result-window">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Tyoe</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">10000</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_32_MAX</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">total_fields_limit</span></code></p>
<p>The maximum number of fields for an index in Elasticsearch. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/mapping-settings-limit.html">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">1000</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_32_MAX</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_terms_count</span></code></p>
<p>The maximum number of Term conditions that can be used in Elasticsearch Term queries. Increasing this option might improve the performance of cross-index joins. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#index-max-terms-count">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">65535</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_32_MAX</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">max_analyze_token_count</span></code></p>
<p>The maximum number of tokens that the <code class="docutils literal notranslate"><span class="pre">_analyze</span></code> API generates for a single request. This option is typically used when enabling custom highlighting for very large documents. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-analyze.html#tokens-limit-settings">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">10000</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_32_MAX</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="network-options">
<h5>Network options<a class="headerlink" href="#network-options" title="Link to this heading"></a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">bulk_concurrency</span></code></p>
<p>When writing data to Elasticsearch, ZomboDB sends multiple HTTP requests. This configuration can control the concurrent volume of requests sent, and can be used to ensure that the concurrency level does not overwhelm the Elasticsearch cluster. It can be modified through <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">INDEX</span></code> and takes effect immediately.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">CPU</span> <span class="n">cores</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Number</span> <span class="n">of</span> <span class="n">CPU</span> <span class="n">cores</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">batch_size</span></code></p>
<p>When writing data to Elasticsearch, ZomboDB batches multiple requests into a single HTTP request to ES. The default value is 8 MB.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span> <span class="p">(</span><span class="ow">in</span> <span class="nb">bytes</span><span class="p">)</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">8388608</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1024</span><span class="p">,</span> <span class="p">(</span><span class="n">INT_MAX</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">compression_level</span></code></p>
<p>Sets the compression level for HTTP request packets. The worse the network environment, the higher this value can be set. Setting it to 0 disables all compression.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">1</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="nested-type-mapping-options">
<h5>Nested type mapping options<a class="headerlink" href="#nested-type-mapping-options" title="Link to this heading"></a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">nested_fields_limit</span></code></p>
<p>The maximum number of different nested mappings in an index. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/mapping-settings-limit.html">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">1000</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_32_MAX</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">nested_objects_limit</span></code></p>
<p>The maximum number of nested JSON objects in a document that contains all nested types. When a document contains too many nested types, this option can prevent out-of-memory errors. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/mapping-settings-limit.html#mapping-settings-limit">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">integer</span>
<span class="n">Default</span><span class="p">:</span> <span class="mi">10000</span>
<span class="n">Range</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">INT_32_MAX</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">nested_object_date_detection</span></code></p>
<p>If this option is enabled (disabled by default), nested objects with json or jsonb types will check whether new string-type fields match the specified dynamic date format. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-field-mapping.html#date-detection">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="nb">bool</span>
<span class="n">Default</span><span class="p">:</span> <span class="n">false</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">nested_object_numeric_detection</span></code></p>
<p>Similar to the <code class="docutils literal notranslate"><span class="pre">nested_object_date_detection</span></code> option, but for numeric types such as float or integer. See <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-field-mapping.html#numeric-detection">Elasticsearch official documentation</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="nb">bool</span>
<span class="n">Default</span><span class="p">:</span> <span class="n">true</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">nested_object_text_mapping</span></code></p>
<p>By default, ZomboDB uses the above mapping types to map string-type properties if they exist in nested objects.</p>
<p>Can only be changed when creating the index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="n">String</span> <span class="p">(</span><span class="k">as</span> <span class="n">JSON</span><span class="p">)</span>
<span class="n">Default</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;keyword&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ignore_above&quot;</span><span class="p">:</span> <span class="mi">10922</span><span class="p">,</span>
        <span class="s2">&quot;normalizer&quot;</span><span class="p">:</span> <span class="s2">&quot;lowercase&quot;</span><span class="p">,</span>
        <span class="s2">&quot;copy_to&quot;</span><span class="p">:</span> <span class="s2">&quot;zdb_all&quot;</span>
        <span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="advanced-options">
<h5>Advanced options<a class="headerlink" href="#advanced-options" title="Link to this heading"></a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">include_source</span></code></p>
<p>This configuration controls whether the source field of each document should be included in Elasticsearch’s <code class="docutils literal notranslate"><span class="pre">_source</span></code> field. Disabling this option can reduce the size of ES documents, but it is not recommended in production environments.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span><span class="p">:</span> <span class="nb">bool</span>
<span class="n">Default</span><span class="p">:</span> <span class="n">true</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="usage-examples">
<h4>Usage examples<a class="headerlink" href="#usage-examples" title="Link to this heading"></a></h4>
<p>The following is a complete example showing how to create and use ZomboDB indexes.</p>
<ol class="arabic">
<li><p>Enter the SynxDB cluster environment and create a demo sample database.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>createdb<span class="w"> </span>demo
</pre></div>
</div>
</li>
<li><p>Open the psql client and connect to the demo database.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psql<span class="w"> </span>demo
</pre></div>
</div>
</li>
<li><p>Create the sample data table products.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="p">(</span>
<span class="n">id</span><span class="w"> </span><span class="nb">SERIAL8</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="n">keywords</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">64</span><span class="p">)[],</span>
<span class="n">short_summary</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="n">long_description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="n">price</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="n">inventory_count</span><span class="w"> </span><span class="nb">integer</span><span class="p">,</span>
<span class="n">discontinued</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">false</span><span class="p">,</span>
<span class="n">availability_date</span><span class="w"> </span><span class="nb">date</span>
<span class="p">)</span><span class="w"> </span><span class="n">DISTRIBUTED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Insert several rows of data into the products table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">COPY</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">PROGRAM</span><span class="w"> </span><span class="s1">&#39;curl https://raw.githubusercontent.com/zombodb/zombodb/master/TUTORIAL-data.dmp&#39;</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Check if the ZomboDB plugin exists, and create the ZomboDB plugin if it doesn’t exist.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pg_extension</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">extname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;zombodb&#39;</span><span class="p">;</span>

<span class="c1">-- Create the plugin if it doesn&#39;t exist</span>
<span class="k">CREATE</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">zombodb</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Create a ZomboDB index. Make sure you have an available Elasticsearch cluster and that the network is connected to the SynxDB cluster.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idxproducts</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">zombodb</span><span class="w"> </span><span class="p">((</span><span class="n">products</span><span class="p">.</span><span class="o">*</span><span class="p">))</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://&lt;Elasticsearch cluster IP address&gt;:9200/&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Here <code class="docutils literal notranslate"><span class="pre">products.*</span></code> means creating an index for all fields of the products table, which means every field of the products table will be stored in Elasticsearch. You can also index specific fields, see the manage indexes section for specific usage. The url is the address and port of the Elasticsearch cluster.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<ul class="simple">
<li><p>If the compiled ZomboDB is the HTTPS version, then the url address here needs to be filled with <code class="docutils literal notranslate"><span class="pre">https</span></code>.</p></li>
<li><p>If there is username and password authentication, you need to add the username and password to the url, for example: <code class="docutils literal notranslate"><span class="pre">http://username:password&#64;&lt;Elasticsearch</span> <span class="pre">cluster</span> <span class="pre">IP</span> <span class="pre">address&gt;:9200/</span></code>.</p></li>
</ul>
</div>
</li>
<li><p>View the products table structure information to check if the ZomboDB index was created successfully.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# \d products
                                        Table &quot;public.products&quot;
    Column       |          Type           | Collation | Nullable |               Default
-------------------+-------------------------+-----------+----------+--------------------------------------
id                | bigint                  |           | not null | nextval(&#39;products_id_seq&#39;::regclass)
name              | text                    |           | not null |
keywords          | character varying(64)[] |           |          |
short_summary     | text                    |           |          |
long_description  | text                    |           |          |
price             | bigint                  |           |          |
inventory_count   | integer                 |           |          |
discontinued      | boolean                 |           |          | false
availability_date | date                    |           |          |
Indexes:
    &quot;products_pkey&quot; PRIMARY KEY, btree (id)
    &quot;idxproducts&quot; zombodb ((products.*)) WITH (url=&#39;http://localhost:9200/&#39;)
Distributed by: (id)
</pre></div>
</div>
</li>
<li><p>Start executing ZomboDB queries using the ZomboDB query operator <code class="docutils literal notranslate"><span class="pre">==&gt;</span></code>. The following is an example of a simple fuzzy query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;sports,box&#39;</span><span class="p">;</span>
<span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="n">name</span><span class="w">   </span><span class="o">|</span><span class="w">               </span><span class="n">keywords</span><span class="w">               </span><span class="o">|</span><span class="w">         </span><span class="n">short_summary</span><span class="w">          </span><span class="o">|</span><span class="w">                                  </span><span class="n">long_description</span><span class="w">                                   </span><span class="o">|</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">inventory_count</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">discontinued</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">availability_date</span>
<span class="c1">----+----------+--------------------------------------+--------------------------------+-------------------------------------------------------------------------------------+-------+-----------------+--------------+-------------------</span>
<span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Baseball</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">{</span><span class="n">baseball</span><span class="p">,</span><span class="n">sports</span><span class="p">,</span><span class="n">round</span><span class="err">}</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">It</span><span class="s1">&#39;s a baseball                | Throw it at a person with a big wooden stick and hope they don&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">hit</span><span class="w"> </span><span class="n">it</span><span class="w">             </span><span class="o">|</span><span class="w">  </span><span class="mi">1249</span><span class="w"> </span><span class="o">|</span><span class="w">               </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">f</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">21</span>
<span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Box</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="err">{</span><span class="n">wooden</span><span class="p">,</span><span class="n">box</span><span class="p">,</span><span class="ss">&quot;negative space&quot;</span><span class="p">,</span><span class="n">square</span><span class="err">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Just</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">wood</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">wooden</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">eventually</span><span class="w"> </span><span class="n">rot</span><span class="w"> </span><span class="n">away</span><span class="p">.</span><span class="w">  </span><span class="n">Put</span><span class="w"> </span><span class="n">stuff</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="n">but</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cat</span><span class="p">).</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="w"> </span><span class="o">|</span><span class="w">               </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">t</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">01</span>
<span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="p">)</span>
</pre></div>
</div>
<p>Execute the following command to view the execution plan of this SQL. You can see that the ZomboDB index is used for the query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">explain</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;sports,box&#39;</span><span class="p">;</span>
<span class="w">                                    </span><span class="n">QUERY</span><span class="w"> </span><span class="n">PLAN</span>
<span class="c1">------------------------------------------------------------------------------------</span>
<span class="n">Gather</span><span class="w"> </span><span class="n">Motion</span><span class="w"> </span><span class="mi">3</span><span class="p">:</span><span class="mi">1</span><span class="w">  </span><span class="p">(</span><span class="n">slice1</span><span class="p">;</span><span class="w"> </span><span class="n">segments</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="n">cost</span><span class="o">=</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">..</span><span class="mi">0</span><span class="p">.</span><span class="mi">03</span><span class="w"> </span><span class="k">rows</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">width</span><span class="o">=</span><span class="mi">153</span><span class="p">)</span>
<span class="o">-&gt;</span><span class="w">  </span><span class="k">Index</span><span class="w"> </span><span class="n">Scan</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="n">idxproducts</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">products</span><span class="w">  </span><span class="p">(</span><span class="n">cost</span><span class="o">=</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span><span class="p">..</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="w"> </span><span class="k">rows</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">width</span><span class="o">=</span><span class="mi">153</span><span class="p">)</span>
<span class="w">        </span><span class="k">Index</span><span class="w"> </span><span class="n">Cond</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">ctid</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;{&quot;query_string&quot;:{&quot;query&quot;:&quot;sports,box&quot;}}&#39;</span><span class="p">::</span><span class="n">zdbquery</span><span class="p">)</span>
<span class="n">Optimizer</span><span class="p">:</span><span class="w"> </span><span class="n">Postgres</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="n">optimizer</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="zombodb-query-syntax">
<h3>ZomboDB query syntax<a class="headerlink" href="#zombodb-query-syntax" title="Link to this heading"></a></h3>
<p>ZomboDB Query Language (ZQL) is a simple text query syntax provided by ZomboDB. ZQL provides the following query syntax:</p>
<ul class="simple">
<li><p>Boolean operators (WITH, AND, OR, NOT)</p></li>
<li><p>Words</p></li>
<li><p>Phrases</p></li>
<li><p>Specified fields</p></li>
<li><p>Proximity words or phrases</p></li>
<li><p>Wildcards</p></li>
<li><p>Direct Elasticsearch JSON queries</p></li>
</ul>
<section id="boolean-queries">
<h4>Boolean queries<a class="headerlink" href="#boolean-queries" title="Link to this heading"></a></h4>
<p>Example 1: Query documents where any field contains wine or bear, and contains cheese.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;wine or bear and cheese&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Example 2: Query all documents that contain bear and cheese, and do not contain food, plus documents containing wine.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;wine or beer and cheese not food&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Boolean conditions can also be replaced with corresponding operators.</p>
<ul class="simple">
<li><p>WITH: <code class="docutils literal notranslate"><span class="pre">%</span></code></p></li>
<li><p>AND: <code class="docutils literal notranslate"><span class="pre">&amp;</span></code></p></li>
<li><p>OR: <code class="docutils literal notranslate"><span class="pre">,</span></code></p></li>
<li><p>NOT: <code class="docutils literal notranslate"><span class="pre">!</span></code></p></li>
</ul>
<p>So the above examples can be rewritten as follows.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">wine</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">bear</span><span class="p">,</span><span class="n">cheese</span>
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">wine</span><span class="p">,</span><span class="w"> </span><span class="n">bear</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">cheese</span><span class="w"> </span><span class="o">!</span><span class="n">food</span>
</pre></div>
</div>
</section>
<section id="field-specific-queries">
<h4>Field-specific queries<a class="headerlink" href="#field-specific-queries" title="Link to this heading"></a></h4>
<p>Example: Directly specify a field for querying in SQL.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">ubuntu</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;price:17000&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">               </span><span class="n">keywords</span><span class="w">               </span><span class="o">|</span><span class="w">         </span><span class="n">short_summary</span><span class="w">          </span><span class="o">|</span><span class="w">                                  </span><span class="n">long_description</span><span class="w">                                   </span><span class="o">|</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">|</span>
<span class="w"> </span><span class="n">inventory_count</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">discontinued</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">availability_date</span>
<span class="c1">----+------+--------------------------------------+--------------------------------+-------------------------------------------------------------------------------------+-------+</span>
<span class="c1">-----------------+--------------+-------------------</span>
<span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Box</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="err">{</span><span class="n">wooden</span><span class="p">,</span><span class="n">box</span><span class="p">,</span><span class="ss">&quot;negative space&quot;</span><span class="p">,</span><span class="n">square</span><span class="err">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Just</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">wood</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">wooden</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">eventually</span><span class="w"> </span><span class="n">rot</span><span class="w"> </span><span class="n">away</span><span class="p">.</span><span class="w">  </span><span class="n">Put</span><span class="w"> </span><span class="n">stuff</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="n">but</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cat</span><span class="p">).</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="w"> </span><span class="o">|</span>
<span class="w">               </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">t</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">01</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="value-list-queries">
<h4>Value list queries<a class="headerlink" href="#value-list-queries" title="Link to this heading"></a></h4>
<p>ZomboDB supports Value List queries. In SQL, specify an array of values for the field to be queried, represented by <code class="docutils literal notranslate"><span class="pre">[]</span></code>. Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;price=[17000,1249]&#39;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="proximity-search">
<h4>Proximity search<a class="headerlink" href="#proximity-search" title="Link to this heading"></a></h4>
<p>Proximity search allows specifying that terms (or phrases) should be within a certain number of tokens. The operators are <code class="docutils literal notranslate"><span class="pre">W/n</span></code> and <code class="docutils literal notranslate"><span class="pre">WO/n</span></code>, where n represents the distance. W/n means any order, WO/n means in order. For example: the sentence <code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">quick</span> <span class="pre">brown</span> <span class="pre">fox</span> <span class="pre">jumped</span> <span class="pre">over</span> <span class="pre">the</span> <span class="pre">lazy</span> <span class="pre">dog's</span> <span class="pre">back</span></code>, the proximity search phrase <code class="docutils literal notranslate"><span class="pre">jumped</span> <span class="pre">w/2</span> <span class="pre">quick</span></code> can match the above sentence. The reason:</p>
<ul class="simple">
<li><p>The distance between jumped and quick does not exceed 2.</p></li>
<li><p>There is no order restriction.</p></li>
</ul>
<p>If the proximity search phrase is <code class="docutils literal notranslate"><span class="pre">jumped</span> <span class="pre">wo/2</span> <span class="pre">quick</span></code>, it cannot match the above sentence because the order is reversed.</p>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">ubuntu</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;will w/2 wooden&#39;</span><span class="p">;</span>
<span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">|</span><span class="w">               </span><span class="n">keywords</span><span class="w">               </span><span class="o">|</span><span class="w">         </span><span class="n">short_summary</span><span class="w">          </span><span class="o">|</span><span class="w">                                  </span><span class="n">long_description</span><span class="w">                                   </span><span class="o">|</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">|</span>
<span class="w"> </span><span class="n">inventory_count</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">discontinued</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">availability_date</span>
<span class="c1">----+------+--------------------------------------+--------------------------------+-------------------------------------------------------------------------------------+-------+</span>
<span class="c1">-----------------+--------------+-------------------</span>
<span class="w">  </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Box</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="err">{</span><span class="n">wooden</span><span class="p">,</span><span class="n">box</span><span class="p">,</span><span class="ss">&quot;negative space&quot;</span><span class="p">,</span><span class="n">square</span><span class="err">}</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Just</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">box</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">wood</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">wooden</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">eventually</span><span class="w"> </span><span class="n">rot</span><span class="w"> </span><span class="n">away</span><span class="p">.</span><span class="w">  </span><span class="n">Put</span><span class="w"> </span><span class="n">stuff</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="n">but</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cat</span><span class="p">).</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">17000</span><span class="w"> </span><span class="o">|</span>
<span class="w">               </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">t</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">01</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="elasticsearch-json-queries">
<h4>Elasticsearch JSON queries<a class="headerlink" href="#elasticsearch-json-queries" title="Link to this heading"></a></h4>
<p>ZomboDB allows using JSON queries that are directly compatible with Elasticsearch. In fact, this feature operates as a single operator in ZomboDB’s query language, so you can mix and match Elasticsearch JSON queries with ZomboDB’s query structure.</p>
<p>To use direct JSON queries, simply wrap Elasticsearch-compatible JSON in <code class="docutils literal notranslate"><span class="pre">({})</span></code>.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ubuntu=# select * from products where products ==&gt; &#39;square or ({&quot;term&quot;: {&quot;price&quot;: 1899}})&#39;;
 id |   name    |                     keywords                      |                  short_summary                  |                                              long_descript
ion                                              | price | inventory_count | discontinued | availability_date
----+-----------+---------------------------------------------------+-------------------------------------------------+-----------------------------------------------------------
-------------------------------------------------+-------+-----------------+--------------+-------------------
  3 | Telephone | {communication,primitive,&quot;alexander graham bell&quot;} | A device to enable long-distance communications | Use this to call your friends and family and be annoyed by
 telemarketers.  Long-distance charges might apply |  1899 |             200 | f            | 2015-08-11
  4 | Box       | {wooden,box,&quot;negative space&quot;,square}              | Just an empty box made of wood                  | A wooden container that will eventually rot away.  Put stu
ff it in (but not a cat).                        | 17000 |               0 | t            | 2015-07-01
(2 rows)
</pre></div>
</div>
</section>
</section>
<section id="query-dsl">
<h3>Query DSL<a class="headerlink" href="#query-dsl" title="Link to this heading"></a></h3>
<p>ZomboDB supports different ways to generate query statements that are compatible with Elasticsearch. You can generate JSON-formatted Elasticsearch Query DSL directly through ZomboDB’s ZQL query statements, or use ZomboDB’s SQL Builder API that is similar to Elasticsearch Query DSL.</p>
<p>Regardless of which ZomboDB method you use for querying, such as typical SELECT statements or aggregate functions, you can switch to the following query methods. Taking SELECT statements as an example, assuming our SQL is to query all data containing <code class="docutils literal notranslate"><span class="pre">cats</span> <span class="pre">and</span> <span class="pre">dogs</span></code>, the basic query template is as follows.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;cats and dogs query here&#39;</span>
</pre></div>
</div>
<p>Note: Regardless of which query method is used, this query is actually generating <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">Elasticsearch Query DSL</a> in JSON format.</p>
<p>ZomboDB uses a custom type called <code class="docutils literal notranslate"><span class="pre">zdbquery</span></code> for abstraction, which can be converted to text, json, and jsonb formats. Therefore, the type on the right side of ZomboDB’s query identifier <code class="docutils literal notranslate"><span class="pre">==&gt;</span></code> is <code class="docutils literal notranslate"><span class="pre">zdbquery</span></code>.</p>
<p>This section does not describe the functional details of Elasticsearch queries. If you feel the information here is insufficient, you can refer to Elasticsearch-related documentation, and there will be corresponding Elasticsearch documentation links in appropriate places. In other words, this section discusses how to use ZomboDB-supported methods to generate queries.</p>
</section>
<section id="zombodb-query-statements">
<h3>ZomboDB query statements<a class="headerlink" href="#zombodb-query-statements" title="Link to this heading"></a></h3>
<p>ZQL is ZomboDB’s unique text-based query language that can specify query formats with complex conditions, for example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;box wooden&#39;</span><span class="p">;</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="s1">&#39;box AND wooden&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>To show the corresponding Elasticsearch JSON-formatted QueryDSL represented by this query condition, you can use the zdb.dump_query function for querying and display, as shown below.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select zdb.dump_query(&#39;idxproducts&#39;, &#39;box and wooden&#39;);
              dump_query
---------------------------------------
 {
   &quot;bool&quot;: {
     &quot;must&quot;: [
       {
         &quot;bool&quot;: {
           &quot;should&quot;: [
             {
               &quot;match&quot;: {
                 &quot;zdb_all&quot;: {
                   &quot;query&quot;: &quot;box&quot;,
                   &quot;boost&quot;: 1.0
                 }
               }
             },
             {
               &quot;match&quot;: {
                 &quot;long_description&quot;: {
                   &quot;query&quot;: &quot;box&quot;,
                   &quot;boost&quot;: 1.0
                 }
               }
             }
           ]
         }
       },
       {
         &quot;bool&quot;: {
           &quot;should&quot;: [
             {
               &quot;match&quot;: {
                 &quot;zdb_all&quot;: {
                   &quot;query&quot;: &quot;wooden&quot;,
                   &quot;boost&quot;: 1.0
                 }
               }
             },
             {
               &quot;match&quot;: {
                 &quot;long_description&quot;: {
                   &quot;query&quot;: &quot;wooden&quot;,
                   &quot;boost&quot;: 1.0
                 }
               }
             }
           ]
         }
       }
     ]
   }
 }
</pre></div>
</div>
<section id="direct-json">
<h4>Direct JSON<a class="headerlink" href="#direct-json" title="Link to this heading"></a></h4>
<p>ZQL is a more readable way, and you can also directly specify JSON query conditions in Elasticsearch, as shown below.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select * from products where products ==&gt; &#39;{ &quot;bool&quot;: { &quot;should&quot;: [ { &quot;bool&quot;: { &quot;should&quot;: [ { &quot;match&quot;: { &quot;zdb_all&quot;: { &quot;query&quot;: &quot;box&quot;, &quot;boost&quot;: 1.0 } } }, { &quot;match&quot;: { &quot;long_description&quot;: { &quot;query&quot;: &quot;box&quot;, &quot;boost&quot;: 1.0 } } } ] } }, { &quot;bool&quot;: { &quot;should&quot;: [ { &quot;match&quot;: { &quot;zdb_all&quot;: { &quot;query&quot;: &quot;wooden&quot;, &quot;boost&quot;: 1.0 } } }, { &quot;match&quot;: { &quot;long_description&quot;: { &quot;query&quot;: &quot;wooden&quot;, &quot;boost&quot;: 1.0 } } } ] } } ] } }&#39;;
 id |   name   |               keywords               |         short_summary          |                                  long_description                                   | pri
ce | inventory_count | discontinued | availability_date
----+----------+--------------------------------------+--------------------------------+-------------------------------------------------------------------------------------+----
---+-----------------+--------------+-------------------
  2 | Baseball | {baseball,sports,round}              | It&#39;s a baseball                | Throw it at a person with a big wooden stick and hope they don&#39;t hit it             |  12
49 |               2 | f            | 2015-08-21
  4 | Box      | {wooden,box,&quot;negative space&quot;,square} | Just an empty box made of wood | A wooden container that will eventually rot away.  Put stuff it in (but not a cat). | 170
00 |               0 | t            | 2015-07-01
(2 rows)
</pre></div>
</div>
</section>
<section id="sql-builder-api">
<h4>SQL Builder API<a class="headerlink" href="#sql-builder-api" title="Link to this heading"></a></h4>
<p>ZomboDB supports Elasticsearch Query DSL queries in function form, and all functions are in a schema named dsl. These functions all return the <code class="docutils literal notranslate"><span class="pre">zdbquery</span></code> type and can be combined with each other to form complex query conditions.</p>
<p>The main advantage of this DSL query method is that these methods will perform syntax and type checking during SynxDB’s syntax checking phase. Errors will be reported promptly, and you can modify your queries promptly based on error messages.</p>
<p>Generally, each function is associated with an Elasticsearch query type, and the default values of these functions are actually the default values of the corresponding queries in Elasticsearch.</p>
<p>All queries are through simple function forms. For example, the following query is equivalent to a query containing two keywords <code class="docutils literal notranslate"><span class="pre">box</span> <span class="pre">and</span> <span class="pre">wooden</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">and</span><span class="p">(</span><span class="s1">&#39;box&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;wooden&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">products</span><span class="w"> </span><span class="o">==&gt;</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">and</span><span class="p">(</span><span class="n">dsl</span><span class="p">.</span><span class="n">term</span><span class="p">(</span><span class="s1">&#39;zdb_all&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;box&#39;</span><span class="p">),</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">term</span><span class="p">(</span><span class="s1">&#39;zdb_all&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;wooden&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>For DSL functions, you can add <code class="docutils literal notranslate"><span class="pre">::json</span></code> after them to query their corresponding JSON format.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select dsl.and(&#39;box&#39;, &#39;wooden&#39;)::json;
                                           and
------------------------------------------------------------------------------------------
 {&quot;bool&quot;:{&quot;must&quot;:[{&quot;query_string&quot;:{&quot;query&quot;:&quot;box&quot;}},{&quot;query_string&quot;:{&quot;query&quot;:&quot;wooden&quot;}}]}}
(1 row)

demo=# select dsl.and(dsl.term(&#39;zdb_all&#39;, &#39;box&#39;), dsl.term(&#39;zdb_all&#39;, &#39;wooden&#39;))::json;
                                               and
--------------------------------------------------------------------------------------------------
 {&quot;bool&quot;:{&quot;must&quot;:[{&quot;term&quot;:{&quot;zdb_all&quot;:{&quot;value&quot;:&quot;box&quot;}}},{&quot;term&quot;:{&quot;zdb_all&quot;:{&quot;value&quot;:&quot;wooden&quot;}}}]}}
(1 row)
</pre></div>
</div>
<section id="simple-boolean-functions">
<h5>Simple boolean functions<a class="headerlink" href="#simple-boolean-functions" title="Link to this heading"></a></h5>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.and</span></code></p>
<p>Generates bool conditions contained in Elasticsearch’s <code class="docutils literal notranslate"><span class="pre">must</span></code> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">and</span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.or()</span></code></p>
<p>Generates bool conditions contained in Elasticsearch’s <code class="docutils literal notranslate"><span class="pre">should</span></code> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">or</span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.not()</span></code></p>
<p>Generates bool conditions contained in Elasticsearch’s <code class="docutils literal notranslate"><span class="pre">must_not</span></code> clause.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">not</span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html">dsl.bool()</a></p>
<p>This function represents the <code class="docutils literal notranslate"><span class="pre">bool</span></code> query in Elasticsearch, which can contain multiple bool-type query conditions and can be combined with <code class="docutils literal notranslate"><span class="pre">dsl.must()</span></code>, <code class="docutils literal notranslate"><span class="pre">dsl.must_not()</span></code>, <code class="docutils literal notranslate"><span class="pre">dsl.should()</span></code>, and <code class="docutils literal notranslate"><span class="pre">dsl.filter()</span></code> to form complex queries.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">bool</span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">esqdsl_bool_part</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
<p>Query example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select * from products where products ==&gt; dsl.bool(dsl.must(&#39;person&#39;), dsl.should(&#39;box&#39;));
id |   name   |        keywords         |  short_summary  |                            long_description                             | price | inventory_count | discontinued | av
ailability_date
----+----------+-------------------------+-----------------+-------------------------------------------------------------------------+-------+-----------------+--------------+---
----------------
2 | Baseball | {baseball,sports,round} | It&#39;s a baseball | Throw it at a person with a big wooden stick and hope they don&#39;t hit it |  1249 |               2 | f            | 20
15-08-21
(1 row)
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html">dsl.must()</a></p>
<p>This function represents the must clause of the <code class="docutils literal notranslate"><span class="pre">bool</span></code> query in Elasticsearch QueryDSL. It can be used as a must condition in the <code class="docutils literal notranslate"><span class="pre">dsl.bool</span></code> function and can appear multiple times.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">must</span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="k">RETURNS</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">esqdsl_must</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html">dsl.must_not()</a></p>
<p>This function represents the must_not clause of the <code class="docutils literal notranslate"><span class="pre">bool</span></code> query in Elasticsearch QueryDSL.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">must_not</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="k">RETURNS</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">esqdsl_must_not</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html">dsl.should()</a></p>
<p>This function represents the should clause of the <code class="docutils literal notranslate"><span class="pre">bool</span></code> query in Elasticsearch QueryDSL.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">should</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="k">RETURNS</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">esqdsl_should</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html">dsl.filter()</a></p>
<p>This function represents the filter clause of the <code class="docutils literal notranslate"><span class="pre">bool</span></code> query in Elasticsearch QueryDSL. This function is designed to be used with the filter parameter of <code class="docutils literal notranslate"><span class="pre">dsl.bool()</span></code>. Its parameters can be one or more of the dsl functions that return zdbquery type in ZomboDB.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">filter</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[]</span>
<span class="p">)</span><span class="k">RETURNS</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">esqdsl_filter</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="es-query-dsl">
<h5>ES Query DSL<a class="headerlink" href="#es-query-dsl" title="Link to this heading"></a></h5>
<ul>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-boosting-query.html">dsl.boosting()</a></p>
<p>Returns documents that match the positive query while reducing the relevance score of documents that match the negative query. This method represents the <code class="docutils literal notranslate"><span class="pre">Boosting</span> <span class="pre">query</span></code> in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">boosting</span><span class="w"> </span><span class="p">(</span>
<span class="w">   </span><span class="n">positive</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">   </span><span class="n">negative</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">   </span><span class="n">negative_boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/query-dsl-common-terms-query.html">dsl.common()</a></p>
<p>No longer supported after Elasticsearch 7.3.0, this method represents the Query DSL common Query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">common</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">cutoff_frequency</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">minimum_should_match</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-constant-score-query.html">dsl.constant_score()</a></p>
<p>A query that wraps another zdbquery condition and returns a constant score equal to the query boost value for each document in the filter.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">constant_score</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html">dsl.datetime_range()</a></p>
<p>Matches a range of a field in documents. This function is mainly for matching timestamp-type data. This form is used for timestamp values.</p>
<p>ZomboDB will automatically convert the specified time to UTC (compatible with Elasticsearch), however, if the timezone represented by the timestamp is not specified, SynxDB will first assume it belongs to whatever timezone the server is running in (via <a class="reference external" href="https://www.postgresql.org/docs/14/datatype-datetime.html#DATATYPE-TIMEZONES">TimeZone GUC</a>).</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">datetime_range</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">lt</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">gt</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lte</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">gte</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-dis-max-query.html">dsl.dis_max()</a></p>
<p>Returns results matched by one or more wrapped query conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">dis_max</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">queries</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[],</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">tie_breaker</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-exists-query.html">dsl.field_exists()</a></p>
<p>Returns results where the specified field data is not empty.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">field_exists</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.field_missing()</span></code></p>
<p>Method behavior is opposite to <code class="docutils literal notranslate"><span class="pre">dsl.field_exists</span></code>, returning documents where the specified field data is empty.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">field_missing</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-fuzzy-query.html">dsl.fuzzy()</a></p>
<p>Fuzzy query in Elasticsearch, based on the Levenshtein edit distance algorithm.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">fuzzy</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzziness</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">prefix_length</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_expansions</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">transpositions</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query.html">dsl.match()</a></p>
<p><code class="docutils literal notranslate"><span class="pre">match</span></code> query that can accept text, numerics, and dates types, analyzes these conditions, and returns matching results. zerotermsquery is an enumeration value that can take <code class="docutils literal notranslate"><span class="pre">none</span></code> and <code class="docutils literal notranslate"><span class="pre">all</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">match</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">minimum_should_match</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lenient</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzziness</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_rewrite</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_transpositions</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">prefix_length</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">cutoff_frequency</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">auto_generate_synonyms_phrase_query</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">zero_terms_query</span><span class="w"> </span><span class="n">zerotermsquery</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">operator</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-all-query.html">dsl.match_all()</a></p>
<p>The simplest query condition that matches all results.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">match_all</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase.html">dsl.match_phrase()</a></p>
<p><code class="docutils literal notranslate"><span class="pre">match_phrase</span></code> query analyzes text and generates phrase queries.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">match_phrase</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">slop</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-match-query-phrase-prefix.html">dsl.match_phrase_prefix()</a></p>
<p><code class="docutils literal notranslate"><span class="pre">dsl.match_phrase_prefix()</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">match_phrase</span></code>, except it can support prefix matching in the last text query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">match_phrase_prefix</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">slop</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_expansions</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-mlt-query.html">dsl.more_like_this()</a></p>
<p>More Like This query finds a collection of documents similar to the specified document.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">more_like_this</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;like&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">stop_words</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">[...],</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">unlike</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">minimum_should_match</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost_terms</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">include</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">min_term_freq</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_query_terms</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">min_doc_freq</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_doc_freq</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">min_word_length</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_word_length</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-multi-match-query.html">dsl.multi_match()</a></p>
<p>multi_match is based on match query and supports multi-field queries. zerotermsquery is an enumeration value that can take <code class="docutils literal notranslate"><span class="pre">none</span></code> and <code class="docutils literal notranslate"><span class="pre">all</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">multi_match</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">minimum_should_match</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lenient</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzziness</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_rewrite</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_transpositions</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">prefix_length</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">cutoff_frequency</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">auto_generate_synonyms_phrase_query</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">zero_terms_query</span><span class="w"> </span><span class="n">zerotermsquery</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="k">operator</span><span class="w"> </span><span class="k">operator</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">match_type</span><span class="w"> </span><span class="n">matchtype</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html">dsl.query_string()</a></p>
<p>Equivalent to query string in Elasticsearch. querystringdefaultoperator is an enumeration value that can take <code class="docutils literal notranslate"><span class="pre">and</span></code> and <code class="docutils literal notranslate"><span class="pre">or</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">query_string</span><span class="p">(</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">default_field</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">allow_leading_wildcard</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyze_wildcard</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">auto_generate_synonyms_phrase_query</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">default_operator</span><span class="w"> </span><span class="n">querystringdefaultoperator</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">enable_position_increments</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzziness</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_max_expansions</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_transpositions</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">fuzzy_prefix_length</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lenient</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_determinized_states</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">minimum_should_match</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">quote_analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">phrase_slop</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">quote_field_suffix</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">time_zone</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-nested-query.html">dsl.nested()</a></p>
<p>Nested query allows querying nested objects or documents. scoremode is an enumeration value that can take <code class="docutils literal notranslate"><span class="pre">avg</span></code>, <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, and <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">nested</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">score_mode</span><span class="w"> </span><span class="n">scoremode</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;avg&#39;</span><span class="p">::</span><span class="n">scoremode</span><span class="p">),</span>
<span class="w">    </span><span class="n">ignore_unmapped</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.noteq()</span></code></p>
<p>Generates a bool query where its parameter must be a must_not field.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">noteq</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.phrase()</span></code></p>
<p>Similar to the <code class="docutils literal notranslate"><span class="pre">dsl.match_phrase</span></code> function, but with more simplified parameters.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">phrase</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">slop</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">analyzer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-prefix-query.html">dsl.prefix()</a></p>
<p>Matches documents containing fields with specific prefixes.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="k">prefix</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">prefix</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html">dsl.range()</a></p>
<p>Matches a range of a specified field, currently for numeric-type fields, returning documents containing matching fields.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">range</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">lt</span><span class="w"> </span><span class="nb">numeric</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">gt</span><span class="w"> </span><span class="nb">numeric</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lte</span><span class="w"> </span><span class="nb">numeric</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">gte</span><span class="w"> </span><span class="nb">numeric</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html">dsl.range()</a></p>
<p>Matches a range of a specified field, currently for text-type fields, returning documents containing matching fields.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">range</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">lt</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">gt</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lte</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">gte</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-regexp-query.html">dsl.regexp()</a></p>
<p>Regular expression matching.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">regexp</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">regexp</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">flags</span><span class="w"> </span><span class="n">regexflags</span><span class="p">[]</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_determinized_states</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-script-query.html">dsl.script()</a></p>
<p>Allows using custom scripts as query conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">script</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">source_code</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">params</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">lang</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;painless&#39;</span><span class="p">::</span><span class="nb">text</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-containing-query.html">dsl.span_containing()</a></p>
<p>Returns conditions that contain another query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_containing</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">little</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">big</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-first-query.html">dsl.span_first()</a></p>
<p>Equivalent to span first query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_first</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;end&quot;</span><span class="w"> </span><span class="nb">integer</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-field-masking-query.html">dsl.span_masking()</a></p>
<p>Equivalent to span field masking query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_masking</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-multi-term-query.html">dsl.span_multi()</a></p>
<p>Equivalent to span multi term query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_multi</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-near-query.html">dsl.span_near()</a></p>
<p>Equivalent to span near query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_near</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">in_order</span><span class="w"> </span><span class="nb">boolean</span><span class="p">,</span>
<span class="w">    </span><span class="n">slop</span><span class="w"> </span><span class="nb">integer</span><span class="p">,</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">clauses</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-not-query.html">dsl.span_not()</a></p>
<p>Equivalent to span not query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_not</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">include</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">exclude</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">pre</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">post</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">dist</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-or-query.html">dsl.span_or()</a></p>
<p>Equivalent to span or query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_or</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">clauses</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-term-query.html">dsl.span_term()</a></p>
<p>Equivalent to span term query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_term</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-span-within-query.html">dsl.span_within()</a></p>
<p>Equivalent to span within query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">span_within</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">little</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">big</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">dsl.term()</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">dsl.term</span></code> supports multiple data type queries. You can view them through <code class="docutils literal notranslate"><span class="pre">\df</span> <span class="pre">dfs.term</span></code>. The following example uses numeric type.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">term</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
<p>Conditional query for specified fields in inverted indexes. This method is only for numeric-type data. Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">articles</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">articles</span><span class="o">==&gt;</span><span class="n">dsl</span><span class="p">.</span><span class="n">terms</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;one&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;two&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>This statement will pass the following JSON format to ES for querying.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s2">&quot;term&quot;</span>:<span class="o">{</span><span class="s2">&quot;body&quot;</span>:<span class="o">{</span><span class="s2">&quot;value&quot;</span>:12<span class="o">}}}</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html">dsl.terms()</a></p>
<p><code class="docutils literal notranslate"><span class="pre">dsl.terms</span></code> supports multiple data type queries. You can view them through <code class="docutils literal notranslate"><span class="pre">\df</span> <span class="pre">dfs.terms</span></code>. The following example uses text type.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>postgres=# \df dsl.terms;
                                    List of functions
Schema | Name  | Result data type |               Argument data types                | Type
--------+-------+------------------+--------------------------------------------------+------
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; bigint[]           | func
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; boolean[]          | func
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; double precision[] | func
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; integer[]          | func
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; real[]             | func
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; smallint[]         | func
dsl    | terms | zdbquery         | field text, VARIADIC &quot;values&quot; text[]             | func
(7 rows)
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">terms</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="ss">&quot;values&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
<p>Returns data where any field contains the query conditions. This method is only for text-type data. Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">articles</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">articles</span><span class="o">==&gt;</span><span class="n">dsl</span><span class="p">.</span><span class="n">terms</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;one&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;two&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>This statement will pass the following JSON format to ES for querying.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">{</span><span class="s2">&quot;terms&quot;</span>:<span class="o">{</span><span class="s2">&quot;body&quot;</span>:<span class="o">[</span><span class="s2">&quot;one&quot;</span>,<span class="s2">&quot;two&quot;</span><span class="o">]}}</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html">dsl.terms_array()</a></p>
<p>Equivalent to dsl.term function containing multiple term conditions, for any type of data. The second field applies to arrays of any PostgreSQL data type.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">terms_array</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;values&quot;</span><span class="w"> </span><span class="n">anyarray</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html#query-dsl-terms-lookup">dsl.terms_lookup()</a></p>
<p>Equivalent to Query DSL terms lookup query in Elasticsearch. This function is very useful when there are multiple filter fields.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">terms_lookup</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span><span class="w">  </span><span class="c1">-- es_index_name, can be obtained through select es_index_name from zdb.zdb.index_stats;</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">routing</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span><span class="w"> </span><span class="c1">-- format segment-index, example: segment-1, means querying data with gp_segment_id = 1</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wildcard-query.html">dsl.wildcard()</a></p>
<p>Returns data matching wildcard conditions.</p>
<p>Supported wildcards are <code class="docutils literal notranslate"><span class="pre">.*</span></code> (matches any character sequence, including empty characters) and <code class="docutils literal notranslate"><span class="pre">?</span></code> (matches any single character). Note that this query can be slow because it needs to traverse many items. To prevent wildcard queries from being extremely slow, wildcard terms should not start with wildcards <code class="docutils literal notranslate"><span class="pre">.*</span></code> or <code class="docutils literal notranslate"><span class="pre">?</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">wildcard</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">wildcard</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">boost</span><span class="w"> </span><span class="nb">real</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="postgis-support">
<h4>PostGIS support<a class="headerlink" href="#postgis-support" title="Link to this heading"></a></h4>
<p>ZomboDB provides basic support for the PostGIS plugin.</p>
<p>ZomboDB automatically maps <code class="docutils literal notranslate"><span class="pre">geometry</span></code> and <code class="docutils literal notranslate"><span class="pre">geography</span></code> types to the <code class="docutils literal notranslate"><span class="pre">geo_shape</span></code> type in Elasticsearch.</p>
<ul>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-geo-shape-query.html">dsl.geo_shape()</a></p>
<p>geo_shape query uses the same grid squares as geo_shape mapping, representing the search for documents with shapes that intersect with the query shape. It will also use the same PrefixTree configuration as the field mapping definition.</p>
<p>The query supports methods for defining query shapes: by providing the entire shape definition.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">geo_shape</span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">geojson_shape</span><span class="w"> </span><span class="n">json</span><span class="p">,</span>
<span class="w">    </span><span class="n">relation</span><span class="w"> </span><span class="n">geoshaperelation</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-geo-polygon-query.html">dsl.geo_polygon()</a></p>
<p>Given an array of point objects, generates a <code class="docutils literal notranslate"><span class="pre">geo_polygon</span></code> query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">geo_polygon</span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">point</span><span class="p">[]</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">zdbquery</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-geo-bounding-box-query.html">dsl.geo_bounding_box()</a></p>
<p>Given a box object, generates an Elasticsearch <code class="docutils literal notranslate"><span class="pre">geo_bounding_box</span></code> query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">geo_bounding_box</span><span class="p">(</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">bounding_box</span><span class="w"> </span><span class="n">box</span><span class="p">,</span>
<span class="w">    </span><span class="n">box_type</span><span class="w"> </span><span class="n">geoboundingboxtype</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;memory&#39;</span><span class="p">::</span><span class="n">geoboundingboxtype</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="aggregation-functions">
<h3>Aggregation functions<a class="headerlink" href="#aggregation-functions" title="Link to this heading"></a></h3>
<p>ZomboDB supports almost all aggregation operations in Elasticsearch and encapsulates them into corresponding SQL functions. In all scenarios, the results returned by the following functions guarantee transactional correctness.</p>
<section id="arbitrary-json-aggregations">
<h4>Arbitrary JSON aggregations<a class="headerlink" href="#arbitrary-json-aggregations" title="Link to this heading"></a></h4>
<ul>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations.html">zdb.arbitrary_agg</a></p>
<p>This function supports all JSON-formatted query statements in Elasticsearch, and the return value is JSON-formatted data.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">arbitrary_agg</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">agg_json</span><span class="w"> </span><span class="n">json</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="n">json</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="single-value-aggregations">
<h4>Single-value aggregations<a class="headerlink" href="#single-value-aggregations" title="Link to this heading"></a></h4>
<ul>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-avg-aggregation.html">zdb.avg</a></p>
<p>Queries the average value of a specified field under specified conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">avg</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">avg</span><span class="p">(</span><span class="s1">&#39;idxproducts&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">match_all</span><span class="p">());</span>
<span class="k">avg</span>
<span class="c1">------</span>
<span class="mi">7512</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-cardinality-aggregation.html">zdb.cardinality</a></p>
<p>A single-value metric aggregation that calculates an approximate count of distinct values. Values can be extracted from specific fields in documents.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">cardinality</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html">zdb.count</a></p>
<p>Returns the total count of documents in Elasticsearch under specified query conditions, similar to the <code class="docutils literal notranslate"><span class="pre">_count</span></code> API in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">count</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">bigint</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.raw_count</span></code></p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">zdb.count</span></code>, but does not guarantee transactional correctness. It counts all documents in the corresponding index in Elasticsearch, including deleted and old version data.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">raw_count</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">ignore_visibility</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-max-aggregation.html">zdb.max</a></p>
<p>Returns the maximum value of a specified field under specified query conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">max</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">ubuntu</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="s1">&#39;idxproducts&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">dsl</span><span class="p">.</span><span class="n">match_all</span><span class="p">());</span>
<span class="k">max</span>
<span class="c1">-------</span>
<span class="mi">17000</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-max-aggregation.html">zdb.min</a></p>
<p>Returns the minimum value of a specified field under specified query conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">min</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-missing-aggregation.html">zdb.missing</a></p>
<p>Queries the amount of data where the specified field is empty or the field does not exist under specified conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">missing</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-sum-aggregation.html">zdb.sum</a></p>
<p>Returns the total value of a specified field under specified query conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="k">sum</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-valuecount-aggregation.html">zdb.value_count</a></p>
<p>Queries the total count of values under specified conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">value_count</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">numeric</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="multi-row-column-aggregations">
<h4>Multi-row/column aggregations<a class="headerlink" href="#multi-row-column-aggregations" title="Link to this heading"></a></h4>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix</span></code> returns bucket aggregations in the form of adjacency matrix.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">adjacency_matrix</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">labels</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">filters</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix_2x2</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix</span></code>, but returns a 2x2 matrix.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">adjacency_matrix_2x2</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">labels</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">filters</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;1&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;2&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix_3x3</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix</span></code>, but returns a 3x3 matrix.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">adjacency_matrix_3x3</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">labels</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">filters</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;1&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;2&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;3&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix_4x4</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix</span></code>, but returns a 4x4 matrix.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">adjacency_matrix_4x4</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">labels</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">filters</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;1&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;2&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;3&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;4&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix_5x5</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">zdb.adjacency_matrix</span></code>, but returns a 5x5 matrix.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">adjacency_matrix_5x5</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">labels</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">filters</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;-&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;1&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;2&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;3&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;4&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">),</span>
<span class="w">    </span><span class="ss">&quot;5&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-datehistogram-aggregation.html">zdb.date_histogram</a></p>
<p>Equivalent to histogram query in Elasticsearch, can only be used for date data types. Because dates are represented internally as long values in Elasticsearch, normal histograms can also be used on dates, but accuracy will be affected.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">date_histogram</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;interval&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd&#39;</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">key_as_string</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-daterange-aggregation.html">zdb.date_range</a></p>
<p>Range aggregation dedicated to date values.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">date_range</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">date_ranges_array</span><span class="w"> </span><span class="n">json</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;from&quot;</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">from_as_string</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;to&quot;</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">to_as_string</span><span class="w"> </span><span class="k">timestamp</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="k">zone</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-extendedstats-aggregation.html">zdb.extended_stats</a></p>
<p>A multi-value metric aggregation used to calculate statistical information of numeric values extracted from aggregated documents. These values can be extracted from specific numeric fields in documents.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">extended_stats</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">sigma</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="k">min</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="k">max</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="k">avg</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="k">sum</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">sum_of_squares</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">variance</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">stddev</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">stddev_upper</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">stddev_lower</span><span class="w"> </span><span class="nb">numeric</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-filters-aggregation.html">zdb.filters</a></p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">zdb.count</span></code>, supports multiple zdbquery query conditions.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">filters</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">labels</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">filters</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">[])</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">label</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-histogram-aggregation.html">zdb.histogram</a></p>
<p>Multi-bucket histogram query in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">histogram</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;interval&quot;</span><span class="w"> </span><span class="n">float8</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-iprange-aggregation.html">zdb.ip_range</a></p>
<p>Range aggregation query for IP address type data.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">ip_range</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">ip_ranges_array</span><span class="w"> </span><span class="n">json</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;from&quot;</span><span class="w"> </span><span class="n">inet</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;to&quot;</span><span class="w"> </span><span class="n">inet</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-matrix-stats-aggregation.html">zdb.matrix_stats</a></p>
<p>matrix_stats aggregation is a numeric aggregation operation that calculates statistical values for certain fields of documents.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">matrix_stats</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">mean</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">variance</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">skewness</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">kurtosis</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">covariance</span><span class="w"> </span><span class="n">json</span><span class="p">,</span>
<span class="w">    </span><span class="n">correlation</span><span class="w"> </span><span class="n">json</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-percentile-rank-aggregation.html">zdb.percentile_ranks</a></p>
<p>Used to calculate one or more percentile ranks of numeric values extracted from aggregated documents.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">percentile_ranks</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;values&quot;</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">percentile</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">numeric</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-percentile-aggregation.html">zdb.percentiles</a></p>
<p>A multi-value metric aggregation used to calculate one or more percentiles of numeric values extracted from aggregated documents. These values can be extracted from specific numeric fields in documents.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">percentiles</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">percents</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">percentile</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">value</span><span class="w"> </span><span class="nb">numeric</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-range-aggregation.html">zdb.range</a></p>
<p>Range query.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">range</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">ranges_array</span><span class="w"> </span><span class="n">json</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">key</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;from&quot;</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;to&quot;</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-significantterms-aggregation.html">zdb.significant_terms</a></p>
<p>Returns aggregations of interesting or unusual terms in a collection.</p>
<p>Specifically, this aggregation can find terms that appear more frequently than expected in a dataset, thereby discovering interesting information in the dataset. It can be used to analyze text data, such as news articles, social media posts, or product reviews, and so on.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">significant_terms</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">include</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;.*&#39;</span><span class="p">::</span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">size_limit</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">2147483647</span><span class="p">,</span>
<span class="w">    </span><span class="n">min_doc_count</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">score</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">bg_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.significant_terms_two_level</span></code></p>
<p>Compatible with the <code class="docutils literal notranslate"><span class="pre">zdb.significant_terms</span></code> function, using the <code class="docutils literal notranslate"><span class="pre">zdb.terms</span></code> function as first_field and <code class="docutils literal notranslate"><span class="pre">zdb.significant_terms</span></code> as second_field.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">significant_terms_two_level</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">first_field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">second_field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="k">size</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">first_term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">second_term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">score</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">bg_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count_error_upper_bound</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">sum_other_doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-significanttext-aggregation.html">zdb.significant_text</a></p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">zdb.significant_terms</span></code>, but with the following differences.</p>
<ul class="simple">
<li><p>Specifically designed for text type fields.</p></li>
<li><p>Does not require field data or document values.</p></li>
<li><p>Performs real-time re-analysis of text content, which means it can also filter duplicate and noisy text parts that would otherwise bias the statistics.</p></li>
</ul>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">significant_text</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">sample_size</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">filter_duplicate_text</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">true</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">score</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="n">bg_count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters.html">zdb.suggest_terms</a></p>
<p>Not an aggregation function, its main function is to provide suggestions for terms query statements.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">suggest_terms</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field_name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">suggest</span><span class="w"> </span><span class="n">test</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">offset</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="k">length</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="n">suggestion</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">score</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="k">precision</span><span class="p">,</span>
<span class="w">    </span><span class="n">frequency</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-stats-aggregation.html">zdb.stats</a></p>
<p>Multi-value metric aggregation that calculates statistics on numeric values extracted from aggregated documents. These values can be extracted from specific numeric fields in documents.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">stats</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="k">count</span><span class="w"> </span><span class="nb">bigint</span><span class="p">,</span>
<span class="w">    </span><span class="k">min</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="k">max</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="k">avg</span><span class="w"> </span><span class="nb">numeric</span><span class="p">,</span>
<span class="w">    </span><span class="k">sum</span><span class="w"> </span><span class="nb">numeric</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.tally</span></code></p>
<p>Provides direct access to Elasticsearch term aggregation and cannot be used with fulltext type fields. Its results are transaction-safe.</p>
<p>If no stem is specified, no results will be returned. To match all terms, use the stem <code class="docutils literal notranslate"><span class="pre">^.*</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">tally</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field_name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="w"> </span><span class="n">is_nested</span><span class="w"> </span><span class="n">bool</span><span class="p">],</span>
<span class="w">    </span><span class="n">stem</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">ZDBQuery</span><span class="p">,</span>
<span class="w">    </span><span class="n">size_limit</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;2147483647&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">order_by</span><span class="w"> </span><span class="n">TermsOrderBy</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;count&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">shard_size</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;2147483647&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">count_nulls</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;true&#39;</span>
<span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">count</span><span class="w"> </span><span class="nb">bigint</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The parameters of the <code class="docutils literal notranslate"><span class="pre">zdb.tally</span></code> function are described as follows.</p>
<ul class="simple">
<li><p>index: The name of the ZomboDB index to query.</p></li>
<li><p>field_name: The name of the field from which query conditions are derived.</p></li>
<li><p>is_nested_bool: Optional parameter indicating that terms should only come from matching nested object sub-elements, default value is false.</p></li>
<li><p>stem: A regular expression used to filter returned terms.</p></li>
<li><p>zdbquery: zdbquery conditions.</p></li>
<li><p>order_by: How to sort the results. The default value of the order_by parameter is count, which sorts documents by occurrence count from largest to smallest. The value reverse_count will sort them from smallest to largest.</p></li>
<li><p>count_nulls: Whether rows containing NULL (that is, missing) values should be included in the results.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.terms_array</span></code></p>
<p>Similar to the function <code class="docutils literal notranslate"><span class="pre">zdb.terms</span></code>, except the returned format is <code class="docutils literal notranslate"><span class="pre">text[]</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">terms_array</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">size_limit</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">order_by</span><span class="w"> </span><span class="n">TermsOrderBy</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.terms_two_level</span></code></p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">zdb.significant_terms_two_level()</span></code>, adapted for the <code class="docutils literal notranslate"><span class="pre">zdb.terms</span></code> function, but provides two-level nested term conditions corresponding to first_field and second_field respectively.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">terms_two_level</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">first_field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">second_field</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">order_by</span><span class="w"> </span><span class="n">TwoLevelTermsOrderBy</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;count&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="k">size</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">first_term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">second_term</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">doc_count</span><span class="w"> </span><span class="nb">bigint</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-top-hits-aggregation.html">zdb.top_hits</a></p>
<p>The top_hits aggregation can track the most relevant documents being aggregated. The purpose of this aggregation function is to be used as a sub-aggregator, so that the most matching documents can be aggregated in each bucket.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">top_hits</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="k">size</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">ctid</span><span class="w"> </span><span class="n">tid</span><span class="p">,</span>
<span class="w">    </span><span class="n">score</span><span class="w"> </span><span class="n">float4</span><span class="p">,</span>
<span class="w">    </span><span class="k">source</span><span class="w"> </span><span class="n">json</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.top_hits_with_id</span></code></p>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">zdb.top_hits</span></code>, except it returns the _id field from Elasticsearch instead of the SynxDB system column ctid.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">top_hits_with_id</span><span class="p">(</span>
<span class="w">    </span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="nb">text</span><span class="p">[],</span>
<span class="w">    </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">,</span>
<span class="w">    </span><span class="n">size_limit</span><span class="w"> </span><span class="nb">int</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">_id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="n">score</span><span class="w"> </span><span class="n">float4</span><span class="p">,</span>
<span class="w">    </span><span class="k">source</span><span class="w"> </span><span class="n">json</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="sorting-and-highlighting">
<h3>Sorting and highlighting<a class="headerlink" href="#sorting-and-highlighting" title="Link to this heading"></a></h3>
<p>ZomboDB provides zdb.score and zdb.highlight methods for sorting and highlighting.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.score</span></code></p>
<p>ZomboDB provides the <code class="docutils literal notranslate"><span class="pre">zdb.score</span></code> method to return the score of the current row. You can use zdb.score and sort by <code class="docutils literal notranslate"><span class="pre">zdb.score</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span>
<span class="w">    </span><span class="n">zdb</span><span class="p">.</span><span class="n">score</span><span class="p">(</span><span class="n">tid</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">real</span><span class="p">;</span>
</pre></div>
</div>
<p>In SQL statements without an ORDER BY clause, the order in which the result set is returned is undefined. If you want to sort by Elasticsearch document scores, you can use <code class="docutils literal notranslate"><span class="pre">zdb.score</span></code>.</p>
<p>The parameter of the <code class="docutils literal notranslate"><span class="pre">zdb.score</span></code> function is always the system hidden column ctid for each data record in the SynxDB table. ZomboDB uses this ctid to identify the uniqueness of data.</p>
<p>The following example demonstrates extracting scores and sorting by scores.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select zdb.score(ctid), * from products where products ==&gt; &#39;sports,box&#39; order by score desc;
    score        | id |   name   |               keywords               |         short_summary          |                                  long_description
                | price | inventory_count | discontinued | availability_date
--------------------+----+----------+--------------------------------------+--------------------------------+---------------------------------------------------------------------
----------------+-------+-----------------+--------------+-------------------
1.8357605934143066 |  4 | Box      | {wooden,box,&quot;negative space&quot;,square} | Just an empty box made of wood | A wooden container that will eventually rot away.  Put stuff it in (
but not a cat). | 17000 |               0 | t            | 2015-07-01
1.363322138786316 |  2 | Baseball | {baseball,sports,round}              | It&#39;s a baseball                | Throw it at a person with a big wooden stick and hope they don&#39;t hit
it             |  1249 |               2 | f            | 2015-08-21
(2 rows)
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.highlight</span></code></p>
<p>ZomboDB supports highlighting of query results by calling the function <code class="docutils literal notranslate"><span class="pre">zdb.highlight</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span>
<span class="w">    </span><span class="n">zdb</span><span class="p">.</span><span class="n">highlight</span><span class="p">(</span>
<span class="w">        </span><span class="n">tid</span><span class="p">,</span>
<span class="w">        </span><span class="n">fieldname</span><span class="w"> </span><span class="p">[,</span><span class="w"> </span><span class="n">json_highlight_descriptor</span><span class="p">]</span>
<span class="w">    </span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">text</span><span class="p">[];</span>
</pre></div>
</div>
<p>Like the <code class="docutils literal notranslate"><span class="pre">zdb.score</span></code> function, the first parameter of the <code class="docutils literal notranslate"><span class="pre">zdb.highlight</span></code> function is the system hidden column ctid.</p>
<p>The following is an example of highlight query.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select zdb.highlight(ctid, &#39;long_description&#39;), * from products where products ==&gt; &#39;wooden,person&#39;;
                                            highlight                                             | id |   name   |               keywords               |         short_summary
        |                                  long_description                                   | price | inventory_count | discontinued | availability_date
--------------------------------------------------------------------------------------------------+----+----------+--------------------------------------+------------------------
--------+-------------------------------------------------------------------------------------+-------+-----------------+--------------+-------------------
{&quot;Throw it at a &lt;em&gt;person&lt;/em&gt; with a big &lt;em&gt;wooden&lt;/em&gt; stick and hope they don&#39;t hit it&quot;}    |  2 | Baseball | {baseball,sports,round}              | It&#39;s a baseball
        | Throw it at a person with a big wooden stick and hope they don&#39;t hit it             |  1249 |               2 | f            | 2015-08-21
{&quot;A &lt;em&gt;wooden&lt;/em&gt; container that will eventually rot away.  Put stuff it in (but not a cat).&quot;} |  4 | Box      | {wooden,box,&quot;negative space&quot;,square} | Just an empty box made
of wood | A wooden container that will eventually rot away.  Put stuff it in (but not a cat). | 17000 |               0 | t            | 2015-07-01
(2 rows)
</pre></div>
</div>
<p>You can see that the query result set returns a <code class="docutils literal notranslate"><span class="pre">highlight</span></code> field representing the highlighted data.</p>
<p>You can also modify the tags for highlighting. The default is <code class="docutils literal notranslate"><span class="pre">&lt;em&gt;&lt;/em&gt;</span></code>. As shown below, the tag has been changed to <code class="docutils literal notranslate"><span class="pre">&lt;b&gt;&lt;/b&gt;</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# SELECT zdb.score(ctid), zdb.highlight(ctid, &#39;long_description&#39;, zdb.highlight(pre_tags=&gt;&#39;{&lt;b&gt;}&#39;, post_tags=&gt;&#39;{&lt;/b&gt;}&#39;)), long_description FROM products WHERE products ==&gt; &#39;wooden,person&#39; ORDER BY score desc;
    score        |                                           highlight                                            |                                  long_description

--------------------+------------------------------------------------------------------------------------------------+------------------------------------------------------------
-------------------------
1.9209332466125488 | {&quot;Throw it at a &lt;b&gt;person&lt;/b&gt; with a big &lt;b&gt;wooden&lt;/b&gt; stick and hope they don&#39;t hit it&quot;}      | Throw it at a person with a big wooden stick and hope they
don&#39;t hit it
1.839343547821045 | {&quot;A &lt;b&gt;wooden&lt;/b&gt; container that will eventually rot away.  Put stuff it in (but not a cat).&quot;} | A wooden container that will eventually rot away.  Put stuf
f it in (but not a cat).
(2 rows)
</pre></div>
</div>
</li>
</ul>
</section>
<section id="sql-functions">
<h3>SQL functions<a class="headerlink" href="#sql-functions" title="Link to this heading"></a></h3>
<p>ZomboDB provides some useful utility functions to help query index-related information.</p>
<p>Function descriptions and examples are as follows.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.internal_version</span></code></p>
<p>Returns the version of the currently installed ZomboDB shared library.</p>
<p>If the returned data format does not match
<code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">zdb.schema_version()</span></code>, it indicates a version issue.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.schema_version</span></code></p>
<p>Returns the format of ZomboDB version information, as shown below.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">schema_version</span><span class="p">();</span>
<span class="w">        </span><span class="n">schema_version</span>
<span class="c1">--------------------------------</span>
<span class="o">@</span><span class="n">DEFAULT_VERSION</span><span class="o">@</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">GIT_HASH</span><span class="o">@</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.request</span></code></p>
<p>Sends HTTP requests to the Elasticsearch cluster of the specified index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span>
<span class="w">    </span><span class="n">endpoint</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">    </span><span class="k">method</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;GET&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="n">post_data</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="nb">text</span>
</pre></div>
</div>
<p>Example: View index configuration information.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select zdb.request(&#39;idxproducts&#39;, &#39;_settings&#39;);





                                                                                request





----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
{&quot;42529.2200.43269.43277&quot;:{&quot;settings&quot;:{&quot;index&quot;:{&quot;mapping&quot;:{&quot;nested_fields&quot;:{&quot;limit&quot;:&quot;1000&quot;},&quot;nested_objects&quot;:{&quot;limit&quot;:&quot;10000&quot;},&quot;total_fields&quot;:{&quot;limit&quot;:&quot;1000&quot;}},&quot;refresh_interval
&quot;:&quot;-1&quot;,&quot;translog&quot;:{&quot;durability&quot;:&quot;request&quot;},&quot;provided_name&quot;:&quot;42529.2200.43269.43277&quot;,&quot;query&quot;:{&quot;default_field&quot;:&quot;zdb_all&quot;},&quot;max_result_window&quot;:&quot;10000&quot;,&quot;creation_date&quot;:&quot;1672039152946
&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;zdb_ctid&quot;,&quot;order&quot;:&quot;asc&quot;},&quot;analysis&quot;:{&quot;filter&quot;:{&quot;zdb_truncate_to_fit&quot;:{&quot;length&quot;:&quot;10922&quot;,&quot;type&quot;:&quot;truncate&quot;},&quot;shingle_filter&quot;:{&quot;max_shingle_size&quot;:&quot;2&quot;,&quot;min_shingle
_size&quot;:&quot;2&quot;,&quot;token_separator&quot;:&quot;$&quot;,&quot;output_unigrams&quot;:&quot;true&quot;,&quot;type&quot;:&quot;shingle&quot;},&quot;shingle_filter_search&quot;:{&quot;max_shingle_size&quot;:&quot;2&quot;,&quot;min_shingle_size&quot;:&quot;2&quot;,&quot;token_separator&quot;:&quot;$&quot;,&quot;output_u
nigrams_if_no_shingles&quot;:&quot;true&quot;,&quot;output_unigrams&quot;:&quot;false&quot;,&quot;type&quot;:&quot;shingle&quot;}},&quot;normalizer&quot;:{&quot;exact&quot;:{&quot;filter&quot;:[&quot;lowercase&quot;],&quot;type&quot;:&quot;custom&quot;,&quot;char_filter&quot;:[]},&quot;lowercase&quot;:{&quot;filter&quot;:
[&quot;lowercase&quot;],&quot;type&quot;:&quot;custom&quot;,&quot;char_filter&quot;:[]}},&quot;analyzer&quot;:{&quot;fulltext_with_shingles_search&quot;:{&quot;filter&quot;:[&quot;lowercase&quot;,&quot;shingle_filter_search&quot;],&quot;type&quot;:&quot;custom&quot;,&quot;tokenizer&quot;:&quot;standard
&quot;},&quot;emoji&quot;:{&quot;tokenizer&quot;:&quot;emoji&quot;},&quot;phrase&quot;:{&quot;copy_to&quot;:&quot;zdb_all&quot;,&quot;filter&quot;:[&quot;zdb_truncate_to_fit&quot;,&quot;lowercase&quot;],&quot;type&quot;:&quot;standard&quot;},&quot;zdb_all_analyzer&quot;:{&quot;filter&quot;:[&quot;zdb_truncate_to_fit&quot;
,&quot;lowercase&quot;],&quot;type&quot;:&quot;standard&quot;},&quot;fulltext&quot;:{&quot;filter&quot;:[&quot;zdb_truncate_to_fit&quot;,&quot;lowercase&quot;],&quot;type&quot;:&quot;standard&quot;},&quot;zdb_standard&quot;:{&quot;filter&quot;:[&quot;zdb_truncate_to_fit&quot;,&quot;lowercase&quot;],&quot;type&quot;:&quot;
standard&quot;},&quot;fulltext_with_shingles&quot;:{&quot;filter&quot;:[&quot;lowercase&quot;,&quot;shingle_filter&quot;,&quot;zdb_truncate_to_fit&quot;],&quot;type&quot;:&quot;custom&quot;,&quot;tokenizer&quot;:&quot;standard&quot;}},&quot;tokenizer&quot;:{&quot;emoji&quot;:{&quot;pattern&quot;:&quot;([\\u
d83c\\udf00-\\ud83d\\ude4f]|[\\ud83d\\ude80-\\ud83d\\udeff])&quot;,&quot;type&quot;:&quot;pattern&quot;,&quot;group&quot;:&quot;1&quot;}}},&quot;max_terms_count&quot;:&quot;65535&quot;,&quot;number_of_replicas&quot;:&quot;0&quot;,&quot;uuid&quot;:&quot;n1FUxdmtQei32AmeOU4JIg&quot;,&quot;
version&quot;:{&quot;created&quot;:&quot;7170499&quot;},&quot;routing&quot;:{&quot;allocation&quot;:{&quot;include&quot;:{&quot;_tier_preference&quot;:&quot;data_content&quot;}}},&quot;number_of_shards&quot;:&quot;5&quot;,&quot;analyze&quot;:{&quot;max_token_count&quot;:&quot;10000&quot;}}}}}
(1 row)
</pre></div>
</div>
<p>You can also send requests to search data directly, as shown in the following example.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# select zdb.request(&#39;idxproducts&#39;, &#39;_search&#39;);


                                        request


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
{&quot;took&quot;:1,&quot;timed_out&quot;:false,&quot;_shards&quot;:{&quot;total&quot;:5,&quot;successful&quot;:5,&quot;skipped&quot;:0,&quot;failed&quot;:0},&quot;hits&quot;:{&quot;total&quot;:{&quot;value&quot;:2,&quot;relation&quot;:&quot;eq&quot;},&quot;max_score&quot;:1.0,&quot;hits&quot;:[{&quot;_index&quot;:&quot;42529.2200
.43283.43292&quot;,&quot;_type&quot;:&quot;_doc&quot;,&quot;_id&quot;:&quot;281474976710657&quot;,&quot;_score&quot;:1.0,&quot;_routing&quot;:&quot;segment-1&quot;,&quot;_source&quot;:{&quot;id&quot;:1,&quot;name&quot;:&quot;Magical Widget&quot;,&quot;keywords&quot;:[&quot;magical&quot;,&quot;widget&quot;,&quot;round&quot;],&quot;short_
summary&quot;:&quot;A widget that is quite magical&quot;,&quot;long_description&quot;:&quot;Magical Widgets come from the land of Magicville and are capable of things you can&#39;t imagine&quot;,&quot;price&quot;:9900,&quot;inventor
y_count&quot;:42,&quot;discontinued&quot;:false,&quot;availability_date&quot;:&quot;2015-08-31&quot;,&quot;zdb_ctid&quot;:1,&quot;zdb_cmin&quot;:0,&quot;zdb_cmax&quot;:0,&quot;zdb_xmin&quot;:3}},{&quot;_index&quot;:&quot;42529.2200.43283.43292&quot;,&quot;_type&quot;:&quot;_doc&quot;,&quot;_id&quot;:&quot;z
db_aborted_xids&quot;,&quot;_score&quot;:1.0,&quot;_routing&quot;:&quot;segment-0&quot;,&quot;_source&quot;:{&quot;zdb_aborted_xids&quot;:[]}}]}}
(1 row)
</pre></div>
</div>
</li>
<li><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-profile.html">profile_query</a></p>
<p>Uses Elasticsearch’s Profile API to provide detailed query time and execution details for queries.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">profile_query</span><span class="p">(</span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="n">zdbquery</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">json</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.determine_index</span></code></p>
<p>Provides the OID of a relation, or a table or index name containing ZomboDB indexes, and returns the specific ZomboDB index name.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">determine_index</span><span class="p">(</span><span class="n">relation</span><span class="w"> </span><span class="n">regclass</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">regclass</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.index_name</span></code></p>
<p>Returns the name generated by ZomboDB for the Elasticsearch index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_name</span><span class="p">(</span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">text</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_name</span><span class="p">(</span><span class="s1">&#39;idxproducts&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="n">index_name</span>
<span class="c1">------------------------</span>
<span class="mi">42529</span><span class="p">.</span><span class="mi">2200</span><span class="p">.</span><span class="mi">43283</span><span class="p">.</span><span class="mi">43292</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.index_url</span></code></p>
<p>Returns the address of the Elasticsearch cluster corresponding to the ZomboDB index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_url</span><span class="p">(</span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">text</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_url</span><span class="p">(</span><span class="s1">&#39;idxproducts&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="n">index_url</span>
<span class="c1">------------------------</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9200</span><span class="o">/</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.index_type_name</span></code></p>
<p>Returns the <code class="docutils literal notranslate"><span class="pre">_type</span></code> name of the Elasticsearch index, the default is doc.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_type_name</span><span class="p">(</span><span class="k">index</span><span class="w"> </span><span class="n">regclass</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="nb">text</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">demo</span><span class="o">=#</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_type_name</span><span class="p">(</span><span class="s1">&#39;idxproducts&#39;</span><span class="p">);</span>
<span class="n">index_type_name</span>
<span class="c1">-----------------</span>
<span class="n">doc</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.index_field_lists</span></code></p>
<p>Returns the field list defined by the ZomboDB index.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">index_field_lists</span><span class="p">(</span><span class="n">index_relation</span><span class="w"> </span><span class="n">regclass</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;fieldname&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;fields&quot;</span><span class="w"> </span><span class="nb">text</span><span class="p">[])</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.index_mapping</span></code></p>
<p>Returns the Elasticsearch mapping definition corresponding to the ZomboDB index.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# SELECT * FROM zdb.index_mapping(&#39;idxproducts&#39;);




                                                                                                                    index_mapping





----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------
{&quot;42529.2200.43283.43292&quot;: {&quot;mappings&quot;: {&quot;_routing&quot;: {&quot;required&quot;: true}, &quot;properties&quot;: {&quot;id&quot;: {&quot;type&quot;: &quot;long&quot;}, &quot;name&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;copy_to&quot;: [&quot;zdb_all&quot;], &quot;analyzer&quot;: &quot;zdb
_standard&quot;, &quot;fielddata&quot;: true}, &quot;price&quot;: {&quot;type&quot;: &quot;long&quot;}, &quot;zdb_all&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;: &quot;zdb_all_analyzer&quot;}, &quot;keywords&quot;: {&quot;type&quot;: &quot;keyword&quot;, &quot;copy_to&quot;: [&quot;zdb_all&quot;], &quot;n
ormalizer&quot;: &quot;lowercase&quot;, &quot;ignore_above&quot;: 10922}, &quot;zdb_cmax&quot;: {&quot;type&quot;: &quot;integer&quot;}, &quot;zdb_cmin&quot;: {&quot;type&quot;: &quot;integer&quot;}, &quot;zdb_ctid&quot;: {&quot;type&quot;: &quot;long&quot;}, &quot;zdb_xmax&quot;: {&quot;type&quot;: &quot;long&quot;}, &quot;zd
b_xmin&quot;: {&quot;type&quot;: &quot;long&quot;}, &quot;discontinued&quot;: {&quot;type&quot;: &quot;boolean&quot;}, &quot;short_summary&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;copy_to&quot;: [&quot;zdb_all&quot;], &quot;analyzer&quot;: &quot;zdb_standard&quot;, &quot;fielddata&quot;: true}, &quot;invento
ry_count&quot;: {&quot;type&quot;: &quot;integer&quot;}, &quot;long_description&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;: &quot;fulltext&quot;, &quot;fielddata&quot;: true}, &quot;zdb_aborted_xids&quot;: {&quot;type&quot;: &quot;long&quot;}, &quot;availability_date&quot;: {&quot;type
&quot;: &quot;keyword&quot;, &quot;fields&quot;: {&quot;date&quot;: {&quot;type&quot;: &quot;date&quot;}}, &quot;copy_to&quot;: [&quot;zdb_all&quot;]}}, &quot;date_detection&quot;: false, &quot;dynamic_templates&quot;: [{&quot;strings&quot;: {&quot;mapping&quot;: {&quot;type&quot;: &quot;keyword&quot;, &quot;copy_to&quot;
: &quot;zdb_all&quot;, &quot;normalizer&quot;: &quot;lowercase&quot;, &quot;ignore_above&quot;: 10922}, &quot;match_mapping_type&quot;: &quot;string&quot;}}, {&quot;dates_times&quot;: {&quot;mapping&quot;: {&quot;type&quot;: &quot;keyword&quot;, &quot;fields&quot;: {&quot;date&quot;: {&quot;type&quot;: &quot;dat
e&quot;, &quot;format&quot;: &quot;strict_date_optional_time||epoch_millis||HH:mm:ss.S||HH:mm:ss.SX||HH:mm:ss.SS||HH:mm:ss.SSX||HH:mm:ss.SSS||HH:mm:ss.SSSX||HH:mm:ss.SSSS||HH:mm:ss.SSSSX||HH:mm:ss.S
SSSS||HH:mm:ss.SSSSSX||HH:mm:ss.SSSSSS||HH:mm:ss.SSSSSSX&quot;}}, &quot;copy_to&quot;: &quot;zdb_all&quot;}, &quot;match_mapping_type&quot;: &quot;date&quot;}}, {&quot;objects&quot;: {&quot;mapping&quot;: {&quot;type&quot;: &quot;nested&quot;, &quot;include_in_parent&quot;
: true}, &quot;match_mapping_type&quot;: &quot;object&quot;}}], &quot;numeric_detection&quot;: false}}}
(1 row)
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">zdb.field_mapping</span></code></p>
<p>Returns the field mapping definition for a specified field in Elasticsearch.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">zdb</span><span class="p">.</span><span class="n">field_mapping</span><span class="p">(</span><span class="n">index_relation</span><span class="w"> </span><span class="n">regclass</span><span class="p">,</span><span class="w"> </span><span class="n">field_name</span><span class="w"> </span><span class="nb">text</span><span class="p">)</span><span class="w"> </span><span class="k">RETURNS</span><span class="w"> </span><span class="n">json</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>demo=# SELECT * FROM zdb.field_mapping(&#39;idxproducts&#39;, &#39;short_summary&#39;);
                                    field_mapping
-----------------------------------------------------------------------------------------
{&quot;type&quot;: &quot;text&quot;, &quot;copy_to&quot;: [&quot;zdb_all&quot;], &quot;analyzer&quot;: &quot;zdb_standard&quot;, &quot;fielddata&quot;: true}
(1 row)
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="es-cat-api">
<h2>ES _cat API<a class="headerlink" href="#es-cat-api" title="Link to this heading"></a></h2>
<p>ZomboDB supports most Elasticsearch <code class="docutils literal notranslate"><span class="pre">_cat</span></code> API operations, mapping their data to corresponding views.</p>
<p>The cat API views support ZomboDB indexes from multiple Elasticsearch clusters.</p>
<p>The cat API views are powerful and can be responsible for complex analysis operations in some aggregation operations.</p>
<table class="docutils align-left">
<colgroup>
<col style="width: 36.7%" />
<col style="width: 63.3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API operation</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VIEW zdb.index_stats</p></td>
<td><p>Strictly speaking, this does not belong to the standard Elasticsearch _cat API, but it provides a simple view to view all ZomboDB index statistics. You can view index names, aliases, URLs, table names, data size and other information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-alias.html">VIEW zdb.cat_aliases</a></p></td>
<td><p>View all index aliases, including filter and routing related information.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-allocation.html">VIEW zdb.cat_allocation</a></p></td>
<td><p>View how many shards are allocated to which nodes, and some disk usage statistics.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-count.html">VIEW zdb.cat_count</a></p></td>
<td><p>View the total statistics of documents in the Elasticsearch cluster, as well as the number of documents for each index.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-fielddata.html">VIEW zdb.cat_fielddata</a></p></td>
<td><p>View how much heap memory fielddata occupies on each node.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-health.html">VIEW zdb.cat_health</a></p></td>
<td><p>View the health status of the Elasticsearch cluster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-indices.html">VIEW zdb.cat_indices</a></p></td>
<td><p>View statistics for each index, such as name, data size, and so on.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-master.html">VIEW zdb.cat_master</a></p></td>
<td><p>Returns information about master or coordinator nodes in the cluster, including IP address, node name, Node ID and other information.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-nodeattrs.html">VIEW zdb.cat_nodeattrs</a></p></td>
<td><p>View custom node attribute information.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-nodes.html">VIEW zdb.cat_nodes</a></p></td>
<td><p>View all node information in the cluster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-pending-tasks.html">VIEW zdb.cat_pending_tasks</a></p></td>
<td><p>Returns the current cluster-level task list, that is, tasks waiting to be executed, such as creating indexes, update, allocate shard, and so on.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-plugins.html">VIEW zdb.cat_plugins</a></p></td>
<td><p>View Elasticsearch plugins installed in the cluster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-thread-pool.html">VIEW zdb.cat_thread_pool</a></p></td>
<td><p>View thread pool information on each node in the cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-shards.html">VIEW zdb.cat_shards</a></p></td>
<td><p>View shard information on each node.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-segments.html">VIEW zdb.cat_segments</a></p></td>
<td><p>Returns segment information of shards for each index in the cluster.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vacuum-support">
<h2>Vacuum support<a class="headerlink" href="#vacuum-support" title="Link to this heading"></a></h2>
<p>ZomboDB indexes are fully compatible with SynxDB <code class="docutils literal notranslate"><span class="pre">(auto)VACUUM</span></code> operations, ensuring that indexed data in ZomboDB can be <code class="docutils literal notranslate"><span class="pre">VACUUM</span></code>ed, which is crucial for high-level search performance.</p>
<p>Because ZomboDB stores row-level visibility information in the index, ZomboDB’s <code class="docutils literal notranslate"><span class="pre">Vacuum</span></code> process is very different from standard index types such as B-tree.</p>
<p>The general principle of ZomboDB’s Vacuum is:</p>
<ol class="arabic simple">
<li><p>Find all documents with aborted xmin, which represent failed or aborted insert/update rows that can be deleted.</p></li>
<li><p>Find all xmax documents from committed transactions, which represent deleted rows or old version data of updated rows from committed transactions that can be deleted.</p></li>
<li><p>Find all documents with aborted xmax, which represent failed or aborted update/delete transaction rows, these rows can have their xmax reset to null.</p></li>
<li><p>From ZomboDB’s aborted transaction id list, determine those that are not referenced as xmin or xmax, these individual xid values can be removed from the list because they are no longer referenced.</p></li>
</ol>
<p>It should be noted that <code class="docutils literal notranslate"><span class="pre">VACUUM</span> <span class="pre">FULL</span></code> will also reindex any indexes of the table, including ZomboDB indexes. Therefore, a <code class="docutils literal notranslate"><span class="pre">VACUUM</span> <span class="pre">FULL</span></code> might take a very long time.</p>
<p><code class="docutils literal notranslate"><span class="pre">VACUUM</span> <span class="pre">FREEZE</span></code> will adjust the <code class="docutils literal notranslate"><span class="pre">xmin</span></code>/<code class="docutils literal notranslate"><span class="pre">xmax</span></code> values on the heap, but will not change anything in the ZomboDB index.</p>
</section>
</section>


           </div>
          </div>
          


  <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      <a href="../references/references-index.html" class="btn btn-neutral float-right" title="Reference Guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      <a href="component-index.html" class="btn btn-neutral float-left" title="Component Guides" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
  </div>

<footer class="footer">
  <div class="container">
    <div class="footer-content">
      <div class="footer-section">
        <p>&copy; 2025, Synx Data Labs. All rights reserved.</p>
      </div>
      <div class="footer-section">
        <p>SynxDB Documentation</p>
      </div>
    </div>
  </div>
</footer>

<style>
.footer {
  background-color: var(--bg-secondary);
  border-top: 1px solid var(--border);
  padding: 1.5rem 0;
  margin-top: 3rem;
}

.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
}

.footer-section p {
  margin: 0;
  color: var(--text-secondary);
  font-size: 0.9rem;
  font-family: 'Inter', sans-serif;
}

@media (max-width: 768px) {
  .footer-content {
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;
  }
}
</style>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>